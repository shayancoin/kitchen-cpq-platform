{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/apps/frontend/src/lib/trpc-client.ts"],"sourcesContent":["'use client';\n\nimport { createTRPCReact } from '@trpc/react-query';\nimport { httpBatchLink } from '@trpc/client';\nimport type { AppRouter } from '@kitchen-cpq/shared-trpc';\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL ?? 'http://localhost:3001';\n\nconst getAuthHeaders = () => {\n  if (typeof document === 'undefined') return undefined;\n  const token = document.cookie\n    .split(';')\n    .map((c) => c.trim())\n    .find((c) => c.startsWith('auth_token='))\n    ?.split('=')[1];\n  return token ? { authorization: `Bearer ${token}` } : undefined;\n};\n\nexport const trpc = createTRPCReact<AppRouter>();\n\nexport const createTrpcClient = () =>\n  trpc.createClient({\n    links: [\n      httpBatchLink({\n        url: `${API_BASE}/trpc`,\n        fetch(input, init) {\n          return fetch(input, { ...init, credentials: 'include' });\n        },\n        headers() {\n          return getAuthHeaders();\n        }\n      })\n    ]\n  });\n"],"names":[],"mappings":";;;;;;AAMiB;AAJjB;AACA;AAAA;AAHA;;;AAMA,MAAM,WAAW,6DAAmC;AAEpD,MAAM,iBAAiB;IACrB,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,QAAQ,SAAS,MAAM,CAC1B,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,CAAC,iBACxB,MAAM,IAAI,CAAC,EAAE;IACjB,OAAO,QAAQ;QAAE,eAAe,CAAC,OAAO,EAAE,OAAO;IAAC,IAAI;AACxD;AAEO,MAAM,OAAO,IAAA,mZAAe;AAE5B,MAAM,mBAAmB,IAC9B,KAAK,YAAY,CAAC;QAChB,OAAO;YACL,IAAA,mUAAa,EAAC;gBACZ,KAAK,GAAG,SAAS,KAAK,CAAC;gBACvB,OAAM,KAAK,EAAE,IAAI;oBACf,OAAO,MAAM,OAAO;wBAAE,GAAG,IAAI;wBAAE,aAAa;oBAAU;gBACxD;gBACA;oBACE,OAAO;gBACT;YACF;SACD;IACH"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/apps/frontend/app/providers.tsx"],"sourcesContent":["'use client';\n\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactNode, useState } from 'react';\nimport { createTrpcClient, trpc } from '../src/lib/trpc-client';\n\n/**\n * Wraps `children` with TRPC and TanStack React Query providers so they share a common client and query context.\n *\n * The internal QueryClient is configured to refetch queries every 4000 ms and not refetch on window focus.\n *\n * @param children - The React nodes to render inside the providers.\n * @returns A React element that provides TRPC and React Query contexts to `children`.\n */\nexport function Providers({ children }: { children: ReactNode }) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            refetchInterval: 4000,\n            refetchOnWindowFocus: false\n          }\n        }\n      })\n  );\n\n  const [trpcClient] = useState(() => createTrpcClient());\n\n  return (\n    <trpc.Provider client={trpcClient} queryClient={queryClient}>\n      <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n    </trpc.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;;;AAJA;;;;AAcO,SAAS,UAAU,EAAE,QAAQ,EAA2B;;IAC7D,MAAM,CAAC,YAAY,GAAG,IAAA,2XAAQ;8BAC5B,IACE,IAAI,sQAAW,CAAC;gBACd,gBAAgB;oBACd,SAAS;wBACP,iBAAiB;wBACjB,sBAAsB;oBACxB;gBACF;YACF;;IAGJ,MAAM,CAAC,WAAW,GAAG,IAAA,2XAAQ;8BAAC,IAAM,IAAA,uKAAgB;;IAEpD,qBACE,+YAAC,2JAAI,CAAC,QAAQ;QAAC,QAAQ;QAAY,aAAa;kBAC9C,cAAA,+YAAC,qWAAmB;YAAC,QAAQ;sBAAc;;;;;;;;;;;AAGjD;GApBgB;KAAA"}}]
}