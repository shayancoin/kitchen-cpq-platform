{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/3d-engine/src/engine/updateConfiguration.ts"],"sourcesContent":["import type { ParametricState } from '@kitchen-cpq/shared-types';\nimport type { SceneHandle } from './createKitchenScene';\nimport type { Mesh, InstancedMesh } from '@babylonjs/core';\n\nconst cabinetColor = { r: 0.8, g: 0.72, b: 0.65 };\nlet babylonCache: typeof import('@babylonjs/core') | null = null;\n\nexport async function updateSceneFromState(\n  handle: SceneHandle,\n  state: ParametricState\n): Promise<void> {\n  if (!handle.scene || !handle.engine || !handle.cabinets) {\n    // Fallback: draw basic 2D rectangles\n    const ctx = handle.canvas.getContext('2d');\n    if (ctx) {\n      ctx.clearRect(0, 0, handle.canvas.width, handle.canvas.height);\n      ctx.fillStyle = '#f5f5f5';\n      ctx.fillRect(0, 0, handle.canvas.width, handle.canvas.height);\n      ctx.fillStyle = '#c7b299';\n      state.cabinets.forEach((cab) => {\n        ctx.fillRect(10 + cab.position * 0.05, 50, cab.width * 0.05, 40);\n      });\n    }\n    return;\n  }\n\n  if (!babylonCache) {\n    babylonCache = await import('@babylonjs/core');\n  }\n  const babylon = babylonCache;\n  const { MeshBuilder, Color3, StandardMaterial } = babylon;\n\n  const existing: Map<string, Mesh | InstancedMesh> =\n    (handle.cabinets as Map<string, Mesh | InstancedMesh>) ?? new Map();\n  handle.cabinets = existing;\n\n  if (!handle.cabinetBaseMesh) {\n    handle.cabinetBaseMesh = MeshBuilder.CreateBox('cabinet-base', { size: 1 }, handle.scene);\n    handle.cabinetBaseMesh.isVisible = false;\n  }\n  if (!handle.cabinetMaterial) {\n    const mat = new StandardMaterial('cabinet-mat', handle.scene);\n    mat.diffuseColor = new Color3(cabinetColor.r, cabinetColor.g, cabinetColor.b);\n    handle.cabinetMaterial = mat;\n  }\n  handle.cabinetBaseMesh.material = handle.cabinetMaterial;\n\n  // Remove meshes that no longer exist\n  for (const [id, mesh] of existing.entries()) {\n    if (!state.cabinets.find((c) => c.id === id)) {\n      mesh.dispose();\n      existing.delete(id);\n    }\n  }\n\n  for (const cab of state.cabinets) {\n    let mesh = existing.get(cab.id);\n    if (!mesh) {\n      const instance = handle.cabinetBaseMesh.createInstance(`cab-${cab.id}`);\n      instance.material = handle.cabinetMaterial;\n      mesh = instance;\n      existing.set(cab.id, mesh);\n    }\n    mesh.scaling.x = cab.width;\n    mesh.scaling.y = cab.height;\n    mesh.scaling.z = cab.depth;\n    mesh.position.x = cab.position + cab.width / 2;\n    mesh.position.y = cab.height / 2;\n    mesh.position.z = cab.depth / 2;\n    mesh.rotation.y = (cab.rotationDeg * Math.PI) / 180;\n  }\n}\n"],"names":[],"mappings":";;;;AAIA,MAAM,eAAe;IAAE,GAAG;IAAK,GAAG;IAAM,GAAG;AAAK;AAChD,IAAI,eAAwD;AAErD,eAAe,qBACpB,MAAmB,EACnB,KAAsB;IAEtB,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,MAAM,IAAI,CAAC,OAAO,QAAQ,EAAE;QACvD,qCAAqC;QACrC,MAAM,MAAM,OAAO,MAAM,CAAC,UAAU,CAAC;QACrC,IAAI,KAAK;YACP,IAAI,SAAS,CAAC,GAAG,GAAG,OAAO,MAAM,CAAC,KAAK,EAAE,OAAO,MAAM,CAAC,MAAM;YAC7D,IAAI,SAAS,GAAG;YAChB,IAAI,QAAQ,CAAC,GAAG,GAAG,OAAO,MAAM,CAAC,KAAK,EAAE,OAAO,MAAM,CAAC,MAAM;YAC5D,IAAI,SAAS,GAAG;YAChB,MAAM,QAAQ,CAAC,OAAO,CAAC,CAAC;gBACtB,IAAI,QAAQ,CAAC,KAAK,IAAI,QAAQ,GAAG,MAAM,IAAI,IAAI,KAAK,GAAG,MAAM;YAC/D;QACF;QACA;IACF;IAEA,IAAI,CAAC,cAAc;QACjB,eAAe;IACjB;IACA,MAAM,UAAU;IAChB,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,gBAAgB,EAAE,GAAG;IAElD,MAAM,WACJ,AAAC,OAAO,QAAQ,IAA0C,IAAI;IAChE,OAAO,QAAQ,GAAG;IAElB,IAAI,CAAC,OAAO,eAAe,EAAE;QAC3B,OAAO,eAAe,GAAG,YAAY,SAAS,CAAC,gBAAgB;YAAE,MAAM;QAAE,GAAG,OAAO,KAAK;QACxF,OAAO,eAAe,CAAC,SAAS,GAAG;IACrC;IACA,IAAI,CAAC,OAAO,eAAe,EAAE;QAC3B,MAAM,MAAM,IAAI,iBAAiB,eAAe,OAAO,KAAK;QAC5D,IAAI,YAAY,GAAG,IAAI,OAAO,aAAa,CAAC,EAAE,aAAa,CAAC,EAAE,aAAa,CAAC;QAC5E,OAAO,eAAe,GAAG;IAC3B;IACA,OAAO,eAAe,CAAC,QAAQ,GAAG,OAAO,eAAe;IAExD,qCAAqC;IACrC,KAAK,MAAM,CAAC,IAAI,KAAK,IAAI,SAAS,OAAO,GAAI;QAC3C,IAAI,CAAC,MAAM,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK;YAC5C,KAAK,OAAO;YACZ,SAAS,MAAM,CAAC;QAClB;IACF;IAEA,KAAK,MAAM,OAAO,MAAM,QAAQ,CAAE;QAChC,IAAI,OAAO,SAAS,GAAG,CAAC,IAAI,EAAE;QAC9B,IAAI,CAAC,MAAM;YACT,MAAM,WAAW,OAAO,eAAe,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE;YACtE,SAAS,QAAQ,GAAG,OAAO,eAAe;YAC1C,OAAO;YACP,SAAS,GAAG,CAAC,IAAI,EAAE,EAAE;QACvB;QACA,KAAK,OAAO,CAAC,CAAC,GAAG,IAAI,KAAK;QAC1B,KAAK,OAAO,CAAC,CAAC,GAAG,IAAI,MAAM;QAC3B,KAAK,OAAO,CAAC,CAAC,GAAG,IAAI,KAAK;QAC1B,KAAK,QAAQ,CAAC,CAAC,GAAG,IAAI,QAAQ,GAAG,IAAI,KAAK,GAAG;QAC7C,KAAK,QAAQ,CAAC,CAAC,GAAG,IAAI,MAAM,GAAG;QAC/B,KAAK,QAAQ,CAAC,CAAC,GAAG,IAAI,KAAK,GAAG;QAC9B,KAAK,QAAQ,CAAC,CAAC,GAAG,AAAC,IAAI,WAAW,GAAG,KAAK,EAAE,GAAI;IAClD;AACF"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/3d-engine/src/engine/createKitchenScene.ts"],"sourcesContent":["import type { ParametricState } from '@kitchen-cpq/shared-types';\nimport type { Mesh, InstancedMesh, StandardMaterial } from '@babylonjs/core';\nimport { updateSceneFromState } from './updateConfiguration';\n\ntype BabylonModule = typeof import('@babylonjs/core');\n\nexport interface SceneHandle {\n  id: string;\n  canvas: HTMLCanvasElement;\n  engine?: any;\n  scene?: any;\n  cabinets?: Map<string, Mesh | InstancedMesh>;\n  cabinetMaterial?: StandardMaterial;\n  cabinetBaseMesh?: Mesh;\n  dispose?: () => void;\n}\n\nasync function loadBabylon(): Promise<BabylonModule | null> {\n  try {\n    // Dynamic import so tests without Babylon can still run.\n    const module = await import('@babylonjs/core');\n    return module;\n  } catch (err) {\n    console.warn('Babylon.js not available, falling back to canvas stub', err);\n    return null;\n  }\n}\n\nexport async function createKitchenScene(\n  canvas: HTMLCanvasElement,\n  initialState: ParametricState\n): Promise<SceneHandle> {\n  const babylon = await loadBabylon();\n  const handle: SceneHandle = {\n    id: `scene-${Date.now()}`,\n    canvas,\n    cabinets: new Map()\n  };\n\n  if (!babylon) {\n    // Simple 2D fallback render.\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n      ctx.fillStyle = '#f5f5f5';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n    }\n    return handle;\n  }\n\n  const {\n    Engine,\n    Scene,\n    HemisphericLight,\n    Vector3,\n    ArcRotateCamera,\n    MeshBuilder,\n    Color3,\n    StandardMaterial\n  } = babylon;\n  const engine = new Engine(canvas, true);\n  const scene = new Scene(engine);\n  const camera = new ArcRotateCamera(\n    'camera',\n    Math.PI / 2,\n    Math.PI / 3,\n    6000,\n    new Vector3(0, 1000, 0),\n    scene\n  );\n  camera.attachControl(canvas, true);\n\n  const light = new HemisphericLight('light1', new Vector3(0, 1, 0), scene);\n  light.intensity = 0.8;\n\n  // Floor plane\n  const floor = MeshBuilder.CreateGround(\n    'floor',\n    { width: 5000, height: 5000, subdivisions: 1 },\n    scene\n  );\n  floor.position.y = 0;\n  floor.receiveShadows = true;\n\n  // Walls (simple boxes)\n  const wallMaterial = new StandardMaterial('wall-mat', scene);\n  wallMaterial.diffuseColor = new Color3(0.95, 0.95, 0.95);\n\n  for (const wall of initialState.room.perimeter) {\n    const dx = wall.end.x - wall.start.x;\n    const dy = wall.end.y - wall.start.y;\n    const length = Math.sqrt(dx * dx + dy * dy);\n    if (length < 1) {\n      // Skip degenerate wall segments\n      continue;\n    }\n    const wallMesh = MeshBuilder.CreateBox(\n      `wall-${wall.id}`,\n      { width: length, height: wall.height, depth: wall.thickness },\n      scene\n    );\n    wallMesh.position.x = wall.start.x + dx / 2;\n    wallMesh.position.z = wall.start.y + dy / 2;\n    wallMesh.position.y = wall.height / 2;\n    wallMesh.rotation.y = Math.atan2(dy, dx);\n    wallMesh.material = wallMaterial;\n  }\n\n  // Shared cabinet material and base mesh (unit cube) to enable instancing.\n  const cabinetMaterial = new StandardMaterial('cabinet-mat', scene);\n  cabinetMaterial.diffuseColor = new Color3(0.8, 0.72, 0.65);\n  const cabinetBaseMesh = MeshBuilder.CreateBox('cabinet-base', { size: 1 }, scene);\n  cabinetBaseMesh.material = cabinetMaterial;\n  cabinetBaseMesh.isVisible = false; // use only for instances\n\n  handle.engine = engine;\n  handle.scene = scene;\n  handle.cabinets = new Map();\n  handle.cabinetMaterial = cabinetMaterial;\n  handle.cabinetBaseMesh = cabinetBaseMesh;\n  handle.dispose = () => {\n    scene.dispose();\n    engine.dispose();\n  };\n\n  await updateSceneFromState(handle, initialState);\n  engine.runRenderLoop(() => {\n    scene.render();\n  });\n\n  return handle;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/3d-engine/src/index.ts"],"sourcesContent":["export * from './engine/createKitchenScene';\nexport * from './engine/updateConfiguration';\n\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/layout/Shell.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\n\nexport interface ShellProps {\n  children: ReactNode;\n}\n\nexport function Shell({ children }: ShellProps) {\n  return (\n    <div className=\"flex min-h-screen flex-col bg-gray-50 text-slate-900\">\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,MAAM,EAAE,QAAQ,EAAc;IAC5C,qBACE,+YAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;KANgB"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/utils/cn.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/theme/TenantThemeProvider.tsx"],"sourcesContent":["import type { CSSProperties, PropsWithChildren } from 'react';\nimport type { TenantBranding, ThemePreset } from '@kitchen-cpq/shared-types';\nimport { cn } from '../utils/cn';\n\nconst fallbackBranding: TenantBranding = {\n  primaryColor: '#0f172a',\n  accentColor: '#2563eb',\n  surfaceColor: '#ffffff',\n  subtleBorderColor: '#e2e8f0',\n  navGradient: 'linear-gradient(180deg, #0b1220 0%, #0f172a 60%, #0b1220 100%)',\n  constraintTokens: { ok: '#22c55e', warning: '#f59e0b', error: '#ef4444' },\n  preset: 'default'\n};\n\nconst presetOverrides: Record<ThemePreset, Partial<TenantBranding>> = {\n  default: {},\n  tangerine: {\n    accentColor: '#f97316',\n    surfaceColor: '#0b1220',\n    subtleBorderColor: '#1f2937',\n    navGradient: 'linear-gradient(180deg, #0b1220 0%, #111827 50%, #0b1220 100%)'\n  },\n  brutalist: {\n    accentColor: '#fde047',\n    primaryColor: '#111111',\n    surfaceColor: '#ffffff',\n    subtleBorderColor: '#111111',\n    navGradient: 'linear-gradient(180deg, #000000 0%, #1f1f1f 60%, #0a0a0a 100%)'\n  }\n};\n\nexport const resolveBranding = (branding?: TenantBranding): TenantBranding => {\n  const preset = branding?.preset ?? 'default';\n  return {\n    ...fallbackBranding,\n    ...(presetOverrides[preset] ?? {}),\n    ...branding,\n    preset\n  };\n};\n\nexport function TenantThemeProvider({\n  branding,\n  mode = 'light',\n  children\n}: PropsWithChildren<{ branding?: TenantBranding; mode?: 'light' | 'dark' }>) {\n  const tokens = resolveBranding(branding);\n  const style = {\n    '--brand-primary': tokens.primaryColor,\n    '--brand-accent': tokens.accentColor,\n    '--brand-surface': tokens.surfaceColor ?? fallbackBranding.surfaceColor,\n    '--brand-surface-muted': tokens.surfaceColor\n      ? `color-mix(in srgb, ${tokens.surfaceColor} 92%, #ffffff)`\n      : '#f8fafc',\n    '--brand-border-subtle': tokens.subtleBorderColor ?? fallbackBranding.subtleBorderColor,\n    '--constraint-ok': tokens.constraintTokens?.ok ?? fallbackBranding.constraintTokens?.ok,\n    '--constraint-warning': tokens.constraintTokens?.warning ?? fallbackBranding.constraintTokens?.warning,\n    '--constraint-error': tokens.constraintTokens?.error ?? fallbackBranding.constraintTokens?.error\n  } as CSSProperties;\n\n  return (\n    <div\n      style={style}\n      className={cn(\n        'min-h-screen text-[var(--brand-primary,#0f172a)]',\n        mode === 'dark' ? 'bg-[#0b1220] text-slate-50' : 'bg-slate-50'\n      )}\n      data-theme={tokens.preset ?? 'default'}\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAEA,MAAM,mBAAmC;IACvC,cAAc;IACd,aAAa;IACb,cAAc;IACd,mBAAmB;IACnB,aAAa;IACb,kBAAkB;QAAE,IAAI;QAAW,SAAS;QAAW,OAAO;IAAU;IACxE,QAAQ;AACV;AAEA,MAAM,kBAAgE;IACpE,SAAS,CAAC;IACV,WAAW;QACT,aAAa;QACb,cAAc;QACd,mBAAmB;QACnB,aAAa;IACf;IACA,WAAW;QACT,aAAa;QACb,cAAc;QACd,cAAc;QACd,mBAAmB;QACnB,aAAa;IACf;AACF;AAEO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,SAAS,UAAU,UAAU;IACnC,OAAO;QACL,GAAG,gBAAgB;QACnB,GAAI,eAAe,CAAC,OAAO,IAAI,CAAC,CAAC;QACjC,GAAG,QAAQ;QACX;IACF;AACF;AAEO,SAAS,oBAAoB,EAClC,QAAQ,EACR,OAAO,OAAO,EACd,QAAQ,EACkE;IAC1E,MAAM,SAAS,gBAAgB;IAC/B,MAAM,QAAQ;QACZ,mBAAmB,OAAO,YAAY;QACtC,kBAAkB,OAAO,WAAW;QACpC,mBAAmB,OAAO,YAAY,IAAI,iBAAiB,YAAY;QACvE,yBAAyB,OAAO,YAAY,GACxC,CAAC,mBAAmB,EAAE,OAAO,YAAY,CAAC,cAAc,CAAC,GACzD;QACJ,yBAAyB,OAAO,iBAAiB,IAAI,iBAAiB,iBAAiB;QACvF,mBAAmB,OAAO,gBAAgB,EAAE,MAAM,iBAAiB,gBAAgB,EAAE;QACrF,wBAAwB,OAAO,gBAAgB,EAAE,WAAW,iBAAiB,gBAAgB,EAAE;QAC/F,sBAAsB,OAAO,gBAAgB,EAAE,SAAS,iBAAiB,gBAAgB,EAAE;IAC7F;IAEA,qBACE,+YAAC;QACC,OAAO;QACP,WAAW,IAAA,oJAAE,EACX,oDACA,SAAS,SAAS,+BAA+B;QAEnD,cAAY,OAAO,MAAM,IAAI;kBAE5B;;;;;;AAGP;KA/BgB"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/primitives/Button.tsx"],"sourcesContent":["import type { ButtonHTMLAttributes, PropsWithChildren } from 'react';\nimport { cn } from '../../utils/cn';\n\nexport type ButtonVariant = 'primary' | 'ghost' | 'outline' | 'danger';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant;\n  loading?: boolean;\n}\n\nconst baseClasses =\n  'inline-flex items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2';\n\nconst variantClasses: Record<ButtonVariant, string> = {\n  primary:\n    'bg-[var(--brand-accent,#2563eb)] text-white hover:bg-opacity-90 focus-visible:outline-[var(--brand-accent,#2563eb)]',\n  ghost:\n    'text-[var(--brand-primary,#0f172a)] hover:bg-[var(--brand-surface-muted,#f8fafc)] focus-visible:outline-[var(--brand-primary,#0f172a)]',\n  outline:\n    'border border-[color-mix(in_srgb,var(--brand-primary,#0f172a)_12%,#d5d9e3)] text-[var(--brand-primary,#0f172a)] hover:bg-[var(--brand-surface-muted,#f8fafc)] focus-visible:outline-[var(--brand-accent,#2563eb)]',\n  danger:\n    'bg-red-600 text-white hover:bg-red-700 focus-visible:outline-red-600'\n};\n\nexport function Button({\n  children,\n  variant = 'primary',\n  loading,\n  className,\n  disabled,\n  ...props\n}: PropsWithChildren<ButtonProps>) {\n  return (\n    <button\n      className={cn(baseClasses, variantClasses[variant], disabled || loading ? 'opacity-60' : '', className)}\n      disabled={disabled || loading}\n      {...props}\n    >\n      {loading ? '…' : null}\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AASA,MAAM,cACJ;AAEF,MAAM,iBAAgD;IACpD,SACE;IACF,OACE;IACF,SACE;IACF,QACE;AACJ;AAEO,SAAS,OAAO,EACrB,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,EACP,SAAS,EACT,QAAQ,EACR,GAAG,OAC4B;IAC/B,qBACE,+YAAC;QACC,WAAW,IAAA,oJAAE,EAAC,aAAa,cAAc,CAAC,QAAQ,EAAE,YAAY,UAAU,eAAe,IAAI;QAC7F,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,UAAU,MAAM;YAChB;;;;;;;AAGP;KAlBgB"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/layout/AppShell.tsx"],"sourcesContent":["'use client';\n\nimport type { ComponentType, PropsWithChildren, ReactNode } from 'react';\nimport { useMemo, useState } from 'react';\nimport type { Role, TenantBranding } from '@kitchen-cpq/shared-types';\nimport { cn } from '../../utils/cn';\nimport { TenantThemeProvider } from '../../theme/TenantThemeProvider';\nimport { Button } from '../primitives/Button';\n\nexport type NavItem = {\n  label: string;\n  href: string;\n  icon?: ReactNode;\n  badge?: ReactNode;\n  roles?: Role[];\n};\n\nexport type UserProfile = {\n  name: string;\n  email?: string;\n  roles: Role[];\n};\n\ntype LinkRendererProps = PropsWithChildren<{ href: string; className?: string }>;\n\nconst DefaultLink: ComponentType<LinkRendererProps> = ({ href, className, children }) => (\n  <a href={href} className={className}>\n    {children}\n  </a>\n);\n\ntype AppShellProps = PropsWithChildren<{\n  navItems: NavItem[];\n  user?: UserProfile;\n  tenantName?: string;\n  branding?: TenantBranding;\n  topbarContent?: ReactNode;\n  linkComponent?: ComponentType<LinkRendererProps>;\n  onSignOut?: () => void;\n}>;\n\nexport function AppShell({\n  navItems,\n  user,\n  tenantName,\n  branding,\n  topbarContent,\n  linkComponent: LinkComponent = DefaultLink,\n  onSignOut,\n  children\n}: AppShellProps) {\n  const [open, setOpen] = useState(false);\n  const userRoles = user?.roles ?? [];\n\n  const allowedItems = useMemo(() => {\n    if (!userRoles.length) return navItems;\n    return navItems.filter((item) => !item.roles || item.roles.some((role) => userRoles.includes(role)));\n  }, [navItems, userRoles]);\n\n  return (\n    <TenantThemeProvider branding={branding}>\n      <div className=\"flex min-h-screen bg-[var(--brand-surface,#f8fafc)] text-[var(--brand-primary,#0f172a)]\">\n        <aside\n          className={cn(\n            'fixed inset-y-0 left-0 z-20 w-64 transform border-r border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] bg-[var(--brand-surface,#0b1220)]/95 backdrop-blur transition-transform lg:translate-x-0',\n            open ? 'translate-x-0' : '-translate-x-full'\n          )}\n          style={branding?.navGradient ? { backgroundImage: branding.navGradient } : undefined}\n        >\n          <div className=\"flex items-center gap-2 px-4 py-4 text-sm font-semibold text-white\">\n            <div className=\"h-9 w-9 rounded-lg bg-[color-mix(in_srgb,var(--brand-accent,#f97316)_70%,#0f172a)]\" />\n            <div>\n              <div className=\"text-xs uppercase tracking-[0.08em] text-slate-300\">{tenantName ?? 'Tenant'}</div>\n              <div className=\"text-base font-semibold text-white\">Kitchen CPQ</div>\n            </div>\n          </div>\n          <nav className=\"mt-2 space-y-1 px-3\">\n            {allowedItems.map((item) => (\n              <LinkComponent\n                key={item.href}\n                href={item.href}\n                className={cn(\n                  'flex items-center justify-between gap-2 rounded-lg px-3 py-2 text-sm font-medium text-slate-100 hover:bg-white/10',\n                  'transition-colors'\n                )}\n              >\n                <span className=\"flex items-center gap-2\">\n                  {item.icon ? <span className=\"text-slate-300\">{item.icon}</span> : null}\n                  <span>{item.label}</span>\n                </span>\n                {item.badge ? <span className=\"text-xs text-slate-300\">{item.badge}</span> : null}\n              </LinkComponent>\n            ))}\n          </nav>\n          <div className=\"mt-auto hidden px-3 pb-4 pt-6 lg:block\">\n            {user ? (\n              <div className=\"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-slate-100\">\n                <div className=\"font-semibold\">{user.name}</div>\n                {user.email ? <div className=\"text-slate-300\">{user.email}</div> : null}\n                <div className=\"text-slate-400\">{user.roles.join(', ')}</div>\n              </div>\n            ) : null}\n          </div>\n        </aside>\n\n        <div className=\"flex min-h-screen flex-1 flex-col lg:pl-64\">\n          <header className=\"sticky top-0 z-10 flex items-center justify-between gap-2 border-b border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] bg-[var(--brand-surface,#ffffff)]/95 px-4 py-3 backdrop-blur\">\n            <div className=\"flex items-center gap-2\">\n              <button\n                className=\"rounded-md border border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] px-2 py-1 text-sm font-semibold text-[var(--brand-primary,#0f172a)] lg:hidden\"\n                onClick={() => setOpen((prev) => !prev)}\n              >\n                {open ? 'Close' : 'Menu'}\n              </button>\n              <div className=\"hidden text-sm font-semibold text-[var(--brand-primary,#0f172a)] sm:block\">\n                {tenantName ?? 'Kitchen CPQ'}\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {topbarContent}\n              {onSignOut ? (\n                <Button variant=\"outline\" onClick={onSignOut} className=\"hidden sm:inline-flex\">\n                  Sign out\n                </Button>\n              ) : null}\n            </div>\n          </header>\n          <main className=\"flex-1 bg-[var(--brand-surface-muted,#f8fafc)] px-4 pb-10 pt-6\">{children}</main>\n        </div>\n      </div>\n    </TenantThemeProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AACA;AACA;;;AAPA;;;;;AAyBA,MAAM,cAAgD,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,iBAClF,+YAAC;QAAE,MAAM;QAAM,WAAW;kBACvB;;;;;;KAFC;AAgBC,SAAS,SAAS,EACvB,QAAQ,EACR,IAAI,EACJ,UAAU,EACV,QAAQ,EACR,aAAa,EACb,eAAe,gBAAgB,WAAW,EAC1C,SAAS,EACT,QAAQ,EACM;;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,2XAAQ,EAAC;IACjC,MAAM,YAAY,MAAM,SAAS,EAAE;IAEnC,MAAM,eAAe,IAAA,0XAAO;0CAAC;YAC3B,IAAI,CAAC,UAAU,MAAM,EAAE,OAAO;YAC9B,OAAO,SAAS,MAAM;kDAAC,CAAC,OAAS,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK,CAAC,IAAI;0DAAC,CAAC,OAAS,UAAU,QAAQ,CAAC;;;QAC/F;yCAAG;QAAC;QAAU;KAAU;IAExB,qBACE,+YAAC,uLAAmB;QAAC,UAAU;kBAC7B,cAAA,+YAAC;YAAI,WAAU;;8BACb,+YAAC;oBACC,WAAW,IAAA,oJAAE,EACX,+NACA,OAAO,kBAAkB;oBAE3B,OAAO,UAAU,cAAc;wBAAE,iBAAiB,SAAS,WAAW;oBAAC,IAAI;;sCAE3E,+YAAC;4BAAI,WAAU;;8CACb,+YAAC;oCAAI,WAAU;;;;;;8CACf,+YAAC;;sDACC,+YAAC;4CAAI,WAAU;sDAAsD,cAAc;;;;;;sDACnF,+YAAC;4CAAI,WAAU;sDAAqC;;;;;;;;;;;;;;;;;;sCAGxD,+YAAC;4BAAI,WAAU;sCACZ,aAAa,GAAG,CAAC,CAAC,qBACjB,+YAAC;oCAEC,MAAM,KAAK,IAAI;oCACf,WAAW,IAAA,oJAAE,EACX,qHACA;;sDAGF,+YAAC;4CAAK,WAAU;;gDACb,KAAK,IAAI,iBAAG,+YAAC;oDAAK,WAAU;8DAAkB,KAAK,IAAI;;;;;2DAAW;8DACnE,+YAAC;8DAAM,KAAK,KAAK;;;;;;;;;;;;wCAElB,KAAK,KAAK,iBAAG,+YAAC;4CAAK,WAAU;sDAA0B,KAAK,KAAK;;;;;mDAAW;;mCAXxE,KAAK,IAAI;;;;;;;;;;sCAepB,+YAAC;4BAAI,WAAU;sCACZ,qBACC,+YAAC;gCAAI,WAAU;;kDACb,+YAAC;wCAAI,WAAU;kDAAiB,KAAK,IAAI;;;;;;oCACxC,KAAK,KAAK,iBAAG,+YAAC;wCAAI,WAAU;kDAAkB,KAAK,KAAK;;;;;+CAAU;kDACnE,+YAAC;wCAAI,WAAU;kDAAkB,KAAK,KAAK,CAAC,IAAI,CAAC;;;;;;;;;;;uCAEjD;;;;;;;;;;;;8BAIR,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;4BAAO,WAAU;;8CAChB,+YAAC;oCAAI,WAAU;;sDACb,+YAAC;4CACC,WAAU;4CACV,SAAS,IAAM,QAAQ,CAAC,OAAS,CAAC;sDAEjC,OAAO,UAAU;;;;;;sDAEpB,+YAAC;4CAAI,WAAU;sDACZ,cAAc;;;;;;;;;;;;8CAGnB,+YAAC;oCAAI,WAAU;;wCACZ;wCACA,0BACC,+YAAC,gLAAM;4CAAC,SAAQ;4CAAU,SAAS;4CAAW,WAAU;sDAAwB;;;;;mDAG9E;;;;;;;;;;;;;sCAGR,+YAAC;4BAAK,WAAU;sCAAkE;;;;;;;;;;;;;;;;;;;;;;;AAK5F;GA3FgB;MAAA"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/layout/SectionHeader.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { cn } from '../../utils/cn';\n\ntype SectionHeaderProps = {\n  label?: string;\n  title: ReactNode;\n  description?: ReactNode;\n  actions?: ReactNode;\n  className?: string;\n};\n\nexport function SectionHeader({ label, title, description, actions, className }: SectionHeaderProps) {\n  return (\n    <div className={cn('flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between', className)}>\n      <div className=\"space-y-1\">\n        {label ? <p className=\"text-xs uppercase tracking-[0.08em] text-slate-500\">{label}</p> : null}\n        <div className=\"text-2xl font-semibold text-[var(--brand-primary,#0f172a)]\">{title}</div>\n        {description ? <p className=\"text-sm text-slate-600 max-w-2xl\">{description}</p> : null}\n      </div>\n      {actions ? <div className=\"flex flex-wrap items-center gap-2\">{actions}</div> : null}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAUO,SAAS,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,SAAS,EAAsB;IACjG,qBACE,+YAAC;QAAI,WAAW,IAAA,oJAAE,EAAC,qEAAqE;;0BACtF,+YAAC;gBAAI,WAAU;;oBACZ,sBAAQ,+YAAC;wBAAE,WAAU;kCAAsD;;;;;+BAAa;kCACzF,+YAAC;wBAAI,WAAU;kCAA8D;;;;;;oBAC5E,4BAAc,+YAAC;wBAAE,WAAU;kCAAoC;;;;;+BAAmB;;;;;;;YAEpF,wBAAU,+YAAC;gBAAI,WAAU;0BAAqC;;;;;uBAAiB;;;;;;;AAGtF;KAXgB"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/layout/ThreePane.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { cn } from '../../utils/cn';\n\nexport function ThreePaneLayout({\n  left,\n  center,\n  right,\n  className\n}: {\n  left: ReactNode;\n  center: ReactNode;\n  right: ReactNode;\n  className?: string;\n}) {\n  return (\n    <div className={cn('grid gap-4 lg:grid-cols-[320px_1fr_360px] xl:grid-cols-[360px_1fr_400px]', className)}>\n      <div className=\"space-y-3\">{left}</div>\n      <div className=\"space-y-3\">{center}</div>\n      <div className=\"space-y-3\">{right}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,gBAAgB,EAC9B,IAAI,EACJ,MAAM,EACN,KAAK,EACL,SAAS,EAMV;IACC,qBACE,+YAAC;QAAI,WAAW,IAAA,oJAAE,EAAC,4EAA4E;;0BAC7F,+YAAC;gBAAI,WAAU;0BAAa;;;;;;0BAC5B,+YAAC;gBAAI,WAAU;0BAAa;;;;;;0BAC5B,+YAAC;gBAAI,WAAU;0BAAa;;;;;;;;;;;;AAGlC;KAlBgB"}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/primitives/Card.tsx"],"sourcesContent":["import type { PropsWithChildren, ReactNode } from 'react';\nimport { cn } from '../../utils/cn';\n\ntype CardProps = PropsWithChildren<{\n  title?: ReactNode;\n  subtitle?: ReactNode;\n  className?: string;\n  actions?: ReactNode;\n}>;\n\nexport function Card({ title, subtitle, actions, className, children }: CardProps) {\n  return (\n    <div\n      className={cn(\n        'rounded-xl border border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] bg-[var(--brand-surface,#ffffff)] shadow-sm',\n        className\n      )}\n    >\n      {(title || actions) && (\n        <div className=\"flex items-start justify-between gap-2 border-b border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] px-4 py-3\">\n          <div>\n            {title ? <div className=\"text-sm font-semibold text-[var(--brand-primary,#0f172a)]\">{title}</div> : null}\n            {subtitle ? <div className=\"text-xs text-slate-500\">{subtitle}</div> : null}\n          </div>\n          {actions ? <div className=\"flex items-center gap-2\">{actions}</div> : null}\n        </div>\n      )}\n      <div className=\"px-4 py-3 text-sm text-slate-800\">{children}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AASO,SAAS,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAa;IAC/E,qBACE,+YAAC;QACC,WAAW,IAAA,oJAAE,EACX,gJACA;;YAGD,CAAC,SAAS,OAAO,mBAChB,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;;4BACE,sBAAQ,+YAAC;gCAAI,WAAU;0CAA6D;;;;;uCAAe;4BACnG,yBAAW,+YAAC;gCAAI,WAAU;0CAA0B;;;;;uCAAkB;;;;;;;oBAExE,wBAAU,+YAAC;wBAAI,WAAU;kCAA2B;;;;;+BAAiB;;;;;;;0BAG1E,+YAAC;gBAAI,WAAU;0BAAoC;;;;;;;;;;;;AAGzD;KApBgB"}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/primitives/Badge.tsx"],"sourcesContent":["import type { PropsWithChildren } from 'react';\nimport { cn } from '../../utils/cn';\n\nexport type BadgeTone = 'neutral' | 'success' | 'warning' | 'error' | 'info';\n\nconst toneClasses: Record<BadgeTone, string> = {\n  neutral: 'bg-slate-100 text-slate-800 border border-slate-200',\n  success: 'bg-emerald-50 text-emerald-700 border border-emerald-100',\n  warning: 'bg-amber-50 text-amber-800 border border-amber-100',\n  error: 'bg-red-50 text-red-700 border border-red-100',\n  info: 'bg-blue-50 text-blue-700 border border-blue-100'\n};\n\nexport function Badge({ tone = 'neutral', className, children }: PropsWithChildren<{ tone?: BadgeTone; className?: string }>) {\n  return (\n    <span className={cn('inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-semibold', toneClasses[tone], className)}>\n      {children}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAIA,MAAM,cAAyC;IAC7C,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,MAAM;AACR;AAEO,SAAS,MAAM,EAAE,OAAO,SAAS,EAAE,SAAS,EAAE,QAAQ,EAA+D;IAC1H,qBACE,+YAAC;QAAK,WAAW,IAAA,oJAAE,EAAC,iFAAiF,WAAW,CAAC,KAAK,EAAE;kBACrH;;;;;;AAGP;KANgB"}},
    {"offset": {"line": 875, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/primitives/Input.tsx"],"sourcesContent":["import type { InputHTMLAttributes } from 'react';\nimport { cn } from '../../utils/cn';\n\nexport function Input({ className, ...props }: InputHTMLAttributes<HTMLInputElement>) {\n  return (\n    <input\n      className={cn(\n        'w-full rounded-md border border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] bg-white px-3 py-2 text-sm text-[var(--brand-primary,#0f172a)] shadow-inner focus:border-[var(--brand-accent,#2563eb)] focus:outline-none focus:ring-2 focus:ring-[color-mix(in_srgb,var(--brand-accent,#2563eb)_40%,transparent)]',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAA8C;IAClF,qBACE,+YAAC;QACC,WAAW,IAAA,oJAAE,EACX,8UACA;QAED,GAAG,KAAK;;;;;;AAGf;KAVgB"}},
    {"offset": {"line": 903, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/primitives/TextArea.tsx"],"sourcesContent":["import type { TextareaHTMLAttributes } from 'react';\nimport { cn } from '../../utils/cn';\n\nexport function TextArea({ className, ...props }: TextareaHTMLAttributes<HTMLTextAreaElement>) {\n  return (\n    <textarea\n      className={cn(\n        'w-full rounded-md border border-[color-mix(in_srgb,var(--brand-border-subtle,#e2e8f0)_80%,transparent)] bg-white px-3 py-2 text-sm text-[var(--brand-primary,#0f172a)] shadow-inner focus:border-[var(--brand-accent,#2563eb)] focus:outline-none focus:ring-2 focus:ring-[color-mix(in_srgb,var(--brand-accent,#2563eb)_40%,transparent)]',\n        className\n      )}\n      {...props}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoD;IAC3F,qBACE,+YAAC;QACC,WAAW,IAAA,oJAAE,EACX,8UACA;QAED,GAAG,KAAK;;;;;;AAGf;KAVgB"}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/primitives/Skeleton.tsx"],"sourcesContent":["import { cn } from '../../utils/cn';\n\nexport function Skeleton({ className }: { className?: string }) {\n  return <div className={cn('animate-pulse rounded-md bg-slate-200', className)} />;\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS,SAAS,EAAE,SAAS,EAA0B;IAC5D,qBAAO,+YAAC;QAAI,WAAW,IAAA,oJAAE,EAAC,yCAAyC;;;;;;AACrE;KAFgB"}},
    {"offset": {"line": 958, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/data/DataTable.tsx"],"sourcesContent":["'use client';\n\nimport { flexRender, getCoreRowModel, useReactTable, type ColumnDef } from '@tanstack/react-table';\nimport type { ReactNode } from 'react';\nimport { cn } from '../../utils/cn';\n\ntype DataTableProps<T> = {\n  data: T[];\n  columns: ColumnDef<T>[];\n  loading?: boolean;\n  emptyState?: ReactNode;\n  onRowClick?: (row: T) => void;\n  dense?: boolean;\n};\n\nexport function DataTable<T>({ data, columns, loading, emptyState, onRowClick, dense }: DataTableProps<T>) {\n  const table = useReactTable({ data, columns, getCoreRowModel: getCoreRowModel() });\n\n  if (loading) {\n    return <div className=\"rounded-lg border border-slate-200 bg-white p-4 text-sm text-slate-600\">Loading…</div>;\n  }\n\n  if (!data.length) {\n    return (\n      <div className=\"rounded-lg border border-dashed border-slate-300 bg-white p-6 text-sm text-slate-500\">\n        {emptyState ?? 'No records found.'}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overflow-hidden rounded-lg border border-slate-200 bg-white shadow-sm\">\n      <table className={cn('w-full border-collapse text-left text-sm', dense ? 'text-xs' : 'text-sm')}>\n        <thead className=\"bg-slate-50 text-xs uppercase tracking-wide text-slate-500\">\n          {table.getHeaderGroups().map((headerGroup) => (\n            <tr key={headerGroup.id}>\n              {headerGroup.headers.map((header) => (\n                <th key={header.id} className=\"px-3 py-2\">\n                  {header.isPlaceholder ? null : flexRender(header.column.columnDef.header, header.getContext())}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody className=\"divide-y divide-slate-100\">\n          {table.getRowModel().rows.map((row) => (\n            <tr\n              key={row.id}\n              className={cn('hover:bg-slate-50', onRowClick ? 'cursor-pointer' : '')}\n              onClick={() => (onRowClick ? onRowClick(row.original) : undefined)}\n            >\n              {row.getVisibleCells().map((cell) => (\n                <td key={cell.id} className=\"px-3 py-2 align-middle\">\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAEA;;;AAJA;;;AAeO,SAAS,UAAa,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,KAAK,EAAqB;;IACvG,MAAM,QAAQ,IAAA,iWAAa,EAAC;QAAE;QAAM;QAAS,iBAAiB,IAAA,oQAAe;IAAG;IAEhF,IAAI,SAAS;QACX,qBAAO,+YAAC;YAAI,WAAU;sBAAyE;;;;;;IACjG;IAEA,IAAI,CAAC,KAAK,MAAM,EAAE;QAChB,qBACE,+YAAC;YAAI,WAAU;sBACZ,cAAc;;;;;;IAGrB;IAEA,qBACE,+YAAC;QAAI,WAAU;kBACb,cAAA,+YAAC;YAAM,WAAW,IAAA,oJAAE,EAAC,4CAA4C,QAAQ,YAAY;;8BACnF,+YAAC;oBAAM,WAAU;8BACd,MAAM,eAAe,GAAG,GAAG,CAAC,CAAC,4BAC5B,+YAAC;sCACE,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC,uBACxB,+YAAC;oCAAmB,WAAU;8CAC3B,OAAO,aAAa,GAAG,OAAO,IAAA,8VAAU,EAAC,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,UAAU;mCADpF,OAAO,EAAE;;;;;2BAFb,YAAY,EAAE;;;;;;;;;;8BAS3B,+YAAC;oBAAM,WAAU;8BACd,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,oBAC7B,+YAAC;4BAEC,WAAW,IAAA,oJAAE,EAAC,qBAAqB,aAAa,mBAAmB;4BACnE,SAAS,IAAO,aAAa,WAAW,IAAI,QAAQ,IAAI;sCAEvD,IAAI,eAAe,GAAG,GAAG,CAAC,CAAC,qBAC1B,+YAAC;oCAAiB,WAAU;8CACzB,IAAA,8VAAU,EAAC,KAAK,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,UAAU;mCADhD,KAAK,EAAE;;;;;2BALb,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;AAezB;GA/CgB;;QACA,iWAAa;;;KADb"}},
    {"offset": {"line": 1074, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/cpq/MarginBadge.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { Badge } from '../primitives/Badge';\n\nexport function MarginBadge({ value }: { value: number }) {\n  let tone: Parameters<typeof Badge>[0]['tone'] = 'neutral';\n  if (value >= 22) tone = 'success';\n  else if (value >= 15) tone = 'warning';\n  else tone = 'error';\n\n  return <Badge tone={tone}>{value.toFixed(0)}% margin</Badge>;\n}\n\nexport function ConstraintBadge({\n  severity,\n  count,\n  label\n}: {\n  severity: 'ok' | 'warning' | 'error';\n  count?: number;\n  label?: ReactNode;\n}) {\n  const tone = severity === 'error' ? 'error' : severity === 'warning' ? 'warning' : 'success';\n  return <Badge tone={tone}>{label ?? `${count ?? 0} constraints`}</Badge>;\n}\n"],"names":[],"mappings":";;;;;;;AACA;;;AAEO,SAAS,YAAY,EAAE,KAAK,EAAqB;IACtD,IAAI,OAA4C;IAChD,IAAI,SAAS,IAAI,OAAO;SACnB,IAAI,SAAS,IAAI,OAAO;SACxB,OAAO;IAEZ,qBAAO,+YAAC,8KAAK;QAAC,MAAM;;YAAO,MAAM,OAAO,CAAC;YAAG;;;;;;;AAC9C;KAPgB;AAST,SAAS,gBAAgB,EAC9B,QAAQ,EACR,KAAK,EACL,KAAK,EAKN;IACC,MAAM,OAAO,aAAa,UAAU,UAAU,aAAa,YAAY,YAAY;IACnF,qBAAO,+YAAC,8KAAK;QAAC,MAAM;kBAAO,SAAS,GAAG,SAAS,EAAE,YAAY,CAAC;;;;;;AACjE;MAXgB"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/cpq/QuoteTable.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo } from 'react';\nimport type { QuoteSummary } from '@kitchen-cpq/shared-types';\nimport { ColumnDef } from '@tanstack/react-table';\nimport { DataTable } from '../data/DataTable';\nimport { MarginBadge } from './MarginBadge';\nimport { Badge } from '../primitives/Badge';\n\ntype QuoteTableProps = {\n  quotes: QuoteSummary[];\n  loading?: boolean;\n  onSelect?: (quoteId: string) => void;\n};\n\nconst statusTone: Record<QuoteSummary['status'], Parameters<typeof Badge>[0]['tone']> = {\n  draft: 'neutral',\n  submitted: 'info',\n  approved: 'success',\n  rejected: 'error',\n  expired: 'warning'\n};\n\nexport function QuoteTable({ quotes, loading = false, onSelect }: QuoteTableProps): JSX.Element {\n  const columns = useMemo<ColumnDef<QuoteSummary>[]>(\n    () => [\n      { accessorKey: 'id', header: 'Quote' },\n      { accessorKey: 'projectId', header: 'Project' },\n      {\n        accessorKey: 'status',\n        header: 'Status',\n        cell: ({ row }) => <Badge tone={statusTone[row.original.status]}>{row.original.status}</Badge>\n      },\n      {\n        accessorKey: 'total',\n        header: 'Amount',\n        cell: ({ row }) => `${row.original.currency} ${row.original.total.toFixed(2)}`\n      },\n      {\n        accessorKey: 'marginPercent',\n        header: 'Margin',\n        cell: ({ row }) => <MarginBadge value={row.original.marginPercent} />\n      },\n      {\n        accessorKey: 'updatedAt',\n        header: 'Updated',\n        cell: ({ row }) => new Date(row.original.updatedAt).toLocaleString()\n      }\n    ],\n    []\n  );\n\n  return <DataTable data={quotes} columns={columns} loading={loading} onRowClick={(row) => onSelect?.(row.id)} />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAGA;AACA;AACA;;;AAPA;;;;;AAeA,MAAM,aAAkF;IACtF,OAAO;IACP,WAAW;IACX,UAAU;IACV,UAAU;IACV,SAAS;AACX;AAEO,SAAS,WAAW,EAAE,MAAM,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAmB;;IAC/E,MAAM,UAAU,IAAA,0XAAO;uCACrB,IAAM;gBACJ;oBAAE,aAAa;oBAAM,QAAQ;gBAAQ;gBACrC;oBAAE,aAAa;oBAAa,QAAQ;gBAAU;gBAC9C;oBACE,aAAa;oBACb,QAAQ;oBACR,IAAI;uDAAE,CAAC,EAAE,GAAG,EAAE,iBAAK,+YAAC,8KAAK;gCAAC,MAAM,UAAU,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC;0CAAG,IAAI,QAAQ,CAAC,MAAM;;;;;;;gBACvF;gBACA;oBACE,aAAa;oBACb,QAAQ;oBACR,IAAI;uDAAE,CAAC,EAAE,GAAG,EAAE,GAAK,GAAG,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI;;gBAChF;gBACA;oBACE,aAAa;oBACb,QAAQ;oBACR,IAAI;uDAAE,CAAC,EAAE,GAAG,EAAE,iBAAK,+YAAC,mLAAW;gCAAC,OAAO,IAAI,QAAQ,CAAC,aAAa;;;;;;;gBACnE;gBACA;oBACE,aAAa;oBACb,QAAQ;oBACR,IAAI;uDAAE,CAAC,EAAE,GAAG,EAAE,GAAK,IAAI,KAAK,IAAI,QAAQ,CAAC,SAAS,EAAE,cAAc;;gBACpE;aACD;sCACD,EAAE;IAGJ,qBAAO,+YAAC,gLAAS;QAAC,MAAM;QAAQ,SAAS;QAAS,SAAS;QAAS,YAAY,CAAC,MAAQ,WAAW,IAAI,EAAE;;;;;;AAC5G;GA9BgB;KAAA"}},
    {"offset": {"line": 1224, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/cpq/CpqSummaryBar.tsx"],"sourcesContent":["import type { CpqSummaryBarState } from '@kitchen-cpq/shared-types';\nimport { ConstraintBadge, MarginBadge } from './MarginBadge';\n\nexport function CpqSummaryBar({ state }: { state: CpqSummaryBarState }) {\n  return (\n    <div className=\"flex flex-wrap items-center gap-3 rounded-lg border border-slate-200 bg-white px-4 py-3 shadow-sm\">\n      <div className=\"text-lg font-semibold text-[var(--brand-primary,#0f172a)]\">\n        {state.currency} {state.total.toFixed(2)}\n      </div>\n      <div className=\"text-xs text-slate-500\">Tax {state.currency} {state.tax.toFixed(2)}</div>\n      <MarginBadge value={state.marginPercent} />\n      <ConstraintBadge severity={state.hasBlockingErrors ? 'error' : 'ok'} label={state.hasBlockingErrors ? 'Blocking constraints' : 'Constraints clear'} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,cAAc,EAAE,KAAK,EAAiC;IACpE,qBACE,+YAAC;QAAI,WAAU;;0BACb,+YAAC;gBAAI,WAAU;;oBACZ,MAAM,QAAQ;oBAAC;oBAAE,MAAM,KAAK,CAAC,OAAO,CAAC;;;;;;;0BAExC,+YAAC;gBAAI,WAAU;;oBAAyB;oBAAK,MAAM,QAAQ;oBAAC;oBAAE,MAAM,GAAG,CAAC,OAAO,CAAC;;;;;;;0BAChF,+YAAC,mLAAW;gBAAC,OAAO,MAAM,aAAa;;;;;;0BACvC,+YAAC,uLAAe;gBAAC,UAAU,MAAM,iBAAiB,GAAG,UAAU;gBAAM,OAAO,MAAM,iBAAiB,GAAG,yBAAyB;;;;;;;;;;;;AAGrI;KAXgB"}},
    {"offset": {"line": 1293, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/auth/LoginForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nexport type LoginFormProps = {\n  defaultEmail?: string;\n  defaultTenantId?: string;\n  loading?: boolean;\n  error?: string | null;\n  onSubmit: (values: { email: string; tenantId: string }) => void | Promise<void>;\n};\n\nexport function LoginForm({\n  defaultEmail = '',\n  defaultTenantId = '',\n  loading = false,\n  error,\n  onSubmit\n}: LoginFormProps): JSX.Element {\n  const [email, setEmail] = useState(defaultEmail);\n  const [tenantId, setTenantId] = useState(defaultTenantId);\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    await onSubmit({ email, tenantId });\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className=\"w-full max-w-md space-y-4 rounded-xl bg-white p-6 shadow-lg\"\n    >\n      <div className=\"space-y-1\">\n        <p className=\"text-sm text-slate-500\">Kitchen CPQ</p>\n        <h1 className=\"text-2xl font-semibold text-slate-900\">Sign in</h1>\n      </div>\n      <label className=\"block space-y-1\">\n        <span className=\"text-sm text-slate-700\">Email</span>\n        <input\n          className=\"w-full rounded-md border border-slate-200 px-3 py-2 text-sm\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          type=\"email\"\n          name=\"email\"\n          required\n        />\n      </label>\n      <label className=\"block space-y-1\">\n        <span className=\"text-sm text-slate-700\">Tenant</span>\n        <input\n          className=\"w-full rounded-md border border-slate-200 px-3 py-2 text-sm\"\n          value={tenantId}\n          onChange={(e) => setTenantId(e.target.value)}\n          name=\"tenant\"\n          required\n        />\n      </label>\n      {error ? <p className=\"text-sm text-red-600\">{error}</p> : null}\n      <button\n        type=\"submit\"\n        disabled={loading}\n        className=\"w-full rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:opacity-60\"\n      >\n        {loading ? 'Signing in…' : 'Sign in'}\n      </button>\n      <p className=\"text-xs text-slate-500\">\n        Issues a short-lived JWT from the API and stores it in an auth_token cookie for tRPC calls.\n      </p>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAUO,SAAS,UAAU,EACxB,eAAe,EAAE,EACjB,kBAAkB,EAAE,EACpB,UAAU,KAAK,EACf,KAAK,EACL,QAAQ,EACO;;IACf,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2XAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2XAAQ,EAAC;IAEzC,MAAM,eAAe,OAAO;QAC1B,MAAM,cAAc;QACpB,MAAM,SAAS;YAAE;YAAO;QAAS;IACnC;IAEA,qBACE,+YAAC;QACC,UAAU;QACV,WAAU;;0BAEV,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAE,WAAU;kCAAyB;;;;;;kCACtC,+YAAC;wBAAG,WAAU;kCAAwC;;;;;;;;;;;;0BAExD,+YAAC;gBAAM,WAAU;;kCACf,+YAAC;wBAAK,WAAU;kCAAyB;;;;;;kCACzC,+YAAC;wBACC,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,MAAK;wBACL,MAAK;wBACL,QAAQ;;;;;;;;;;;;0BAGZ,+YAAC;gBAAM,WAAU;;kCACf,+YAAC;wBAAK,WAAU;kCAAyB;;;;;;kCACzC,+YAAC;wBACC,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,MAAK;wBACL,QAAQ;;;;;;;;;;;;YAGX,sBAAQ,+YAAC;gBAAE,WAAU;0BAAwB;;;;;uBAAa;0BAC3D,+YAAC;gBACC,MAAK;gBACL,UAAU;gBACV,WAAU;0BAET,UAAU,gBAAgB;;;;;;0BAE7B,+YAAC;gBAAE,WAAU;0BAAyB;;;;;;;;;;;;AAK5C;GA1DgB;KAAA"}},
    {"offset": {"line": 1443, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/manufacturing/BomTable.tsx"],"sourcesContent":["import type { BomItem } from '@kitchen-cpq/shared-types';\nimport { ColumnDef } from '@tanstack/react-table';\nimport { DataTable } from '../data/DataTable';\n\nconst columns: ColumnDef<BomItem>[] = [\n  { accessorKey: 'sku', header: 'SKU' },\n  { accessorKey: 'description', header: 'Description' },\n  { accessorKey: 'quantity', header: 'Qty', cell: ({ getValue }) => Number(getValue<number>()).toFixed(0) },\n  { accessorKey: 'uom', header: 'UoM' }\n];\n\nexport function BomTable({ items }: { items: BomItem[] }) {\n  return <DataTable data={items} columns={columns} dense emptyState=\"No BOM items\" />;\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,MAAM,UAAgC;IACpC;QAAE,aAAa;QAAO,QAAQ;IAAM;IACpC;QAAE,aAAa;QAAe,QAAQ;IAAc;IACpD;QAAE,aAAa;QAAY,QAAQ;QAAO,MAAM,CAAC,EAAE,QAAQ,EAAE,GAAK,OAAO,YAAoB,OAAO,CAAC;IAAG;IACxG;QAAE,aAAa;QAAO,QAAQ;IAAM;CACrC;AAEM,SAAS,SAAS,EAAE,KAAK,EAAwB;IACtD,qBAAO,+YAAC,gLAAS;QAAC,MAAM;QAAO,SAAS;QAAS,KAAK;QAAC,YAAW;;;;;;AACpE;KAFgB"}},
    {"offset": {"line": 1492, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/manufacturing/CncJobCard.tsx"],"sourcesContent":["import type { ManufacturingJob } from '@kitchen-cpq/shared-types';\nimport { Badge } from '../primitives/Badge';\nimport { Card } from '../primitives/Card';\n\nconst statusTone: Record<ManufacturingJob['status'], 'warning' | 'info' | 'success' | 'error' | 'neutral'> = {\n  pending: 'warning',\n  scheduled: 'info',\n  in_progress: 'info',\n  completed: 'success',\n  failed: 'error'\n};\n\nexport function CncJobCard({ job }: { job: ManufacturingJob }) {\n  return (\n    <Card\n      title={`Job ${job.id}`}\n      subtitle={`Project ${job.projectId}`}\n      actions={<Badge tone={statusTone[job.status]}>{job.status.replace('_', ' ')}</Badge>}\n    >\n      <dl className=\"grid grid-cols-2 gap-3 text-xs text-slate-600\">\n        <div>\n          <dt className=\"text-[11px] uppercase tracking-wide text-slate-500\">Catalog</dt>\n          <dd className=\"font-semibold text-[var(--brand-primary,#0f172a)]\">{job.catalogVersion.id}</dd>\n        </div>\n        <div>\n          <dt className=\"text-[11px] uppercase tracking-wide text-slate-500\">Updated</dt>\n          <dd className=\"font-semibold text-[var(--brand-primary,#0f172a)]\">\n            {new Date(job.updatedAt).toLocaleTimeString()}\n          </dd>\n        </div>\n        {job.notes ? (\n          <div className=\"col-span-2\">\n            <dt className=\"text-[11px] uppercase tracking-wide text-slate-500\">Notes</dt>\n            <dd className=\"text-slate-700\">{job.notes}</dd>\n          </div>\n        ) : null}\n      </dl>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,MAAM,aAAuG;IAC3G,SAAS;IACT,WAAW;IACX,aAAa;IACb,WAAW;IACX,QAAQ;AACV;AAEO,SAAS,WAAW,EAAE,GAAG,EAA6B;IAC3D,qBACE,+YAAC,4KAAI;QACH,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE;QACtB,UAAU,CAAC,QAAQ,EAAE,IAAI,SAAS,EAAE;QACpC,uBAAS,+YAAC,8KAAK;YAAC,MAAM,UAAU,CAAC,IAAI,MAAM,CAAC;sBAAG,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;kBAEvE,cAAA,+YAAC;YAAG,WAAU;;8BACZ,+YAAC;;sCACC,+YAAC;4BAAG,WAAU;sCAAqD;;;;;;sCACnE,+YAAC;4BAAG,WAAU;sCAAqD,IAAI,cAAc,CAAC,EAAE;;;;;;;;;;;;8BAE1F,+YAAC;;sCACC,+YAAC;4BAAG,WAAU;sCAAqD;;;;;;sCACnE,+YAAC;4BAAG,WAAU;sCACX,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB;;;;;;;;;;;;gBAG9C,IAAI,KAAK,iBACR,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;4BAAG,WAAU;sCAAqD;;;;;;sCACnE,+YAAC;4BAAG,WAAU;sCAAkB,IAAI,KAAK;;;;;;;;;;;2BAEzC;;;;;;;;;;;;AAIZ;KA3BgB"}},
    {"offset": {"line": 1619, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/components/charts/KpiCard.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport { cn } from '../../utils/cn';\nimport { Card } from '../primitives/Card';\n\ntype KpiCardProps = {\n  label: string;\n  value: ReactNode;\n  delta?: string;\n  trend?: { label: string; value: number }[];\n};\n\nexport function KpiCard({ label, value, delta, trend }: KpiCardProps) {\n  return (\n    <Card title={label} className=\"h-full\">\n      <div className=\"space-y-3\">\n        <div className=\"text-3xl font-semibold text-[var(--brand-primary,#0f172a)]\">{value}</div>\n        {delta ? <div className=\"text-xs text-slate-500\">{delta}</div> : null}\n        {trend ? <MiniTrend data={trend} /> : null}\n      </div>\n    </Card>\n  );\n}\n\nfunction MiniTrend({ data }: { data: { label: string; value: number }[] }) {\n  const max = Math.max(...data.map((d) => d.value), 1);\n  return (\n    <div className=\"flex items-end gap-1\">\n      {data.map((point) => (\n        <div key={point.label} className=\"flex-1\">\n          <div\n            className=\"w-full rounded-sm bg-[var(--brand-accent,#f97316)]\"\n            style={{ height: `${(point.value / max) * 48 || 4}px` }}\n            title={`${point.label}: ${point.value}`}\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AASO,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAgB;IAClE,qBACE,+YAAC,4KAAI;QAAC,OAAO;QAAO,WAAU;kBAC5B,cAAA,+YAAC;YAAI,WAAU;;8BACb,+YAAC;oBAAI,WAAU;8BAA8D;;;;;;gBAC5E,sBAAQ,+YAAC;oBAAI,WAAU;8BAA0B;;;;;2BAAe;gBAChE,sBAAQ,+YAAC;oBAAU,MAAM;;;;;2BAAY;;;;;;;;;;;;AAI9C;KAVgB;AAYhB,SAAS,UAAU,EAAE,IAAI,EAAgD;IACvE,MAAM,MAAM,KAAK,GAAG,IAAI,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK,GAAG;IAClD,qBACE,+YAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,sBACT,+YAAC;gBAAsB,WAAU;0BAC/B,cAAA,+YAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,QAAQ,GAAG,AAAC,MAAM,KAAK,GAAG,MAAO,MAAM,EAAE,EAAE,CAAC;oBAAC;oBACtD,OAAO,GAAG,MAAM,KAAK,CAAC,EAAE,EAAE,MAAM,KAAK,EAAE;;;;;;eAJjC,MAAM,KAAK;;;;;;;;;;AAU7B;MAfS"}},
    {"offset": {"line": 1709, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/packages/ui-kit/src/index.ts"],"sourcesContent":["export * from './components/layout/Shell';\nexport * from './components/layout/AppShell';\nexport * from './components/layout/SectionHeader';\nexport * from './components/layout/ThreePane';\nexport * from './components/primitives/Button';\nexport * from './components/primitives/Card';\nexport * from './components/primitives/Badge';\nexport * from './components/primitives/Input';\nexport * from './components/primitives/TextArea';\nexport * from './components/primitives/Skeleton';\nexport * from './components/data/DataTable';\nexport * from './components/cpq/QuoteTable';\nexport * from './components/cpq/MarginBadge';\nexport * from './components/cpq/CpqSummaryBar';\nexport * from './components/auth/LoginForm';\nexport * from './components/manufacturing/BomTable';\nexport * from './components/manufacturing/CncJobCard';\nexport * from './components/charts/KpiCard';\nexport * from './theme/TenantThemeProvider';\nexport * from './utils/cn';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1757, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/apps/frontend/src/lib/nav.ts"],"sourcesContent":["import type { NavItem } from '@kitchen-cpq/ui-kit';\n\nexport const mainNavItems: NavItem[] = [\n  { label: 'Dashboard', href: '/cpq/dashboard', roles: ['dealer', 'admin'] },\n  { label: 'Quotes', href: '/cpq/quotes', roles: ['dealer', 'admin'] },\n  { label: 'Configure', href: '/cpq/configure/demo-project', roles: ['dealer'] },\n  { label: 'Catalog', href: '/catalog', roles: ['catalog_engineer', 'admin'] },\n  { label: 'Manufacturing', href: '/manufacturing', roles: ['manufacturing_engineer', 'admin'] }\n];\n"],"names":[],"mappings":";;;;AAEO,MAAM,eAA0B;IACrC;QAAE,OAAO;QAAa,MAAM;QAAkB,OAAO;YAAC;YAAU;SAAQ;IAAC;IACzE;QAAE,OAAO;QAAU,MAAM;QAAe,OAAO;YAAC;YAAU;SAAQ;IAAC;IACnE;QAAE,OAAO;QAAa,MAAM;QAA+B,OAAO;YAAC;SAAS;IAAC;IAC7E;QAAE,OAAO;QAAW,MAAM;QAAY,OAAO;YAAC;YAAoB;SAAQ;IAAC;IAC3E;QAAE,OAAO;QAAiB,MAAM;QAAkB,OAAO;YAAC;YAA0B;SAAQ;IAAC;CAC9F"}},
    {"offset": {"line": 1809, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/apps/frontend/src/components/AppChrome.tsx"],"sourcesContent":["'use client';\n\nimport type { PropsWithChildren } from 'react';\nimport { AppShell, Skeleton } from '@kitchen-cpq/ui-kit';\nimport { trpc } from '../lib/trpc-client';\nimport { mainNavItems } from '../lib/nav';\n\nexport function AppChrome({ children }: PropsWithChildren) {\n  const { data: tenant, isLoading: tenantLoading } = trpc.tenancy.getCurrentTenant.useQuery();\n  const { data: user, isLoading: userLoading } = trpc.auth.getCurrentUser.useQuery();\n\n  if (tenantLoading || userLoading || !tenant || !user) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 p-6\">\n        <Skeleton className=\"h-10 w-40\" />\n        <div className=\"mt-6 grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n          <Skeleton className=\"h-32 w-full\" />\n          <Skeleton className=\"h-32 w-full\" />\n          <Skeleton className=\"h-32 w-full\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <AppShell\n      navItems={mainNavItems}\n      tenantName={tenant.displayName}\n      branding={tenant.branding}\n      user={{ name: user.displayName, email: user.email, roles: user.roles }}\n    >\n      {children}\n    </AppShell>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AACA;AACA;;;AALA;;;;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAqB;;IACvD,MAAM,EAAE,MAAM,MAAM,EAAE,WAAW,aAAa,EAAE,GAAG,2JAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,QAAQ;IACzF,MAAM,EAAE,MAAM,IAAI,EAAE,WAAW,WAAW,EAAE,GAAG,2JAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ;IAEhF,IAAI,iBAAiB,eAAe,CAAC,UAAU,CAAC,MAAM;QACpD,qBACE,+YAAC;YAAI,WAAU;;8BACb,+YAAC,oLAAQ;oBAAC,WAAU;;;;;;8BACpB,+YAAC;oBAAI,WAAU;;sCACb,+YAAC,oLAAQ;4BAAC,WAAU;;;;;;sCACpB,+YAAC,oLAAQ;4BAAC,WAAU;;;;;;sCACpB,+YAAC,oLAAQ;4BAAC,WAAU;;;;;;;;;;;;;;;;;;IAI5B;IAEA,qBACE,+YAAC,gLAAQ;QACP,UAAU,wJAAY;QACtB,YAAY,OAAO,WAAW;QAC9B,UAAU,OAAO,QAAQ;QACzB,MAAM;YAAE,MAAM,KAAK,WAAW;YAAE,OAAO,KAAK,KAAK;YAAE,OAAO,KAAK,KAAK;QAAC;kBAEpE;;;;;;AAGP;GA3BgB;KAAA"}},
    {"offset": {"line": 1904, "column": 0}, "map": {"version":3,"sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/apps/frontend/app/cpq/quotes/%5Bid%5D/QuoteDetailClient.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport type { ConstraintSummary, CpqSummaryBarState, ParametricState, QuoteLineItem, QuoteSummary } from '@kitchen-cpq/shared-types';\nimport { createKitchenScene, updateSceneFromState, type SceneHandle } from '@kitchen-cpq/3d-engine';\nimport {\n  Button,\n  Card,\n  ConstraintBadge as ConstraintBadgeUi,\n  CpqSummaryBar,\n  DataTable,\n  MarginBadge,\n  SectionHeader,\n  ThreePaneLayout\n} from '@kitchen-cpq/ui-kit';\nimport { ColumnDef } from '@tanstack/react-table';\nimport { trpc } from '../../../../src/lib/trpc-client';\nimport { AppChrome } from '../../../../src/components/AppChrome';\n\ntype QuoteDetailClientProps = {\n  quote: QuoteSummary;\n  state: ParametricState;\n};\n\nexport function QuoteDetailClient({ quote, state }: QuoteDetailClientProps) {\n  const router = useRouter();\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n  const sceneRef = useRef<SceneHandle | null>(null);\n  const constraintSummary: ConstraintSummary | undefined = state.constraints ?? undefined;\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas || sceneRef.current) return;\n    (async () => {\n      sceneRef.current = await createKitchenScene(canvas, state);\n    })();\n    return () => {\n      sceneRef.current?.dispose?.();\n      sceneRef.current = null;\n    };\n  }, [state]);\n\n  useEffect(() => {\n    if (!sceneRef.current) return;\n    void updateSceneFromState(sceneRef.current, state);\n  }, [state]);\n\n  const initialSummary: CpqSummaryBarState = {\n    total: quote.total,\n    tax: quote.tax,\n    marginPercent: quote.marginPercent,\n    currency: quote.currency,\n    hasBlockingErrors: constraintSummary?.hasBlockingErrors ?? false\n  };\n\n  const { data: summary } = trpc.ui.getCpqSummaryBar.useQuery(\n    { projectId: quote.projectId },\n    { initialData: initialSummary, refetchInterval: 4000 }\n  );\n\n  const columns = useMemo<ColumnDef<QuoteLineItem>[]>(\n    () => [\n      { accessorKey: 'sku', header: 'SKU' },\n      { accessorKey: 'description', header: 'Description' },\n      { accessorKey: 'quantity', header: 'Qty', cell: ({ row }) => row.original.quantity.toFixed(0) },\n      { accessorKey: 'unitPrice', header: 'Unit', cell: ({ row }) => row.original.unitPrice.toFixed(2) },\n      {\n        accessorKey: 'marginPercent',\n        header: 'Margin',\n        cell: ({ row }) => <MarginBadge value={row.original.marginPercent} />\n      }\n    ],\n    []\n  );\n\n  return (\n    <AppChrome>\n      <div className=\"space-y-5\">\n        <SectionHeader\n          label=\"Quote\"\n          title={`Quote ${quote.id}`}\n          description={`Project ${quote.projectId} · Catalog ${quote.catalogVersion.id}`}\n          actions={\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"outline\" onClick={() => router.push('/cpq/quotes')}>\n                Back to quotes\n              </Button>\n              <Button>Send for approval</Button>\n            </div>\n          }\n        />\n\n        <ThreePaneLayout\n          left={\n            <div className=\"space-y-3\">\n              <Card title=\"Metadata\" subtitle=\"Scenario tabs placeholder\">\n                <dl className=\"space-y-2 text-sm text-slate-700\">\n                  <div className=\"flex items-center justify-between\">\n                    <dt>Status</dt>\n                    <dd className=\"font-semibold capitalize\">{quote.status}</dd>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <dt>Margin</dt>\n                    <dd>\n                      <MarginBadge value={quote.marginPercent} />\n                    </dd>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <dt>Updated</dt>\n                    <dd>{new Date(quote.updatedAt).toLocaleString()}</dd>\n                  </div>\n                </dl>\n              </Card>\n              <Card title=\"Constraints\" subtitle=\"From kernel validation\">\n                <ConstraintBadgeUi\n                  severity={constraintSummary?.hasBlockingErrors ? 'error' : 'ok'}\n                  count={constraintSummary?.violations?.length ?? 0}\n                  label={constraintSummary?.hasBlockingErrors ? 'Blocking' : 'No blockers'}\n                />\n                {constraintSummary?.violations?.length ? (\n                  <ul className=\"mt-2 space-y-1 text-xs text-red-700\">\n                    {constraintSummary.violations.map((v) => (\n                      <li key={v.code}>{v.message}</li>\n                    ))}\n                  </ul>\n                ) : null}\n              </Card>\n              {summary ? (\n                <Card title=\"Summary\">\n                  <CpqSummaryBar state={summary} />\n                </Card>\n              ) : null}\n            </div>\n          }\n          center={\n            <Card title=\"3D preview\" subtitle=\"Read-only from parametric state\">\n              <canvas ref={canvasRef} width={800} height={480} className=\"h-[360px] w-full rounded-lg border border-slate-200\" />\n            </Card>\n          }\n          right={\n            <div className=\"space-y-3\">\n              <Card title=\"Line items\" subtitle=\"Editable in CPQ service\">\n                <DataTable data={quote.lineItems} columns={columns} dense />\n              </Card>\n              <Card title=\"Actions\">\n                <div className=\"space-y-2 text-sm text-slate-700\">\n                  <p>• Price now</p>\n                  <p>• Send for approval</p>\n                  <p>• Hand off to manufacturing</p>\n                </div>\n              </Card>\n            </div>\n          }\n        />\n      </div>\n    </AppChrome>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}