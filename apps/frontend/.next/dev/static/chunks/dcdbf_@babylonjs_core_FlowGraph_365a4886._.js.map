{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/CustomTypes/flowGraphInteger.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/CustomTypes/flowGraphInteger.ts"],"sourcesContent":["import { RegisterClass } from \"../../Misc/typeStore\";\r\n\r\n/**\r\n * Class that represents an integer value.\r\n */\r\nexport class FlowGraphInteger {\r\n    /**\r\n     * The value of the integer. Its type\r\n     * is a javascript number. Shouldn't be\r\n     * directly modified - it is populated by\r\n     * the constructor.\r\n     */\r\n    readonly value: number;\r\n\r\n    constructor(value: number) {\r\n        this.value = this._toInt(value);\r\n    }\r\n\r\n    /**\r\n     * Converts a float to an integer.\r\n     * @param n the float to convert\r\n     * @returns the result of n | 0 - converting it to a int\r\n     */\r\n    private _toInt(n: number): number {\r\n        return n | 0;\r\n    }\r\n\r\n    /**\r\n     * Adds two integers together.\r\n     * @param other the other integer to add\r\n     * @returns a FlowGraphInteger with the result of the addition\r\n     */\r\n    public add(other: FlowGraphInteger): FlowGraphInteger {\r\n        return new FlowGraphInteger(this.value + other.value);\r\n    }\r\n\r\n    /**\r\n     * Subtracts two integers.\r\n     * @param other the other integer to subtract\r\n     * @returns a FlowGraphInteger with the result of the subtraction\r\n     */\r\n    public subtract(other: FlowGraphInteger): FlowGraphInteger {\r\n        return new FlowGraphInteger(this.value - other.value);\r\n    }\r\n\r\n    /**\r\n     * Multiplies two integers.\r\n     * @param other the other integer to multiply\r\n     * @returns a FlowGraphInteger with the result of the multiplication\r\n     */\r\n    public multiply(other: FlowGraphInteger): FlowGraphInteger {\r\n        return new FlowGraphInteger(Math.imul(this.value, other.value));\r\n    }\r\n\r\n    /**\r\n     * Divides two integers.\r\n     * @param other the other integer to divide\r\n     * @returns a FlowGraphInteger with the result of the division\r\n     */\r\n    public divide(other: FlowGraphInteger): FlowGraphInteger {\r\n        return new FlowGraphInteger(this.value / other.value);\r\n    }\r\n\r\n    /**\r\n     * The class name of this type.\r\n     * @returns\r\n     */\r\n    public getClassName() {\r\n        return FlowGraphInteger.ClassName;\r\n    }\r\n\r\n    /**\r\n     * Compares two integers for equality.\r\n     * @param other the other integer to compare\r\n     * @returns\r\n     */\r\n    public equals(other: FlowGraphInteger): boolean {\r\n        return this.value === other.value;\r\n    }\r\n\r\n    public static ClassName = \"FlowGraphInteger\";\r\n\r\n    /**\r\n     * Parses a FlowGraphInteger from a serialization object.\r\n     * @param value te number to parse\r\n     * @returns\r\n     */\r\n    public static FromValue(value: number): FlowGraphInteger {\r\n        return new FlowGraphInteger(value);\r\n    }\r\n\r\n    public toString(): string {\r\n        return this.value.toString();\r\n    }\r\n}\r\nRegisterClass(\"FlowGraphInteger\", FlowGraphInteger);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;;AAK/C,MAAO,gBAAgB;IASzB,YAAY,KAAa,CAAA;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACpC,CAAC;IAED;;;;OAIG,CACK,MAAM,CAAC,CAAS,EAAA;QACpB,OAAO,CAAC,GAAG,CAAC,CAAC;IACjB,CAAC;IAED;;;;OAIG,CACI,GAAG,CAAC,KAAuB,EAAA;QAC9B,OAAO,IAAI,gBAAgB,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC;IAED;;;;OAIG,CACI,QAAQ,CAAC,KAAuB,EAAA;QACnC,OAAO,IAAI,gBAAgB,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC;IAED;;;;OAIG,CACI,QAAQ,CAAC,KAAuB,EAAA;QACnC,OAAO,IAAI,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;IACpE,CAAC;IAED;;;;OAIG,CACI,MAAM,CAAC,KAAuB,EAAA;QACjC,OAAO,IAAI,gBAAgB,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;IAC1D,CAAC;IAED;;;OAGG,CACI,YAAY,GAAA;QACf,OAAO,gBAAgB,CAAC,SAAS,CAAC;IACtC,CAAC;IAED;;;;OAIG,CACI,MAAM,CAAC,KAAuB,EAAA;QACjC,OAAO,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,KAAK,CAAC;IACtC,CAAC;IAID;;;;OAIG,CACI,MAAM,CAAC,SAAS,CAAC,KAAa,EAAA;QACjC,OAAO,IAAI,gBAAgB,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC;IAEM,QAAQ,GAAA;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IACjC,CAAC;;AAba,iBAAA,SAAS,GAAG,kBAAkB,CAAC;IAejD,6OAAa,EAAC,kBAAkB,EAAE,gBAAgB,CAAC,CAAC"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/CustomTypes/flowGraphMatrix.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/CustomTypes/flowGraphMatrix.ts"],"sourcesContent":["import { Vector3, Vector2 } from \"core/Maths/math.vector\";\n\n/**\n * Interface representing a generic flow graph matrix.\n */\nexport interface IFlowGraphMatrix<VectorType> {\n    /**\n     * The matrix elements stored in a row-major order.\n     */\n    m: number[];\n\n    /**\n     * Transforms a vector using this matrix.\n     *\n     * @param v - The vector to transform.\n     * @returns The transformed vector.\n     */\n    transformVector(v: VectorType): VectorType;\n\n    /**\n     * Transforms a vector using this matrix and stores the result in a reference vector.\n     *\n     * @param v - The vector to transform.\n     * @param result - The vector to store the result.\n     * @returns The transformed vector.\n     */\n    transformVectorToRef(v: VectorType, result: VectorType): VectorType;\n\n    /**\n     * Returns the matrix elements as an array.\n     *\n     * @returns The matrix elements as an array.\n     */\n    asArray(): number[];\n\n    /**\n     * Copies the matrix elements to an array.\n     *\n     * @param emptyArray - The array to copy the elements to.\n     * @returns The array with the matrix elements.\n     */\n    toArray(emptyArray: number[]): number[];\n\n    /**\n     * Sets the matrix elements from an array.\n     *\n     * @param array - The array containing the matrix elements.\n     * @returns The updated matrix.\n     */\n    fromArray(array: number[]): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Multiplies this matrix with another matrix and stores the result in a reference matrix.\n     *\n     * @param other - The matrix to multiply with.\n     * @param result - The matrix to store the result.\n     * @returns The result matrix.\n     */\n    multiplyToRef(other: IFlowGraphMatrix<VectorType>, result: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Multiplies this matrix with another matrix.\n     * To staz conform with the Matrix class, this does B * A\n     *\n     * @param other - The matrix to multiply with.\n     * @returns The result matrix.\n     */\n    multiply(other: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Divides this matrix by another matrix and stores the result in a reference matrix.\n     *\n     * @param other - The matrix to divide by.\n     * @param result - The matrix to store the result.\n     * @returns The result matrix.\n     */\n    divideToRef(other: IFlowGraphMatrix<VectorType>, result: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Divides this matrix by another matrix.\n     *\n     * @param other - The matrix to divide by.\n     * @returns The result matrix.\n     */\n    divide(other: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Adds another matrix to this matrix and stores the result in a reference matrix.\n     *\n     * @param other - The matrix to add.\n     * @param result - The matrix to store the result.\n     * @returns The result matrix.\n     */\n    addToRef(other: IFlowGraphMatrix<VectorType>, result: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Adds another matrix to this matrix.\n     *\n     * @param other - The matrix to add.\n     * @returns The result matrix.\n     */\n    add(other: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Subtracts another matrix from this matrix and stores the result in a reference matrix.\n     *\n     * @param other - The matrix to subtract.\n     * @param result - The matrix to store the result.\n     * @returns The result matrix.\n     */\n    subtractToRef(other: IFlowGraphMatrix<VectorType>, result: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Subtracts another matrix from this matrix.\n     *\n     * @param other - The matrix to subtract.\n     * @returns The result matrix.\n     */\n    subtract(other: IFlowGraphMatrix<VectorType>): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Transposes this matrix.\n     *\n     * @returns The transposed matrix.\n     */\n    transpose(): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Computes the determinant of this matrix.\n     *\n     * @returns The determinant of the matrix.\n     */\n    determinant(): number;\n\n    /**\n     * Computes the inverse of this matrix.\n     *\n     * @returns The inverse of the matrix.\n     * @throws Error if the matrix is not invertible.\n     */\n    inverse(): IFlowGraphMatrix<VectorType>;\n\n    /**\n     * Gets the class name of this matrix.\n     *\n     * @returns The class name.\n     */\n    getClassName(): string;\n\n    /**\n     * Checks if this matrix is equal to another matrix within an optional epsilon.\n     *\n     * @param other - The matrix to compare with.\n     * @param epsilon - The optional epsilon for comparison.\n     * @returns True if the matrices are equal, false otherwise.\n     */\n    equals(other: IFlowGraphMatrix<VectorType>, epsilon?: number): boolean;\n}\n\n// Note - the matrix classes are basically column-major, and work similarly to Babylon.js' Matrix class.\n\n/**\n * A 2x2 matrix.\n */\nexport class FlowGraphMatrix2D implements IFlowGraphMatrix<Vector2> {\n    /**\n     * @internal\n     */\n    public _m: number[];\n\n    constructor(m: number[] = [1, 0, 0, 1]) {\n        this._m = m;\n    }\n\n    public get m(): number[] {\n        return this._m;\n    }\n\n    public transformVector(v: Vector2): Vector2 {\n        return this.transformVectorToRef(v, new Vector2());\n    }\n\n    public transformVectorToRef(v: Vector2, result: Vector2): Vector2 {\n        result.x = v.x * this._m[0] + v.y * this._m[1];\n        result.y = v.x * this._m[2] + v.y * this._m[3];\n        return result;\n    }\n\n    public asArray(): number[] {\n        return this.toArray();\n    }\n\n    public toArray(emptyArray: number[] = []): number[] {\n        for (let i = 0; i < 4; i++) {\n            emptyArray[i] = this._m[i];\n        }\n        return emptyArray;\n    }\n\n    public fromArray(array: number[]): FlowGraphMatrix2D {\n        for (let i = 0; i < 4; i++) {\n            this._m[i] = array[i];\n        }\n        return this;\n    }\n\n    public multiplyToRef(other: FlowGraphMatrix2D, result: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        const otherMatrix = other._m;\n        const thisMatrix = this._m;\n        const r = result._m;\n        // other * this\n        r[0] = otherMatrix[0] * thisMatrix[0] + otherMatrix[1] * thisMatrix[2];\n        r[1] = otherMatrix[0] * thisMatrix[1] + otherMatrix[1] * thisMatrix[3];\n        r[2] = otherMatrix[2] * thisMatrix[0] + otherMatrix[3] * thisMatrix[2];\n        r[3] = otherMatrix[2] * thisMatrix[1] + otherMatrix[3] * thisMatrix[3];\n\n        return result;\n    }\n\n    public multiply(other: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        return this.multiplyToRef(other, new FlowGraphMatrix2D());\n    }\n\n    public divideToRef(other: FlowGraphMatrix2D, result: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        const m = this._m;\n        const o = other._m;\n        const r = result._m;\n\n        r[0] = m[0] / o[0];\n        r[1] = m[1] / o[1];\n        r[2] = m[2] / o[2];\n        r[3] = m[3] / o[3];\n\n        return result;\n    }\n\n    public divide(other: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        return this.divideToRef(other, new FlowGraphMatrix2D());\n    }\n\n    public addToRef(other: FlowGraphMatrix2D, result: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        const m = this._m;\n        const o = other.m;\n        const r = result.m;\n\n        r[0] = m[0] + o[0];\n        r[1] = m[1] + o[1];\n        r[2] = m[2] + o[2];\n        r[3] = m[3] + o[3];\n\n        return result;\n    }\n\n    public add(other: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        return this.addToRef(other, new FlowGraphMatrix2D());\n    }\n\n    public subtractToRef(other: FlowGraphMatrix2D, result: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        const m = this._m;\n        const o = other.m;\n        const r = result.m;\n\n        r[0] = m[0] - o[0];\n        r[1] = m[1] - o[1];\n        r[2] = m[2] - o[2];\n        r[3] = m[3] - o[3];\n\n        return result;\n    }\n\n    public subtract(other: FlowGraphMatrix2D): FlowGraphMatrix2D {\n        return this.subtractToRef(other, new FlowGraphMatrix2D());\n    }\n\n    public transpose(): FlowGraphMatrix2D {\n        const m = this._m;\n        return new FlowGraphMatrix2D([m[0], m[2], m[1], m[3]]);\n    }\n\n    public determinant(): number {\n        const m = this._m;\n        return m[0] * m[3] - m[1] * m[2];\n    }\n\n    public inverse(): FlowGraphMatrix2D {\n        const det = this.determinant();\n        if (det === 0) {\n            throw new Error(\"Matrix is not invertible\");\n        }\n        const m = this._m;\n        const invDet = 1 / det;\n        return new FlowGraphMatrix2D([m[3] * invDet, -m[1] * invDet, -m[2] * invDet, m[0] * invDet]);\n    }\n\n    public equals(other: IFlowGraphMatrix<Vector2>, epsilon: number = 0): boolean {\n        const m = this._m;\n        const o = other.m;\n        if (epsilon === 0) {\n            return m[0] === o[0] && m[1] === o[1] && m[2] === o[2] && m[3] === o[3];\n        }\n        return Math.abs(m[0] - o[0]) < epsilon && Math.abs(m[1] - o[1]) < epsilon && Math.abs(m[2] - o[2]) < epsilon && Math.abs(m[3] - o[3]) < epsilon;\n    }\n\n    public getClassName(): string {\n        return \"FlowGraphMatrix2D\";\n    }\n\n    public toString(): string {\n        return `FlowGraphMatrix2D(${this._m.join(\", \")})`;\n    }\n}\n\n/**\n * A 3x3 matrix.\n */\nexport class FlowGraphMatrix3D implements IFlowGraphMatrix<Vector3> {\n    /**\n     * @internal\n     */\n    public _m: number[];\n\n    constructor(array: number[] = [1, 0, 0, 0, 1, 0, 0, 0, 1]) {\n        this._m = array;\n    }\n\n    public get m(): number[] {\n        return this._m;\n    }\n\n    public transformVector(v: Vector3): Vector3 {\n        return this.transformVectorToRef(v, new Vector3());\n    }\n\n    public transformVectorToRef(v: Vector3, result: Vector3): Vector3 {\n        const m = this._m;\n        result.x = v.x * m[0] + v.y * m[1] + v.z * m[2];\n        result.y = v.x * m[3] + v.y * m[4] + v.z * m[5];\n        result.z = v.x * m[6] + v.y * m[7] + v.z * m[8];\n        return result;\n    }\n\n    public multiplyToRef(other: FlowGraphMatrix3D, result: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        const otherMatrix = other._m;\n        const thisMatrix = this._m;\n        const r = result.m;\n\n        r[0] = otherMatrix[0] * thisMatrix[0] + otherMatrix[1] * thisMatrix[3] + otherMatrix[2] * thisMatrix[6];\n        r[1] = otherMatrix[0] * thisMatrix[1] + otherMatrix[1] * thisMatrix[4] + otherMatrix[2] * thisMatrix[7];\n        r[2] = otherMatrix[0] * thisMatrix[2] + otherMatrix[1] * thisMatrix[5] + otherMatrix[2] * thisMatrix[8];\n\n        r[3] = otherMatrix[3] * thisMatrix[0] + otherMatrix[4] * thisMatrix[3] + otherMatrix[5] * thisMatrix[6];\n        r[4] = otherMatrix[3] * thisMatrix[1] + otherMatrix[4] * thisMatrix[4] + otherMatrix[5] * thisMatrix[7];\n        r[5] = otherMatrix[3] * thisMatrix[2] + otherMatrix[4] * thisMatrix[5] + otherMatrix[5] * thisMatrix[8];\n\n        r[6] = otherMatrix[6] * thisMatrix[0] + otherMatrix[7] * thisMatrix[3] + otherMatrix[8] * thisMatrix[6];\n        r[7] = otherMatrix[6] * thisMatrix[1] + otherMatrix[7] * thisMatrix[4] + otherMatrix[8] * thisMatrix[7];\n        r[8] = otherMatrix[6] * thisMatrix[2] + otherMatrix[7] * thisMatrix[5] + otherMatrix[8] * thisMatrix[8];\n\n        return result;\n    }\n\n    public multiply(other: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        return this.multiplyToRef(other, new FlowGraphMatrix3D());\n    }\n\n    public divideToRef(other: FlowGraphMatrix3D, result: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        const m = this._m;\n        const o = other.m;\n        const r = result.m;\n\n        r[0] = m[0] / o[0];\n        r[1] = m[1] / o[1];\n        r[2] = m[2] / o[2];\n        r[3] = m[3] / o[3];\n        r[4] = m[4] / o[4];\n        r[5] = m[5] / o[5];\n        r[6] = m[6] / o[6];\n        r[7] = m[7] / o[7];\n        r[8] = m[8] / o[8];\n\n        return result;\n    }\n\n    public divide(other: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        return this.divideToRef(other, new FlowGraphMatrix3D());\n    }\n\n    public addToRef(other: FlowGraphMatrix3D, result: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        const m = this._m;\n        const o = other.m;\n        const r = result.m;\n\n        r[0] = m[0] + o[0];\n        r[1] = m[1] + o[1];\n        r[2] = m[2] + o[2];\n        r[3] = m[3] + o[3];\n        r[4] = m[4] + o[4];\n        r[5] = m[5] + o[5];\n        r[6] = m[6] + o[6];\n        r[7] = m[7] + o[7];\n        r[8] = m[8] + o[8];\n\n        return result;\n    }\n\n    public add(other: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        return this.addToRef(other, new FlowGraphMatrix3D());\n    }\n\n    public subtractToRef(other: FlowGraphMatrix3D, result: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        const m = this._m;\n        const o = other.m;\n        const r = result.m;\n\n        r[0] = m[0] - o[0];\n        r[1] = m[1] - o[1];\n        r[2] = m[2] - o[2];\n        r[3] = m[3] - o[3];\n        r[4] = m[4] - o[4];\n        r[5] = m[5] - o[5];\n        r[6] = m[6] - o[6];\n        r[7] = m[7] - o[7];\n        r[8] = m[8] - o[8];\n\n        return result;\n    }\n\n    public subtract(other: FlowGraphMatrix3D): FlowGraphMatrix3D {\n        return this.subtractToRef(other, new FlowGraphMatrix3D());\n    }\n\n    public toArray(emptyArray: number[] = []): number[] {\n        for (let i = 0; i < 9; i++) {\n            emptyArray[i] = this._m[i];\n        }\n        return emptyArray;\n    }\n\n    public asArray(): number[] {\n        return this.toArray();\n    }\n\n    public fromArray(array: number[]): FlowGraphMatrix3D {\n        for (let i = 0; i < 9; i++) {\n            this._m[i] = array[i];\n        }\n        return this;\n    }\n\n    public transpose(): FlowGraphMatrix3D {\n        const m = this._m;\n        return new FlowGraphMatrix3D([m[0], m[3], m[6], m[1], m[4], m[7], m[2], m[5], m[8]]);\n    }\n\n    public determinant(): number {\n        const m = this._m;\n        return m[0] * (m[4] * m[8] - m[5] * m[7]) - m[1] * (m[3] * m[8] - m[5] * m[6]) + m[2] * (m[3] * m[7] - m[4] * m[6]);\n    }\n\n    public inverse(): FlowGraphMatrix3D {\n        const det = this.determinant();\n        if (det === 0) {\n            throw new Error(\"Matrix is not invertible\");\n        }\n        const m = this._m;\n        const invDet = 1 / det;\n        return new FlowGraphMatrix3D([\n            (m[4] * m[8] - m[5] * m[7]) * invDet,\n            (m[2] * m[7] - m[1] * m[8]) * invDet,\n            (m[1] * m[5] - m[2] * m[4]) * invDet,\n            (m[5] * m[6] - m[3] * m[8]) * invDet,\n            (m[0] * m[8] - m[2] * m[6]) * invDet,\n            (m[2] * m[3] - m[0] * m[5]) * invDet,\n            (m[3] * m[7] - m[4] * m[6]) * invDet,\n            (m[1] * m[6] - m[0] * m[7]) * invDet,\n            (m[0] * m[4] - m[1] * m[3]) * invDet,\n        ]);\n    }\n\n    public equals(other: IFlowGraphMatrix<Vector3>, epsilon: number = 0): boolean {\n        const m = this._m;\n        const o = other.m;\n        // performance shortcut\n        if (epsilon === 0) {\n            return m[0] === o[0] && m[1] === o[1] && m[2] === o[2] && m[3] === o[3] && m[4] === o[4] && m[5] === o[5] && m[6] === o[6] && m[7] === o[7] && m[8] === o[8];\n        }\n        return (\n            Math.abs(m[0] - o[0]) < epsilon &&\n            Math.abs(m[1] - o[1]) < epsilon &&\n            Math.abs(m[2] - o[2]) < epsilon &&\n            Math.abs(m[3] - o[3]) < epsilon &&\n            Math.abs(m[4] - o[4]) < epsilon &&\n            Math.abs(m[5] - o[5]) < epsilon &&\n            Math.abs(m[6] - o[6]) < epsilon &&\n            Math.abs(m[7] - o[7]) < epsilon &&\n            Math.abs(m[8] - o[8]) < epsilon\n        );\n    }\n\n    public getClassName(): string {\n        return \"FlowGraphMatrix3D\";\n    }\n\n    public toString(): string {\n        return `FlowGraphMatrix3D(${this._m.join(\", \")})`;\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphRichTypes.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphRichTypes.ts"],"sourcesContent":["import { Vector2, Vector3, Vector4, Matrix, Quaternion } from \"../Maths/math.vector\";\r\nimport { Color3, Color4 } from \"../Maths/math.color\";\r\nimport { FlowGraphInteger } from \"./CustomTypes/flowGraphInteger\";\r\nimport { Constants } from \"core/Engines/constants\";\r\nimport { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"./CustomTypes/flowGraphMatrix\";\r\n\r\n/**\r\n * The types supported by the flow graph.\r\n */\r\nexport const enum FlowGraphTypes {\r\n    Any = \"any\",\r\n    String = \"string\",\r\n    Number = \"number\",\r\n    Boolean = \"boolean\",\r\n    Object = \"object\",\r\n    Integer = \"FlowGraphInteger\",\r\n    Vector2 = \"Vector2\",\r\n    Vector3 = \"Vector3\",\r\n    Vector4 = \"Vector4\",\r\n    Quaternion = \"Quaternion\",\r\n    Matrix = \"Matrix\",\r\n    Matrix2D = \"Matrix2D\",\r\n    Matrix3D = \"Matrix3D\",\r\n    Color3 = \"Color3\",\r\n    Color4 = \"Color4\",\r\n}\r\n\r\n/**\r\n * A rich type represents extra information about a type,\r\n * such as its name and a default value constructor.\r\n */\r\nexport class RichType<T> {\r\n    /**\r\n     * A function that can be used to transform a value of any type into a value of this rich type.\r\n     * This can be used, for example, between vector4 and quaternion.\r\n     */\r\n    public typeTransformer: (value: any) => T;\r\n\r\n    constructor(\r\n        /**\r\n         * The name given to the type.\r\n         */\r\n        public typeName: string,\r\n        /**\r\n         * The default value of the type.\r\n         */\r\n        public defaultValue: T,\r\n\r\n        /**\r\n         * [-1] The ANIMATIONTYPE of the type, if available\r\n         */\r\n        public animationType: number = -1\r\n    ) {}\r\n\r\n    /**\r\n     * Serializes this rich type into a serialization object.\r\n     * @param serializationObject the object to serialize to\r\n     */\r\n    serialize(serializationObject: any) {\r\n        serializationObject.typeName = this.typeName;\r\n        serializationObject.defaultValue = this.defaultValue;\r\n    }\r\n}\r\n\r\nexport const RichTypeAny: RichType<any> = new RichType(FlowGraphTypes.Any, undefined);\r\n\r\nexport const RichTypeString: RichType<string> = new RichType(FlowGraphTypes.String, \"\");\r\n\r\nexport const RichTypeNumber: RichType<number> = new RichType(FlowGraphTypes.Number, 0, Constants.ANIMATIONTYPE_FLOAT);\r\n\r\nexport const RichTypeBoolean: RichType<boolean> = new RichType(FlowGraphTypes.Boolean, false);\r\n\r\nexport const RichTypeVector2: RichType<Vector2> = new RichType(FlowGraphTypes.Vector2, Vector2.Zero(), Constants.ANIMATIONTYPE_VECTOR2);\r\n\r\nexport const RichTypeVector3: RichType<Vector3> = new RichType(FlowGraphTypes.Vector3, Vector3.Zero(), Constants.ANIMATIONTYPE_VECTOR3);\r\n\r\nexport const RichTypeVector4: RichType<Vector4> = new RichType(FlowGraphTypes.Vector4, Vector4.Zero());\r\n\r\nexport const RichTypeMatrix: RichType<Matrix> = new RichType(FlowGraphTypes.Matrix, Matrix.Identity(), Constants.ANIMATIONTYPE_MATRIX);\r\n\r\nexport const RichTypeMatrix2D: RichType<FlowGraphMatrix2D> = new RichType(FlowGraphTypes.Matrix2D, new FlowGraphMatrix2D());\r\n\r\nexport const RichTypeMatrix3D: RichType<FlowGraphMatrix3D> = new RichType(FlowGraphTypes.Matrix3D, new FlowGraphMatrix3D());\r\n\r\nexport const RichTypeColor3: RichType<Color3> = new RichType(FlowGraphTypes.Color3, Color3.Black(), Constants.ANIMATIONTYPE_COLOR3);\r\n\r\nexport const RichTypeColor4: RichType<Color4> = new RichType(FlowGraphTypes.Color4, new Color4(0, 0, 0, 0), Constants.ANIMATIONTYPE_COLOR4);\r\n\r\nexport const RichTypeQuaternion: RichType<Quaternion> = new RichType(FlowGraphTypes.Quaternion, Quaternion.Identity(), Constants.ANIMATIONTYPE_QUATERNION);\r\nRichTypeQuaternion.typeTransformer = (value: any) => {\r\n    if (value.getClassName) {\r\n        if (value.getClassName() === FlowGraphTypes.Vector4) {\r\n            return Quaternion.FromArray(value.asArray());\r\n        } else if (value.getClassName() === FlowGraphTypes.Vector3) {\r\n            return Quaternion.FromEulerVector(value);\r\n        } else if (value.getClassName() === FlowGraphTypes.Matrix) {\r\n            return Quaternion.FromRotationMatrix(value);\r\n        }\r\n    }\r\n    return value;\r\n};\r\nexport const RichTypeFlowGraphInteger: RichType<FlowGraphInteger> = new RichType(FlowGraphTypes.Integer, new FlowGraphInteger(0), Constants.ANIMATIONTYPE_FLOAT);\r\n\r\n/**\r\n * Given a value, try to deduce its rich type.\r\n * @param value the value to deduce the rich type from\r\n * @returns the value's rich type, or RichTypeAny if the type could not be deduced.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function getRichTypeFromValue<T>(value: T): RichType<T> {\r\n    const anyValue = value as any;\r\n    switch (typeof value) {\r\n        case FlowGraphTypes.String:\r\n            return RichTypeString as RichType<T>;\r\n        case FlowGraphTypes.Number:\r\n            return RichTypeNumber as RichType<T>;\r\n        case FlowGraphTypes.Boolean:\r\n            return RichTypeBoolean as RichType<T>;\r\n        case FlowGraphTypes.Object:\r\n            if (anyValue.getClassName) {\r\n                switch (anyValue.getClassName() as string) {\r\n                    case FlowGraphTypes.Vector2:\r\n                        return RichTypeVector2 as RichType<T>;\r\n                    case FlowGraphTypes.Vector3:\r\n                        return RichTypeVector3 as RichType<T>;\r\n                    case FlowGraphTypes.Vector4:\r\n                        return RichTypeVector4 as RichType<T>;\r\n                    case FlowGraphTypes.Matrix:\r\n                        return RichTypeMatrix as RichType<T>;\r\n                    case FlowGraphTypes.Color3:\r\n                        return RichTypeColor3 as RichType<T>;\r\n                    case FlowGraphTypes.Color4:\r\n                        return RichTypeColor4 as RichType<T>;\r\n                    case FlowGraphTypes.Quaternion:\r\n                        return RichTypeQuaternion as RichType<T>;\r\n                    case FlowGraphTypes.Integer:\r\n                        return RichTypeFlowGraphInteger as RichType<T>;\r\n                    case FlowGraphTypes.Matrix2D:\r\n                        return RichTypeMatrix2D as RichType<T>;\r\n                    case FlowGraphTypes.Matrix3D:\r\n                        return RichTypeMatrix3D as RichType<T>;\r\n                }\r\n            }\r\n            return RichTypeAny as RichType<T>;\r\n        default:\r\n            return RichTypeAny as RichType<T>;\r\n    }\r\n}\r\n\r\n/**\r\n * Given a flow graph type, return the rich type that corresponds to it.\r\n * @param flowGraphType the flow graph type\r\n * @returns the rich type that corresponds to the flow graph type\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function getRichTypeByFlowGraphType(flowGraphType?: string): RichType<any> {\r\n    switch (flowGraphType) {\r\n        case FlowGraphTypes.String:\r\n            return RichTypeString;\r\n        case FlowGraphTypes.Number:\r\n            return RichTypeNumber;\r\n        case FlowGraphTypes.Boolean:\r\n            return RichTypeBoolean;\r\n        case FlowGraphTypes.Vector2:\r\n            return RichTypeVector2;\r\n        case FlowGraphTypes.Vector3:\r\n            return RichTypeVector3;\r\n        case FlowGraphTypes.Vector4:\r\n            return RichTypeVector4;\r\n        case FlowGraphTypes.Matrix:\r\n            return RichTypeMatrix;\r\n        case FlowGraphTypes.Color3:\r\n            return RichTypeColor3;\r\n        case FlowGraphTypes.Color4:\r\n            return RichTypeColor4;\r\n        case FlowGraphTypes.Quaternion:\r\n            return RichTypeQuaternion;\r\n        case FlowGraphTypes.Integer:\r\n            return RichTypeFlowGraphInteger;\r\n        case FlowGraphTypes.Matrix2D:\r\n            return RichTypeMatrix2D;\r\n        case FlowGraphTypes.Matrix3D:\r\n            return RichTypeMatrix3D;\r\n        default:\r\n            return RichTypeAny;\r\n    }\r\n}\r\n\r\n/**\r\n * get the animation type for a given flow graph type\r\n * @param flowGraphType the flow graph type\r\n * @returns the animation type for this flow graph type\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function getAnimationTypeByFlowGraphType(flowGraphType: FlowGraphTypes): number {\r\n    switch (flowGraphType) {\r\n        case FlowGraphTypes.Number:\r\n            return Constants.ANIMATIONTYPE_FLOAT;\r\n        case FlowGraphTypes.Vector2:\r\n            return Constants.ANIMATIONTYPE_VECTOR2;\r\n        case FlowGraphTypes.Vector3:\r\n            return Constants.ANIMATIONTYPE_VECTOR3;\r\n        case FlowGraphTypes.Matrix:\r\n            return Constants.ANIMATIONTYPE_MATRIX;\r\n        case FlowGraphTypes.Color3:\r\n            return Constants.ANIMATIONTYPE_COLOR3;\r\n        case FlowGraphTypes.Color4:\r\n            return Constants.ANIMATIONTYPE_COLOR4;\r\n        case FlowGraphTypes.Quaternion:\r\n            return Constants.ANIMATIONTYPE_QUATERNION;\r\n        default:\r\n            return Constants.ANIMATIONTYPE_FLOAT;\r\n    }\r\n}\r\n\r\n/**\r\n * Given an animation type, return the rich type that corresponds to it.\r\n * @param animationType the animation type\r\n * @returns the rich type that corresponds to the animation type\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function getRichTypeByAnimationType(animationType: number): RichType<any> {\r\n    switch (animationType) {\r\n        case Constants.ANIMATIONTYPE_FLOAT:\r\n            return RichTypeNumber;\r\n        case Constants.ANIMATIONTYPE_VECTOR2:\r\n            return RichTypeVector2;\r\n        case Constants.ANIMATIONTYPE_VECTOR3:\r\n            return RichTypeVector3;\r\n        case Constants.ANIMATIONTYPE_MATRIX:\r\n            return RichTypeMatrix;\r\n        case Constants.ANIMATIONTYPE_COLOR3:\r\n            return RichTypeColor3;\r\n        case Constants.ANIMATIONTYPE_COLOR4:\r\n            return RichTypeColor4;\r\n        case Constants.ANIMATIONTYPE_QUATERNION:\r\n            return RichTypeQuaternion;\r\n        default:\r\n            return RichTypeAny;\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 617, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/serialization.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/serialization.ts"],"sourcesContent":["import type { IAssetContainer } from \"core/IAssetContainer\";\r\nimport { Color3, Color4 } from \"../Maths/math.color\";\r\nimport { Matrix, Quaternion, Vector2, Vector3, Vector4 } from \"../Maths/math.vector\";\r\nimport type { Scene } from \"../scene\";\r\nimport { FlowGraphBlockNames } from \"./Blocks/flowGraphBlockNames\";\r\nimport { FlowGraphInteger } from \"./CustomTypes/flowGraphInteger\";\r\nimport { FlowGraphTypes, getRichTypeByFlowGraphType } from \"./flowGraphRichTypes\";\r\nimport type { TransformNode } from \"core/Meshes/transformNode\";\r\nimport { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"./CustomTypes/flowGraphMatrix\";\r\n\r\nfunction IsMeshClassName(className: string) {\r\n    return (\r\n        className === \"Mesh\" ||\r\n        className === \"AbstractMesh\" ||\r\n        className === \"GroundMesh\" ||\r\n        className === \"InstanceMesh\" ||\r\n        className === \"LinesMesh\" ||\r\n        className === \"GoldbergMesh\" ||\r\n        className === \"GreasedLineMesh\" ||\r\n        className === \"TrailMesh\"\r\n    );\r\n}\r\n\r\nfunction IsVectorClassName(className: string) {\r\n    return (\r\n        className === FlowGraphTypes.Vector2 ||\r\n        className === FlowGraphTypes.Vector3 ||\r\n        className === FlowGraphTypes.Vector4 ||\r\n        className === FlowGraphTypes.Quaternion ||\r\n        className === FlowGraphTypes.Color3 ||\r\n        className === FlowGraphTypes.Color4\r\n    );\r\n}\r\n\r\nfunction IsMatrixClassName(className: string) {\r\n    return className === FlowGraphTypes.Matrix || className === FlowGraphTypes.Matrix2D || className === FlowGraphTypes.Matrix3D;\r\n}\r\n\r\nfunction IsAnimationGroupClassName(className: string) {\r\n    return className === \"AnimationGroup\";\r\n}\r\n\r\nfunction ParseVector(className: string, value: Array<number>, flipHandedness = false) {\r\n    if (className === FlowGraphTypes.Vector2) {\r\n        return Vector2.FromArray(value);\r\n    } else if (className === FlowGraphTypes.Vector3) {\r\n        if (flipHandedness) {\r\n            value[2] *= -1;\r\n        }\r\n        return Vector3.FromArray(value);\r\n    } else if (className === FlowGraphTypes.Vector4) {\r\n        return Vector4.FromArray(value);\r\n    } else if (className === FlowGraphTypes.Quaternion) {\r\n        if (flipHandedness) {\r\n            value[2] *= -1;\r\n            value[3] *= -1;\r\n        }\r\n        return Quaternion.FromArray(value);\r\n    } else if (className === FlowGraphTypes.Color3) {\r\n        return new Color3(value[0], value[1], value[2]);\r\n    } else if (className === FlowGraphTypes.Color4) {\r\n        return new Color4(value[0], value[1], value[2], value[3]);\r\n    } else {\r\n        throw new Error(`Unknown vector class name ${className}`);\r\n    }\r\n}\r\n\r\n/**\r\n * The default function that serializes values in a context object to a serialization object\r\n * @param key the key where the value should be stored in the serialization object\r\n * @param value the value to store\r\n * @param serializationObject the object where the value will be stored\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function defaultValueSerializationFunction(key: string, value: any, serializationObject: any) {\r\n    const className = value?.getClassName?.() ?? \"\";\r\n    if (IsVectorClassName(className) || IsMatrixClassName(className)) {\r\n        serializationObject[key] = {\r\n            value: value.asArray(),\r\n            className,\r\n        };\r\n    } else if (className === FlowGraphTypes.Integer) {\r\n        serializationObject[key] = {\r\n            value: value.value,\r\n            className,\r\n        };\r\n    } else {\r\n        if (className && (value.id || value.name)) {\r\n            serializationObject[key] = {\r\n                id: value.id,\r\n                name: value.name,\r\n                className,\r\n            };\r\n        } else {\r\n            // only if it is not an object\r\n            if (typeof value !== \"object\") {\r\n                serializationObject[key] = value;\r\n            } else {\r\n                throw new Error(`Could not serialize value ${value}`);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * The default function that parses values stored in a serialization object\r\n * @param key the key to the value that will be parsed\r\n * @param serializationObject the object that will be parsed\r\n * @param assetsContainer the assets container that will be used to find the objects\r\n * @param scene\r\n * @returns\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function defaultValueParseFunction(key: string, serializationObject: any, assetsContainer: IAssetContainer, scene: Scene) {\r\n    const intermediateValue = serializationObject[key];\r\n    let finalValue;\r\n    const className = intermediateValue?.type ?? intermediateValue?.className;\r\n    if (IsMeshClassName(className)) {\r\n        let nodes: TransformNode[] = scene.meshes.filter((m) => (intermediateValue.id ? m.id === intermediateValue.id : m.name === intermediateValue.name));\r\n        if (nodes.length === 0) {\r\n            nodes = scene.transformNodes.filter((m) => (intermediateValue.id ? m.id === intermediateValue.id : m.name === intermediateValue.name));\r\n        }\r\n        finalValue = intermediateValue.uniqueId ? nodes.find((m) => m.uniqueId === intermediateValue.uniqueId) : nodes[0];\r\n    } else if (IsVectorClassName(className)) {\r\n        finalValue = ParseVector(className, intermediateValue.value);\r\n    } else if (IsAnimationGroupClassName(className)) {\r\n        // do not use the scene.getAnimationGroupByName because it is possible that two AGs will have the same name\r\n        const ags = scene.animationGroups.filter((ag) => ag.name === intermediateValue.name);\r\n        // uniqueId changes on each load. this is used for the glTF loader, that uses serialization after the scene was loaded.\r\n        finalValue = ags.length === 1 ? ags[0] : ags.find((ag) => ag.uniqueId === intermediateValue.uniqueId);\r\n    } else if (className === FlowGraphTypes.Matrix) {\r\n        finalValue = Matrix.FromArray(intermediateValue.value);\r\n    } else if (className === FlowGraphTypes.Matrix2D) {\r\n        finalValue = new FlowGraphMatrix2D(intermediateValue.value);\r\n    } else if (className === FlowGraphTypes.Matrix3D) {\r\n        finalValue = new FlowGraphMatrix3D(intermediateValue.value);\r\n    } else if (className === FlowGraphTypes.Integer) {\r\n        finalValue = FlowGraphInteger.FromValue(intermediateValue.value);\r\n    } else if (className === FlowGraphTypes.Number || className === FlowGraphTypes.String || className === FlowGraphTypes.Boolean) {\r\n        finalValue = intermediateValue.value[0];\r\n    } else if (intermediateValue && intermediateValue.value !== undefined) {\r\n        finalValue = intermediateValue.value;\r\n    } else {\r\n        if (Array.isArray(intermediateValue)) {\r\n            // configuration data of an event\r\n            finalValue = intermediateValue.reduce((acc, val) => {\r\n                if (!val.eventData) {\r\n                    return acc;\r\n                }\r\n                acc[val.id] = {\r\n                    type: getRichTypeByFlowGraphType(val.type),\r\n                };\r\n                if (typeof val.value !== \"undefined\") {\r\n                    acc[val.id].value = defaultValueParseFunction(\"value\", val, assetsContainer, scene);\r\n                }\r\n                return acc;\r\n            }, {});\r\n        } else {\r\n            finalValue = intermediateValue;\r\n        }\r\n    }\r\n    return finalValue;\r\n}\r\n\r\n/**\r\n * Given a name of a flow graph block class, return if this\r\n * class needs to be created with a path converter. Used in\r\n * parsing.\r\n * @param className the name of the flow graph block class\r\n * @returns a boolean indicating if the class needs a path converter\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function needsPathConverter(className: string) {\r\n    // I am not using the ClassName property here because it was causing a circular dependency\r\n    // that jest didn't like!\r\n    return className === FlowGraphBlockNames.JsonPointerParser;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 759, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphAssetsContext.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphAssetsContext.ts"],"sourcesContent":["import type { AnimationGroup } from \"core/Animations/animationGroup\";\nimport type { Animation } from \"core/Animations/animation\";\nimport type { Nullable } from \"core/types\";\nimport type { Mesh } from \"core/Meshes/mesh\";\nimport type { Material } from \"core/Materials/material\";\nimport type { Camera } from \"core/Cameras/camera\";\nimport type { Light } from \"core/Lights/light\";\nimport type { IAssetContainer } from \"core/IAssetContainer\";\n\n/**\n * The type of the assets that flow graph supports\n */\nexport const enum FlowGraphAssetType {\n    Animation = \"Animation\",\n    AnimationGroup = \"AnimationGroup\",\n    Mesh = \"Mesh\",\n    Material = \"Material\",\n    Camera = \"Camera\",\n    Light = \"Light\",\n    // Further asset types will be added here when needed.\n}\n\nexport type AssetType<T extends FlowGraphAssetType> = T extends FlowGraphAssetType.Animation\n    ? Animation\n    : T extends FlowGraphAssetType.AnimationGroup\n      ? AnimationGroup\n      : T extends FlowGraphAssetType.Mesh\n        ? Mesh\n        : T extends FlowGraphAssetType.Material\n          ? Material\n          : T extends FlowGraphAssetType.Camera\n            ? Camera\n            : T extends FlowGraphAssetType.Light\n              ? Light\n              : never;\n\n/**\n * Returns the asset with the given index and type from the assets context.\n * @param assetsContext The assets context to get the asset from\n * @param type The type of the asset\n * @param index The index of the asset\n * @param useIndexAsUniqueId If set to true, instead of the index in the array it will search for the unique id of the asset.\n * @returns The asset or null if not found\n */\nexport function GetFlowGraphAssetWithType<T extends FlowGraphAssetType>(\n    assetsContext: IAssetContainer,\n    type: T,\n    index: number,\n    useIndexAsUniqueId?: boolean\n): Nullable<AssetType<T>> {\n    switch (type) {\n        case FlowGraphAssetType.Animation:\n            return useIndexAsUniqueId\n                ? ((assetsContext.animations.find((a) => a.uniqueId === index) as AssetType<typeof type>) ?? null)\n                : ((assetsContext.animations[index] as AssetType<typeof type>) ?? null);\n        case FlowGraphAssetType.AnimationGroup:\n            return useIndexAsUniqueId\n                ? ((assetsContext.animationGroups.find((a) => a.uniqueId === index) as AssetType<typeof type>) ?? null)\n                : ((assetsContext.animationGroups[index] as AssetType<typeof type>) ?? null);\n        case FlowGraphAssetType.Mesh:\n            return useIndexAsUniqueId\n                ? ((assetsContext.meshes.find((a) => a.uniqueId === index) as AssetType<typeof type>) ?? null)\n                : ((assetsContext.meshes[index] as AssetType<typeof type>) ?? null);\n        case FlowGraphAssetType.Material:\n            return useIndexAsUniqueId\n                ? ((assetsContext.materials.find((a) => a.uniqueId === index) as AssetType<typeof type>) ?? null)\n                : ((assetsContext.materials[index] as AssetType<typeof type>) ?? null);\n        case FlowGraphAssetType.Camera:\n            return useIndexAsUniqueId\n                ? ((assetsContext.cameras.find((a) => a.uniqueId === index) as AssetType<typeof type>) ?? null)\n                : ((assetsContext.cameras[index] as AssetType<typeof type>) ?? null);\n        case FlowGraphAssetType.Light:\n            return useIndexAsUniqueId\n                ? ((assetsContext.lights.find((a) => a.uniqueId === index) as AssetType<typeof type>) ?? null)\n                : ((assetsContext.lights[index] as AssetType<typeof type>) ?? null);\n        default:\n            return null;\n    }\n}\n"],"names":[],"mappings":"AASA;;GAEG;;;;;;AACH,IAAkB,kBAQjB;AARD,CAAA,SAAkB,kBAAkB;IAChC,kBAAA,CAAA,YAAA,GAAA,WAAuB,CAAA;IACvB,kBAAA,CAAA,iBAAA,GAAA,gBAAiC,CAAA;IACjC,kBAAA,CAAA,OAAA,GAAA,MAAa,CAAA;IACb,kBAAA,CAAA,WAAA,GAAA,UAAqB,CAAA;IACrB,kBAAA,CAAA,SAAA,GAAA,QAAiB,CAAA;IACjB,kBAAA,CAAA,QAAA,GAAA,OAAe,CAAA;AACf,sDAAsD;AAC1D,CAAC,EARiB,kBAAkB,IAAA,CAAlB,kBAAkB,GAAA,CAAA,CAAA,GAQnC;AAwBK,SAAU,yBAAyB,CACrC,aAA8B,EAC9B,IAAO,EACP,KAAa,EACb,kBAA4B;IAE5B,OAAQ,IAAI,EAAE,CAAC;QACX,KAAA,YAAA,gCAAA;YACI,OAAO,kBAAkB,GACjB,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,KAAK,KAAK,CAA4B,IAAI,IAAI,CAAC,EAC9F,aAAa,CAAC,UAAU,CAAC,KAAK,CAA4B,IAAI,IAAI,CAAC,CAAC;QAChF,KAAA,iBAAA,qCAAA;YACI,OAAO,kBAAkB,GACjB,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,KAAK,KAAK,CAA4B,IAAI,IAAI,CAAC,EACnG,aAAa,CAAC,eAAe,CAAC,KAAK,CAA4B,IAAI,IAAI,CAAC,CAAC;QACrF,KAAA,OAAA,2BAAA;YACI,OAAO,kBAAkB,GACjB,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,KAAK,KAAK,CAA4B,IAAI,IAAI,CAAC,EAC1F,aAAa,CAAC,MAAM,CAAC,KAAK,CAA4B,IAAI,IAAI,CAAC,CAAC;QAC5E,KAAA,WAAA,+BAAA;YACI,OAAO,kBAAkB,GACjB,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,KAAK,KAAK,CAA4B,IAAI,IAAI,CAAC,EAC7F,aAAa,CAAC,SAAS,CAAC,KAAK,CAA4B,IAAI,IAAI,CAAC,CAAC;QAC/E,KAAA,SAAA,6BAAA;YACI,OAAO,kBAAkB,GACjB,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,KAAK,KAAK,CAA4B,IAAI,IAAI,CAAC,EAC3F,aAAa,CAAC,OAAO,CAAC,KAAK,CAA4B,IAAI,IAAI,CAAC,CAAC;QAC7E,KAAA,QAAA,4BAAA;YACI,OAAO,kBAAkB,GACjB,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAG,CAAC,AAAF,CAAG,QAAQ,KAAK,KAAK,CAA4B,IAAI,IAAI,CAAC,EAC1F,aAAa,CAAC,MAAM,CAAC,KAAK,CAA4B,IAAI,IAAI,CAAC,CAAC;QAC5E;YACI,OAAO,IAAI,CAAC;IACpB,CAAC;AACL,CAAC"}},
    {"offset": {"line": 799, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphLogger.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphLogger.ts"],"sourcesContent":["import { Logger } from \"core/Misc/logger\";\n\nexport const enum FlowGraphAction {\n    ExecuteBlock = \"ExecuteBlock\",\n    ExecuteEvent = \"ExecuteEvent\",\n    TriggerConnection = \"TriggerConnection\",\n    ContextVariableSet = \"ContextVariableSet\",\n    GlobalVariableSet = \"GlobalVariableSet\",\n    GlobalVariableDelete = \"GlobalVariableDelete\",\n    GlobalVariableGet = \"GlobalVariableGet\",\n    AddConnection = \"AddConnection\",\n    GetConnectionValue = \"GetConnectionValue\",\n    SetConnectionValue = \"SetConnectionValue\",\n    ActivateSignal = \"ActivateSignal\",\n    ContextVariableGet = \"ContextVariableGet\",\n}\n\n/**\n * An item in the flow graph log.\n */\nexport interface IFlowGraphLogItem {\n    /**\n     * The time of the log item.\n     */\n    time?: number;\n    /**\n     * The class that triggered the log.\n     */\n    className: string;\n    /**\n     * The unique id of the block/module that triggered the log.\n     */\n    uniqueId: string;\n    /**\n     * The action that was logged.\n     */\n    action: FlowGraphAction;\n    /**\n     * The payload of the log\n     * This can be any data that is relevant to the action.\n     * For example, the value of a connection, the value of a variable, etc.\n     * This is optional.\n     */\n    payload?: any;\n}\n\n/**\n * This class will be responsible of logging the flow graph activity.\n * Note that using this class might reduce performance, as it will log every action, according to the configuration.\n * It attaches to a flow graph and uses meta-programming to replace the methods of the flow graph to add logging abilities.\n */\nexport class FlowGraphLogger {\n    /**\n     * Whether to log to the console.\n     */\n    public logToConsole: boolean = false;\n\n    /**\n     * The log cache of the flow graph.\n     * Each item is a logged item, in order of execution.\n     */\n    public log: IFlowGraphLogItem[] = [];\n\n    public addLogItem(item: IFlowGraphLogItem) {\n        if (!item.time) {\n            item.time = Date.now();\n        }\n        this.log.push(item);\n        if (this.logToConsole) {\n            const value = item.payload?.value;\n            if (typeof value === \"object\" && value.getClassName) {\n                Logger.Log(`[FGLog] ${item.className}:${item.uniqueId.split(\"-\")[0]} ${item.action} - ${JSON.stringify(value.getClassName())}: ${value.toString()}`);\n            } else {\n                Logger.Log(`[FGLog] ${item.className}:${item.uniqueId.split(\"-\")[0]} ${item.action} - ${JSON.stringify(item.payload)}`);\n            }\n        }\n    }\n\n    public getItemsOfType(action: FlowGraphAction): IFlowGraphLogItem[] {\n        return this.log.filter((i) => i.action === action);\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,MAAM,EAAE,0BAAyB;;AAE1C,IAAkB,eAajB;AAbD,CAAA,SAAkB,eAAe;IAC7B,eAAA,CAAA,eAAA,GAAA,cAA6B,CAAA;IAC7B,eAAA,CAAA,eAAA,GAAA,cAA6B,CAAA;IAC7B,eAAA,CAAA,oBAAA,GAAA,mBAAuC,CAAA;IACvC,eAAA,CAAA,qBAAA,GAAA,oBAAyC,CAAA;IACzC,eAAA,CAAA,oBAAA,GAAA,mBAAuC,CAAA;IACvC,eAAA,CAAA,uBAAA,GAAA,sBAA6C,CAAA;IAC7C,eAAA,CAAA,oBAAA,GAAA,mBAAuC,CAAA;IACvC,eAAA,CAAA,gBAAA,GAAA,eAA+B,CAAA;IAC/B,eAAA,CAAA,qBAAA,GAAA,oBAAyC,CAAA;IACzC,eAAA,CAAA,qBAAA,GAAA,oBAAyC,CAAA;IACzC,eAAA,CAAA,iBAAA,GAAA,gBAAiC,CAAA;IACjC,eAAA,CAAA,qBAAA,GAAA,oBAAyC,CAAA;AAC7C,CAAC,EAbiB,eAAe,IAAA,CAAf,eAAe,GAAA,CAAA,CAAA,GAahC;AAoCK,MAAO,eAAe;IAA5B,aAAA;QACI;;WAEG,CACI,IAAA,CAAA,YAAY,GAAY,KAAK,CAAC;QAErC;;;WAGG,CACI,IAAA,CAAA,GAAG,GAAwB,EAAE,CAAC;IAoBzC,CAAC;IAlBU,UAAU,CAAC,IAAuB,EAAA;QACrC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACb,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC3B,CAAC;QACD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;YAClC,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,YAAY,EAAE,CAAC;gBAClD,mOAAM,CAAC,GAAG,CAAC,CAAA,QAAA,EAAW,IAAI,CAAC,SAAS,CAAA,CAAA,EAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAA,GAAA,EAAM,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAA,EAAA,EAAK,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;YACzJ,CAAC,MAAM,CAAC;gBACJ,mOAAM,CAAC,GAAG,CAAC,CAAA,QAAA,EAAW,IAAI,CAAC,SAAS,CAAA,CAAA,EAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA,CAAA,EAAI,IAAI,CAAC,MAAM,CAAA,GAAA,EAAM,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC5H,CAAC;QACL,CAAC;IACL,CAAC;IAEM,cAAc,CAAC,MAAuB,EAAA;QACzC,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC;IACvD,CAAC;CACJ"}},
    {"offset": {"line": 854, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphContext.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphContext.ts"],"sourcesContent":["import { serialize } from \"../Misc/decorators\";\r\nimport { RandomGUID } from \"../Misc/guid\";\r\nimport type { Scene } from \"../scene\";\r\nimport type { FlowGraphAsyncExecutionBlock } from \"./flowGraphAsyncExecutionBlock\";\r\nimport type { FlowGraphBlock } from \"./flowGraphBlock\";\r\nimport type { FlowGraphDataConnection } from \"./flowGraphDataConnection\";\r\nimport type { FlowGraph } from \"./flowGraph\";\r\nimport { defaultValueSerializationFunction } from \"./serialization\";\r\nimport type { FlowGraphCoordinator } from \"./flowGraphCoordinator\";\r\nimport { Observable } from \"../Misc/observable\";\r\nimport type { AssetType, FlowGraphAssetType } from \"./flowGraphAssetsContext\";\r\nimport { GetFlowGraphAssetWithType } from \"./flowGraphAssetsContext\";\r\nimport type { IAssetContainer } from \"core/IAssetContainer\";\r\nimport type { Nullable } from \"core/types\";\r\nimport { FlowGraphAction, FlowGraphLogger } from \"./flowGraphLogger\";\r\nimport type { IFlowGraphOnTickEventPayload } from \"./Blocks/Event/flowGraphSceneTickEventBlock\";\r\n\r\n/**\r\n * Construction parameters for the context.\r\n */\r\nexport interface IFlowGraphContextConfiguration {\r\n    /**\r\n     * The scene that the flow graph context belongs to.\r\n     */\r\n    readonly scene: Scene;\r\n    /**\r\n     * The event coordinator used by the flow graph context.\r\n     */\r\n    readonly coordinator: FlowGraphCoordinator;\r\n\r\n    /**\r\n     * The assets context used by the flow graph context.\r\n     * If none is provided, a default one will be created.\r\n     */\r\n    readonly assetsContext?: IAssetContainer;\r\n}\r\n\r\n/**\r\n * Options for parsing a context.\r\n */\r\nexport interface IFlowGraphContextParseOptions {\r\n    /**\r\n     * A function that parses a value from a serialization object.\r\n     * @param key the key of the value\r\n     * @param serializationObject the object containing the value\r\n     * @param scene the current scene\r\n     * @returns\r\n     */\r\n    readonly valueParseFunction?: (key: string, serializationObject: any, assetsContainer: IAssetContainer, scene: Scene) => any;\r\n    /**\r\n     * The graph that the context is being parsed in.\r\n     */\r\n    readonly graph: FlowGraph;\r\n}\r\n/**\r\n * The context represents the current state and execution of the flow graph.\r\n * It contains both user-defined variables, which are derived from\r\n * a more general variable definition, and execution variables that\r\n * are set by the blocks.\r\n */\r\nexport class FlowGraphContext {\r\n    /**\r\n     * A randomly generated GUID for each context.\r\n     */\r\n    @serialize()\r\n    public uniqueId = RandomGUID();\r\n    /**\r\n     * These are the variables defined by a user.\r\n     */\r\n    private _userVariables: { [key: string]: any } = {};\r\n    /**\r\n     * These are the variables set by the blocks.\r\n     */\r\n    private _executionVariables: { [key: string]: any } = {};\r\n\r\n    /**\r\n     * A context-specific global variables, available to all blocks in the context.\r\n     */\r\n    private _globalContextVariables: { [key: string]: any } = {};\r\n    /**\r\n     * These are the values for the data connection points\r\n     */\r\n    private _connectionValues: { [key: string]: any } = {};\r\n    /**\r\n     * These are the variables set by the graph.\r\n     */\r\n    private readonly _configuration: IFlowGraphContextConfiguration;\r\n    /**\r\n     * These are blocks that have currently pending tasks/listeners that need to be cleaned up.\r\n     */\r\n    private _pendingBlocks: FlowGraphAsyncExecutionBlock[] = [];\r\n    /**\r\n     * A monotonically increasing ID for each execution.\r\n     * Incremented for every block executed.\r\n     */\r\n    private _executionId = 0;\r\n    /**\r\n     * Observable that is triggered when a node is executed.\r\n     */\r\n    public onNodeExecutedObservable: Observable<FlowGraphBlock> = new Observable<FlowGraphBlock>();\r\n\r\n    /**\r\n     * The assets context used by the flow graph context.\r\n     * Note that it can be shared between flow graph contexts.\r\n     */\r\n    public assetsContext: IAssetContainer;\r\n\r\n    /**\r\n     * Whether to treat data as right-handed.\r\n     * This is used when serializing data from a right-handed system, while running the context in a left-handed system, for example in glTF parsing.\r\n     * Default is false.\r\n     */\r\n    public treatDataAsRightHanded = false;\r\n\r\n    private _enableLogging = false;\r\n\r\n    /**\r\n     * The logger used by the context to log actions.\r\n     */\r\n    public logger: Nullable<FlowGraphLogger>;\r\n\r\n    /**\r\n     * Enable logging on this context\r\n     */\r\n    public get enableLogging() {\r\n        return this._enableLogging;\r\n    }\r\n\r\n    public set enableLogging(value: boolean) {\r\n        if (this._enableLogging === value) {\r\n            return;\r\n        }\r\n        this._enableLogging = value;\r\n        if (this._enableLogging) {\r\n            this.logger = new FlowGraphLogger();\r\n            this.logger.logToConsole = true;\r\n        } else {\r\n            this.logger = null;\r\n        }\r\n    }\r\n\r\n    constructor(params: IFlowGraphContextConfiguration) {\r\n        this._configuration = params;\r\n        this.assetsContext = params.assetsContext ?? params.scene;\r\n    }\r\n\r\n    /**\r\n     * Check if a user-defined variable is defined.\r\n     * @param name the name of the variable\r\n     * @returns true if the variable is defined\r\n     */\r\n    public hasVariable(name: string) {\r\n        return name in this._userVariables;\r\n    }\r\n\r\n    /**\r\n     * Set a user-defined variable.\r\n     * @param name the name of the variable\r\n     * @param value the value of the variable\r\n     */\r\n    public setVariable(name: string, value: any) {\r\n        this._userVariables[name] = value;\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.ContextVariableSet,\r\n            payload: {\r\n                name,\r\n                value,\r\n            },\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get an assets from the assets context based on its type and index in the array\r\n     * @param type The type of the asset\r\n     * @param index The index of the asset\r\n     * @returns The asset or null if not found\r\n     */\r\n    public getAsset<T extends FlowGraphAssetType>(type: T, index: number): Nullable<AssetType<T>> {\r\n        return GetFlowGraphAssetWithType(this.assetsContext, type, index);\r\n    }\r\n\r\n    /**\r\n     * Get a user-defined variable.\r\n     * @param name the name of the variable\r\n     * @returns the value of the variable\r\n     */\r\n    public getVariable(name: string): any {\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.ContextVariableGet,\r\n            payload: {\r\n                name,\r\n                value: this._userVariables[name],\r\n            },\r\n        });\r\n        return this._userVariables[name];\r\n    }\r\n\r\n    /**\r\n     * Gets all user variables map\r\n     */\r\n    public get userVariables() {\r\n        return this._userVariables;\r\n    }\r\n\r\n    /**\r\n     * Get the scene that the context belongs to.\r\n     * @returns the scene\r\n     */\r\n    public getScene() {\r\n        return this._configuration.scene;\r\n    }\r\n\r\n    private _getUniqueIdPrefixedName(obj: FlowGraphBlock, name: string): string {\r\n        return `${obj.uniqueId}_${name}`;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * @param name name of the variable\r\n     * @param defaultValue default value to return if the variable is not defined\r\n     * @returns the variable value or the default value if the variable is not defined\r\n     */\r\n    public _getGlobalContextVariable<T>(name: string, defaultValue: T): T {\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.GlobalVariableGet,\r\n            payload: {\r\n                name,\r\n                defaultValue,\r\n                possibleValue: this._globalContextVariables[name],\r\n            },\r\n        });\r\n        if (this._hasGlobalContextVariable(name)) {\r\n            return this._globalContextVariables[name];\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set a global context variable\r\n     * @internal\r\n     * @param name the name of the variable\r\n     * @param value the value of the variable\r\n     */\r\n    public _setGlobalContextVariable<T>(name: string, value: T) {\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.GlobalVariableSet,\r\n            payload: { name, value },\r\n        });\r\n        this._globalContextVariables[name] = value;\r\n    }\r\n\r\n    /**\r\n     * Delete a global context variable\r\n     * @internal\r\n     * @param name the name of the variable\r\n     */\r\n    public _deleteGlobalContextVariable(name: string) {\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.GlobalVariableDelete,\r\n            payload: { name },\r\n        });\r\n        delete this._globalContextVariables[name];\r\n    }\r\n\r\n    /**\r\n     * Check if a global context variable is defined\r\n     * @internal\r\n     * @param name the name of the variable\r\n     * @returns true if the variable is defined\r\n     */\r\n    public _hasGlobalContextVariable(name: string) {\r\n        return name in this._globalContextVariables;\r\n    }\r\n\r\n    /**\r\n     * Set an internal execution variable\r\n     * @internal\r\n     * @param name\r\n     * @param value\r\n     */\r\n    public _setExecutionVariable(block: FlowGraphBlock, name: string, value: any) {\r\n        this._executionVariables[this._getUniqueIdPrefixedName(block, name)] = value;\r\n    }\r\n\r\n    /**\r\n     * Get an internal execution variable\r\n     * @internal\r\n     * @param name\r\n     * @returns\r\n     */\r\n    public _getExecutionVariable<T>(block: FlowGraphBlock, name: string, defaultValue: T): T {\r\n        if (this._hasExecutionVariable(block, name)) {\r\n            return this._executionVariables[this._getUniqueIdPrefixedName(block, name)];\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Delete an internal execution variable\r\n     * @internal\r\n     * @param block\r\n     * @param name\r\n     */\r\n    public _deleteExecutionVariable(block: FlowGraphBlock, name: string) {\r\n        delete this._executionVariables[this._getUniqueIdPrefixedName(block, name)];\r\n    }\r\n\r\n    /**\r\n     * Check if an internal execution variable is defined\r\n     * @internal\r\n     * @param block\r\n     * @param name\r\n     * @returns\r\n     */\r\n    public _hasExecutionVariable(block: FlowGraphBlock, name: string) {\r\n        return this._getUniqueIdPrefixedName(block, name) in this._executionVariables;\r\n    }\r\n\r\n    /**\r\n     * Check if a connection value is defined\r\n     * @internal\r\n     * @param connectionPoint\r\n     * @returns\r\n     */\r\n    public _hasConnectionValue(connectionPoint: FlowGraphDataConnection<any>) {\r\n        return connectionPoint.uniqueId in this._connectionValues;\r\n    }\r\n\r\n    /**\r\n     * Set a connection value\r\n     * @internal\r\n     * @param connectionPoint\r\n     * @param value\r\n     */\r\n    public _setConnectionValue<T>(connectionPoint: FlowGraphDataConnection<T>, value: T) {\r\n        this._connectionValues[connectionPoint.uniqueId] = value;\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.SetConnectionValue,\r\n            payload: {\r\n                connectionPointId: connectionPoint.uniqueId,\r\n                value,\r\n            },\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set a connection value by key\r\n     * @internal\r\n     * @param key the key of the connection value\r\n     * @param value the value of the connection\r\n     */\r\n    public _setConnectionValueByKey<T>(key: string, value: T) {\r\n        this._connectionValues[key] = value;\r\n    }\r\n\r\n    /**\r\n     * Get a connection value\r\n     * @internal\r\n     * @param connectionPoint\r\n     * @returns\r\n     */\r\n    public _getConnectionValue<T>(connectionPoint: FlowGraphDataConnection<T>): T {\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n            action: FlowGraphAction.GetConnectionValue,\r\n            payload: {\r\n                connectionPointId: connectionPoint.uniqueId,\r\n                value: this._connectionValues[connectionPoint.uniqueId],\r\n            },\r\n        });\r\n        return this._connectionValues[connectionPoint.uniqueId];\r\n    }\r\n\r\n    /**\r\n     * Get the configuration\r\n     * @internal\r\n     * @param name\r\n     * @param value\r\n     */\r\n    public get configuration() {\r\n        return this._configuration;\r\n    }\r\n\r\n    /**\r\n     * Check if there are any pending blocks in this context\r\n     * @returns true if there are pending blocks\r\n     */\r\n    public get hasPendingBlocks() {\r\n        return this._pendingBlocks.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Add a block to the list of blocks that have pending tasks.\r\n     * @internal\r\n     * @param block\r\n     */\r\n    public _addPendingBlock(block: FlowGraphAsyncExecutionBlock) {\r\n        // check if block is already in the array\r\n        if (this._pendingBlocks.includes(block)) {\r\n            return;\r\n        }\r\n        this._pendingBlocks.push(block);\r\n        // sort pending blocks by priority\r\n        this._pendingBlocks.sort((a, b) => a.priority - b.priority);\r\n    }\r\n\r\n    /**\r\n     * Remove a block from the list of blocks that have pending tasks.\r\n     * @internal\r\n     * @param block\r\n     */\r\n    public _removePendingBlock(block: FlowGraphAsyncExecutionBlock) {\r\n        const index = this._pendingBlocks.indexOf(block);\r\n        if (index !== -1) {\r\n            this._pendingBlocks.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clear all pending blocks.\r\n     * @internal\r\n     */\r\n    public _clearPendingBlocks() {\r\n        for (const block of this._pendingBlocks) {\r\n            block._cancelPendingTasks(this);\r\n        }\r\n        this._pendingBlocks.length = 0;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * Function that notifies the node executed observable\r\n     * @param node\r\n     */\r\n    public _notifyExecuteNode(node: FlowGraphBlock) {\r\n        this.onNodeExecutedObservable.notifyObservers(node);\r\n        this.logger?.addLogItem({\r\n            time: Date.now(),\r\n            className: node.getClassName(),\r\n            uniqueId: node.uniqueId,\r\n            action: FlowGraphAction.ExecuteBlock,\r\n        });\r\n    }\r\n\r\n    public _notifyOnTick(framePayload: IFlowGraphOnTickEventPayload) {\r\n        // set the values as global variables\r\n        this._setGlobalContextVariable(\"timeSinceStart\", framePayload.timeSinceStart);\r\n        this._setGlobalContextVariable(\"deltaTime\", framePayload.deltaTime);\r\n        // iterate the pending blocks and run each one's onFrame function\r\n        for (const block of this._pendingBlocks) {\r\n            block._executeOnTick?.(this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _increaseExecutionId() {\r\n        this._executionId++;\r\n    }\r\n    /**\r\n     * A monotonically increasing ID for each execution.\r\n     * Incremented for every block executed.\r\n     */\r\n    public get executionId() {\r\n        return this._executionId;\r\n    }\r\n\r\n    /**\r\n     * Serializes a context\r\n     * @param serializationObject the object to write the values in\r\n     * @param valueSerializationFunction a function to serialize complex values\r\n     */\r\n    public serialize(serializationObject: any = {}, valueSerializationFunction: (key: string, value: any, serializationObject: any) => void = defaultValueSerializationFunction) {\r\n        serializationObject.uniqueId = this.uniqueId;\r\n        serializationObject._userVariables = {};\r\n        for (const key in this._userVariables) {\r\n            valueSerializationFunction(key, this._userVariables[key], serializationObject._userVariables);\r\n        }\r\n        serializationObject._connectionValues = {};\r\n        for (const key in this._connectionValues) {\r\n            valueSerializationFunction(key, this._connectionValues[key], serializationObject._connectionValues);\r\n        }\r\n        // serialize assets context, if not scene\r\n        if (this.assetsContext !== this.getScene()) {\r\n            serializationObject._assetsContext = {\r\n                meshes: this.assetsContext.meshes.map((m) => m.id),\r\n                materials: this.assetsContext.materials.map((m) => m.id),\r\n                textures: this.assetsContext.textures.map((m) => m.name),\r\n                animations: this.assetsContext.animations.map((m) => m.name),\r\n                lights: this.assetsContext.lights.map((m) => m.id),\r\n                cameras: this.assetsContext.cameras.map((m) => m.id),\r\n                sounds: this.assetsContext.sounds?.map((m) => m.name),\r\n                skeletons: this.assetsContext.skeletons.map((m) => m.id),\r\n                particleSystems: this.assetsContext.particleSystems.map((m) => m.name),\r\n                geometries: this.assetsContext.geometries.map((m) => m.id),\r\n                multiMaterials: this.assetsContext.multiMaterials.map((m) => m.id),\r\n                transformNodes: this.assetsContext.transformNodes.map((m) => m.id),\r\n            };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns the class name of the object.\r\n     */\r\n    public getClassName() {\r\n        return \"FlowGraphContext\";\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1266, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphConnection.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphConnection.ts"],"sourcesContent":["import { RandomGUID } from \"../Misc/guid\";\r\n\r\n/**\r\n * The type of a connection point - input or output.\r\n */\r\nexport const enum FlowGraphConnectionType {\r\n    Input,\r\n    Output,\r\n}\r\n\r\n/**\r\n * An interface for a connectable point in the flow graph.\r\n */\r\nexport interface IConnectable {\r\n    /**\r\n     * A uniquely identifying string for the connection.\r\n     */\r\n    uniqueId: string;\r\n    /**\r\n     * An array of the points that this point is connected to.\r\n     */\r\n    _connectedPoint: Array<IConnectable>;\r\n    /**\r\n     * Returns if the connection can only be connected to one other point.\r\n     */\r\n    _isSingularConnection(): boolean;\r\n    /**\r\n     * The type of the connection\r\n     */\r\n    _connectionType: FlowGraphConnectionType;\r\n    /**\r\n     * Connect this point to another point.\r\n     * @param point the point to connect to.\r\n     */\r\n    connectTo(point: IConnectable): void;\r\n}\r\n\r\n/**\r\n * The base connection class.\r\n */\r\nexport class FlowGraphConnection<BlockT, ConnectedToT extends IConnectable> implements IConnectable {\r\n    /** @internal */\r\n    public _connectedPoint: Array<ConnectedToT> = [];\r\n    /**\r\n     * A uniquely identifying string for the connection.\r\n     */\r\n    public uniqueId = RandomGUID();\r\n\r\n    /**\r\n     * The name of the connection.\r\n     */\r\n    public name: string;\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _connectionType: FlowGraphConnectionType;\r\n\r\n    /**\r\n     * Used for parsing connections.\r\n     * @internal\r\n     */\r\n    // disable warning as this is used for parsing\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    public connectedPointIds: any[] = [];\r\n\r\n    public constructor(\r\n        name: string,\r\n        _connectionType: FlowGraphConnectionType,\r\n        /* @internal */ public _ownerBlock: BlockT\r\n    ) {\r\n        this.name = name;\r\n        this._connectionType = _connectionType;\r\n    }\r\n\r\n    /**\r\n     * The type of the connection\r\n     */\r\n    public get connectionType() {\r\n        return this._connectionType;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * Override this to indicate if a point can connect to more than one point.\r\n     */\r\n    public _isSingularConnection(): boolean {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Returns if a point is connected to any other point.\r\n     * @returns boolean indicating if the point is connected.\r\n     */\r\n    public isConnected(): boolean {\r\n        return this._connectedPoint.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Connects two connections together.\r\n     * @param point the connection to connect to.\r\n     */\r\n    public connectTo(point: ConnectedToT): void {\r\n        if (this._connectionType === point._connectionType) {\r\n            throw new Error(`Cannot connect two points of type ${this.connectionType}`);\r\n        }\r\n        if ((this._isSingularConnection() && this._connectedPoint.length > 0) || (point._isSingularConnection() && point._connectedPoint.length > 0)) {\r\n            throw new Error(\"Max number of connections for point reached\");\r\n        }\r\n        this._connectedPoint.push(point);\r\n        point._connectedPoint.push(this);\r\n    }\r\n\r\n    /**\r\n     * Disconnects two connections.\r\n     * @param point the connection to disconnect from.\r\n     * @param removeFromLocal if true, the connection will be removed from the local connection list.\r\n     */\r\n    public disconnectFrom(point: ConnectedToT, removeFromLocal = true): void {\r\n        const indexLocal = this._connectedPoint.indexOf(point);\r\n        const indexConnected = point._connectedPoint.indexOf(this);\r\n        if (indexLocal === -1 || indexConnected === -1) {\r\n            return;\r\n        }\r\n        if (removeFromLocal) {\r\n            this._connectedPoint.splice(indexLocal, 1);\r\n        }\r\n        point._connectedPoint.splice(indexConnected, 1);\r\n    }\r\n\r\n    /**\r\n     * Disconnects all connected points.\r\n     */\r\n    public disconnectFromAll() {\r\n        for (const point of this._connectedPoint) {\r\n            this.disconnectFrom(point, false);\r\n        }\r\n        this._connectedPoint.length = 0;\r\n    }\r\n\r\n    public dispose() {\r\n        for (const point of this._connectedPoint) {\r\n            this.disconnectFrom(point);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Saves the connection to a JSON object.\r\n     * @param serializationObject the object to serialize to.\r\n     */\r\n    public serialize(serializationObject: any = {}) {\r\n        serializationObject.uniqueId = this.uniqueId;\r\n        serializationObject.name = this.name;\r\n        serializationObject._connectionType = this._connectionType;\r\n        serializationObject.connectedPointIds = [];\r\n        serializationObject.className = this.getClassName();\r\n        for (const point of this._connectedPoint) {\r\n            serializationObject.connectedPointIds.push(point.uniqueId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the connection.\r\n     */\r\n    public getClassName(): string {\r\n        return \"FGConnection\";\r\n    }\r\n\r\n    /**\r\n     * Deserialize from a object into this\r\n     * @param serializationObject the object to deserialize from.\r\n     */\r\n    deserialize(serializationObject: any) {\r\n        this.uniqueId = serializationObject.uniqueId;\r\n        this.name = serializationObject.name;\r\n        this._connectionType = serializationObject._connectionType;\r\n        this.connectedPointIds = serializationObject.connectedPointIds;\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1385, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphDataConnection.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphDataConnection.ts"],"sourcesContent":["import type { Nullable } from \"core/types\";\r\nimport { RegisterClass } from \"../Misc/typeStore\";\r\nimport type { FlowGraphBlock } from \"./flowGraphBlock\";\r\nimport { FlowGraphConnection, FlowGraphConnectionType } from \"./flowGraphConnection\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport type { RichType } from \"./flowGraphRichTypes\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport { defaultValueSerializationFunction } from \"./serialization\";\r\n/**\r\n * Represents a connection point for data.\r\n * An unconnected input point can have a default value.\r\n * An output point will only have a value if it is connected to an input point. Furthermore,\r\n * if the point belongs to a \"function\" node, the node will run its function to update the value.\r\n */\r\nexport class FlowGraphDataConnection<T> extends FlowGraphConnection<FlowGraphBlock, FlowGraphDataConnection<T>> {\r\n    private _isDisabled: boolean = false;\r\n    /**\r\n     * This is used for debugging purposes! It is the last value that was set to this connection with ANY context.\r\n     * Do not use this value for anything else, as it might be wrong if used in a different context.\r\n     */\r\n    private _lastValue: Nullable<T> = null;\r\n\r\n    /**\r\n     * a data transformer function, if needed.\r\n     * This can be used, for example, to force seconds into milliseconds output, if it makes sense in your case.\r\n     */\r\n    public dataTransformer: Nullable<(value: T) => T> = null;\r\n\r\n    /**\r\n     * An observable that is triggered when the value of the connection changes.\r\n     */\r\n    public onValueChangedObservable = new Observable<T>();\r\n    /**\r\n     * Create a new data connection point.\r\n     * @param name the name of the connection\r\n     * @param connectionType the type of the connection\r\n     * @param ownerBlock the block that owns this connection\r\n     * @param richType the type of the data in this block\r\n     * @param _defaultValue the default value of the connection\r\n     * @param _optional if the connection is optional\r\n     */\r\n    public constructor(\r\n        name: string,\r\n        connectionType: FlowGraphConnectionType,\r\n        ownerBlock: FlowGraphBlock,\r\n        /**\r\n         * the type of the data in this block\r\n         */\r\n        public richType: RichType<T>,\r\n        /**\r\n         * [any] the default value of the connection\r\n         */\r\n        private _defaultValue: T = richType.defaultValue,\r\n        /**\r\n         * [false] if the connection is optional\r\n         */\r\n        private _optional: boolean = false\r\n    ) {\r\n        super(name, connectionType, ownerBlock);\r\n    }\r\n\r\n    /**\r\n     * Whether or not the connection is optional.\r\n     * Currently only used for UI control.\r\n     */\r\n    public get optional(): boolean {\r\n        return this._optional;\r\n    }\r\n\r\n    /**\r\n     * is this connection disabled\r\n     * If the connection is disabled you will not be able to connect anything to it.\r\n     */\r\n    public get isDisabled(): boolean {\r\n        return this._isDisabled;\r\n    }\r\n\r\n    public set isDisabled(value: boolean) {\r\n        if (this._isDisabled === value) {\r\n            return;\r\n        }\r\n        this._isDisabled = value;\r\n        if (this._isDisabled) {\r\n            this.disconnectFromAll();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * An output data block can connect to multiple input data blocks,\r\n     * but an input data block can only connect to one output data block.\r\n     * @returns true if the connection is singular\r\n     */\r\n    public override _isSingularConnection(): boolean {\r\n        return this.connectionType === FlowGraphConnectionType.Input;\r\n    }\r\n\r\n    /**\r\n     * Set the value of the connection in a specific context.\r\n     * @param value the value to set\r\n     * @param context the context to which the value is set\r\n     */\r\n    public setValue(value: T, context: FlowGraphContext): void {\r\n        // check if the value is different\r\n        if (context._getConnectionValue(this) === value) {\r\n            return;\r\n        }\r\n        context._setConnectionValue(this, value);\r\n        this.onValueChangedObservable.notifyObservers(value);\r\n    }\r\n\r\n    /**\r\n     * Reset the value of the connection to the default value.\r\n     * @param context the context in which the value is reset\r\n     */\r\n    public resetToDefaultValue(context: FlowGraphContext): void {\r\n        context._setConnectionValue(this, this._defaultValue);\r\n    }\r\n\r\n    /**\r\n     * Connect this point to another point.\r\n     * @param point the point to connect to.\r\n     */\r\n    public override connectTo(point: FlowGraphDataConnection<T>): void {\r\n        if (this._isDisabled) {\r\n            return;\r\n        }\r\n        super.connectTo(point);\r\n    }\r\n\r\n    private _getValueOrDefault(context: FlowGraphContext): T {\r\n        const val = context._getConnectionValue(this) ?? this._defaultValue;\r\n        return this.dataTransformer ? this.dataTransformer(val) : val;\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the connection in a specific context.\r\n     * @param context the context from which the value is retrieved\r\n     * @returns the value of the connection\r\n     */\r\n    public getValue(context: FlowGraphContext): T {\r\n        if (this.connectionType === FlowGraphConnectionType.Output) {\r\n            context._notifyExecuteNode(this._ownerBlock);\r\n            this._ownerBlock._updateOutputs(context);\r\n            const value = this._getValueOrDefault(context);\r\n            this._lastValue = value;\r\n            return this.richType.typeTransformer ? this.richType.typeTransformer(value) : value;\r\n        }\r\n        const value = !this.isConnected() ? this._getValueOrDefault(context) : this._connectedPoint[0].getValue(context);\r\n        this._lastValue = value;\r\n        return this.richType.typeTransformer ? this.richType.typeTransformer(value) : value;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _getLastValue(): Nullable<T> {\r\n        return this._lastValue;\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the object.\r\n     */\r\n    public override getClassName(): string {\r\n        return \"FlowGraphDataConnection\";\r\n    }\r\n\r\n    /**\r\n     * Serializes this object.\r\n     * @param serializationObject the object to serialize to\r\n     */\r\n    public override serialize(serializationObject: any = {}) {\r\n        super.serialize(serializationObject);\r\n        serializationObject.richType = {};\r\n        this.richType.serialize(serializationObject.richType);\r\n        serializationObject.optional = this._optional;\r\n        defaultValueSerializationFunction(\"defaultValue\", this._defaultValue, serializationObject);\r\n    }\r\n}\r\n\r\nRegisterClass(\"FlowGraphDataConnection\", FlowGraphDataConnection);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1531, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphBlock.ts"],"sourcesContent":["import { RandomGUID } from \"../Misc/guid\";\r\nimport { FlowGraphConnectionType } from \"./flowGraphConnection\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport { FlowGraphDataConnection } from \"./flowGraphDataConnection\";\r\nimport type { RichType } from \"./flowGraphRichTypes\";\r\nimport type { ISerializedFlowGraphBlock, IObjectAccessor } from \"./typeDefinitions\";\r\nimport { defaultValueSerializationFunction } from \"./serialization\";\r\nimport type { Scene } from \"../scene\";\r\nimport type { IPathToObjectConverter } from \"../ObjectModel/objectModelInterfaces\";\r\nimport type { IAssetContainer } from \"core/IAssetContainer\";\r\nimport type { FlowGraphAction } from \"./flowGraphLogger\";\r\n\r\n/**\r\n * Options for parsing a block.\r\n */\r\nexport interface IFlowGraphBlockParseOptions {\r\n    /**\r\n     * A function that parses a value from a serialization object.\r\n     * @param key the key of the property\r\n     * @param serializationObject the serialization object where the property is located\r\n     * @param scene the scene that the block is being parsed in\r\n     * @returns the parsed value\r\n     */\r\n    valueParseFunction?: (key: string, serializationObject: any, assetsContainer: IAssetContainer, scene: Scene) => any;\r\n    /**\r\n     * The assets container to use when loading assets.\r\n     */\r\n    assetsContainer?: IAssetContainer;\r\n    /**\r\n     * The scene that the block is being parsed in.\r\n     */\r\n    scene: Scene;\r\n    /**\r\n     * The path converter to use to convert the path to an object accessor.\r\n     */\r\n    pathConverter?: IPathToObjectConverter<IObjectAccessor>;\r\n}\r\n\r\n/**\r\n * Configuration for a block.\r\n */\r\nexport interface IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The name of the block.\r\n     */\r\n    name?: string;\r\n    [extraPropertyKey: string]: any;\r\n}\r\n\r\n/**\r\n * A block in a flow graph. The most basic form\r\n * of a block has inputs and outputs that contain\r\n * data.\r\n */\r\nexport class FlowGraphBlock {\r\n    /**\r\n     * A randomly generated GUID for each block.\r\n     */\r\n    public uniqueId = RandomGUID();\r\n    /**\r\n     * The name of the block.\r\n     */\r\n    public name: string;\r\n    /**\r\n     * The data inputs of the block.\r\n     */\r\n    public dataInputs: FlowGraphDataConnection<any>[];\r\n    /**\r\n     * The data outputs of the block.\r\n     */\r\n    public dataOutputs: FlowGraphDataConnection<any>[];\r\n\r\n    /**\r\n     * Metadata that can be used by the block.\r\n     */\r\n    public metadata: any;\r\n\r\n    /** Constructor is protected so only subclasses can be instantiated\r\n     * @param config optional configuration for this block\r\n     * @internal - do not use directly. Extend this class instead.\r\n     */\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        this.name = this.config?.name ?? this.getClassName();\r\n        this.dataInputs = [];\r\n        this.dataOutputs = [];\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * This function is called when the block needs to update its output flows.\r\n     * @param _context the context in which it is running\r\n     */\r\n    public _updateOutputs(_context: FlowGraphContext): void {\r\n        // empty by default, overridden in data blocks\r\n    }\r\n\r\n    /**\r\n     * Registers a data input on the block.\r\n     * @param name the name of the input\r\n     * @param richType the type of the input\r\n     * @param defaultValue optional default value of the input. If not set, the rich type's default value will be used.\r\n     * @returns the created connection\r\n     */\r\n    public registerDataInput<T>(name: string, richType: RichType<T>, defaultValue?: T): FlowGraphDataConnection<T> {\r\n        const input = new FlowGraphDataConnection(name, FlowGraphConnectionType.Input, this, richType, defaultValue);\r\n        this.dataInputs.push(input);\r\n        return input;\r\n    }\r\n\r\n    /**\r\n     * Registers a data output on the block.\r\n     * @param name the name of the input\r\n     * @param richType the type of the input\r\n     * @param defaultValue optional default value of the input. If not set, the rich type's default value will be used.\r\n     * @returns the created connection\r\n     */\r\n    public registerDataOutput<T>(name: string, richType: RichType<T>, defaultValue?: T): FlowGraphDataConnection<T> {\r\n        const output = new FlowGraphDataConnection(name, FlowGraphConnectionType.Output, this, richType, defaultValue);\r\n        this.dataOutputs.push(output);\r\n        return output;\r\n    }\r\n\r\n    /**\r\n     * Given the name of a data input, returns the connection if it exists\r\n     * @param name the name of the input\r\n     * @returns the connection if it exists, undefined otherwise\r\n     */\r\n    public getDataInput(name: string): FlowGraphDataConnection<any> | undefined {\r\n        return this.dataInputs.find((i) => i.name === name);\r\n    }\r\n\r\n    /**\r\n     * Given the name of a data output, returns the connection if it exists\r\n     * @param name the name of the output\r\n     * @returns the connection if it exists, undefined otherwise\r\n     */\r\n    public getDataOutput(name: string): FlowGraphDataConnection<any> | undefined {\r\n        return this.dataOutputs.find((i) => i.name === name);\r\n    }\r\n\r\n    /**\r\n     * Serializes this block\r\n     * @param serializationObject the object to serialize to\r\n     * @param _valueSerializeFunction a function that serializes a specific value\r\n     */\r\n    public serialize(serializationObject: any = {}, _valueSerializeFunction: (key: string, value: any, serializationObject: any) => any = defaultValueSerializationFunction) {\r\n        serializationObject.uniqueId = this.uniqueId;\r\n        serializationObject.config = {};\r\n        if (this.config) {\r\n            const config = this.config;\r\n            const keys = Object.keys(config);\r\n            for (const key of keys) {\r\n                _valueSerializeFunction(key, config[key], serializationObject.config);\r\n            }\r\n        }\r\n        serializationObject.dataInputs = [];\r\n        serializationObject.dataOutputs = [];\r\n        serializationObject.className = this.getClassName();\r\n        for (const input of this.dataInputs) {\r\n            const serializedInput: any = {};\r\n            input.serialize(serializedInput);\r\n            serializationObject.dataInputs.push(serializedInput);\r\n        }\r\n        for (const output of this.dataOutputs) {\r\n            const serializedOutput: any = {};\r\n            output.serialize(serializedOutput);\r\n            serializationObject.dataOutputs.push(serializedOutput);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Deserializes this block\r\n     * @param _serializationObject the object to deserialize from\r\n     */\r\n    public deserialize(_serializationObject: ISerializedFlowGraphBlock) {\r\n        // no-op by default\r\n    }\r\n\r\n    protected _log(context: FlowGraphContext, action: FlowGraphAction, payload?: any) {\r\n        context.logger?.addLogItem({\r\n            action,\r\n            payload,\r\n            className: this.getClassName(),\r\n            uniqueId: this.uniqueId,\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public getClassName() {\r\n        return \"FlowGraphBlock\";\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1652, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphSignalConnection.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphSignalConnection.ts"],"sourcesContent":["import type { FlowGraphExecutionBlock } from \"./flowGraphExecutionBlock\";\r\nimport { FlowGraphConnection, FlowGraphConnectionType } from \"./flowGraphConnection\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport { RegisterClass } from \"../Misc/typeStore\";\r\nimport { FlowGraphAction } from \"./flowGraphLogger\";\r\n\r\n/**\r\n * Represents a connection point for a signal.\r\n * When an output point is activated, it will activate the connected input point.\r\n * When an input point is activated, it will execute the block it belongs to.\r\n */\r\nexport class FlowGraphSignalConnection extends FlowGraphConnection<FlowGraphExecutionBlock, FlowGraphSignalConnection> {\r\n    /**\r\n     * Optional payload. Can be used, for example, when an error is thrown to pass additional information.\r\n     */\r\n    public payload: any;\r\n\r\n    /**\r\n     * The priority of the signal. Signals with higher priority will be executed first.\r\n     * Set priority before adding the connection as sorting happens only when the connection is added.\r\n     */\r\n    public priority: number = 0;\r\n\r\n    public override _isSingularConnection(): boolean {\r\n        return false;\r\n    }\r\n\r\n    public override connectTo(point: FlowGraphSignalConnection): void {\r\n        super.connectTo(point);\r\n        // sort according to priority to handle execution order\r\n        this._connectedPoint.sort((a, b) => b.priority - a.priority);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _activateSignal(context: FlowGraphContext): void {\r\n        context.logger?.addLogItem({\r\n            action: FlowGraphAction.ActivateSignal,\r\n            className: this._ownerBlock.getClassName(),\r\n            uniqueId: this._ownerBlock.uniqueId,\r\n            payload: {\r\n                connectionType: this.connectionType,\r\n                name: this.name,\r\n            },\r\n        });\r\n        if (this.connectionType === FlowGraphConnectionType.Input) {\r\n            context._notifyExecuteNode(this._ownerBlock);\r\n            this._ownerBlock._execute(context, this);\r\n            context._increaseExecutionId();\r\n        } else {\r\n            for (const connectedPoint of this._connectedPoint) {\r\n                connectedPoint._activateSignal(context);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nRegisterClass(\"FlowGraphSignalConnection\", FlowGraphSignalConnection);\r\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,mBAAmB,EAA2B,MAAM,uBAAuB,CAAC;AAErF,OAAO,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;;;AAQ5C,MAAO,yBAA0B,SAAQ,kQAAuE;IAAtH,aAAA;;QAMI;;;WAGG,CACI,IAAA,CAAA,QAAQ,GAAW,CAAC,CAAC;IAmChC,CAAC;IAjCmB,qBAAqB,GAAA;QACjC,OAAO,KAAK,CAAC;IACjB,CAAC;IAEe,SAAS,CAAC,KAAgC,EAAA;QACtD,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACvB,uDAAuD;QACvD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAG,CAAD,AAAE,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC;IACjE,CAAC;IAED;;OAEG,CACI,eAAe,CAAC,OAAyB,EAAA;QAC5C,OAAO,CAAC,MAAM,EAAE,UAAU,CAAC;YACvB,MAAM,EAAA,iBAAA,kCAAA,EAAgC;YACtC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE;YAC1C,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ;YACnC,OAAO,EAAE;gBACL,cAAc,EAAE,IAAI,CAAC,cAAc;gBACnC,IAAI,EAAE,IAAI,CAAC,IAAI;aAClB;SACJ,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,cAAc,KAAA,EAAA,iCAAA,EAAkC,GAAE,CAAC;YACxD,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YACzC,OAAO,CAAC,oBAAoB,EAAE,CAAC;QACnC,CAAC,MAAM,CAAC;YACJ,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,eAAe,CAAE,CAAC;gBAChD,cAAc,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC5C,CAAC;QACL,CAAC;IACL,CAAC;CACJ;IAED,6OAAa,EAAC,2BAA2B,EAAE,yBAAyB,CAAC,CAAC"}},
    {"offset": {"line": 1704, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphExecutionBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphExecutionBlock.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"./flowGraphBlock\";\r\nimport { FlowGraphBlock } from \"./flowGraphBlock\";\r\nimport { FlowGraphConnectionType } from \"./flowGraphConnection\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport { FlowGraphSignalConnection } from \"./flowGraphSignalConnection\";\r\n\r\n/**\r\n * A block that executes some action. Always has an input signal (which is not used by event blocks).\r\n * Can have one or more output signals.\r\n */\r\nexport abstract class FlowGraphExecutionBlock extends FlowGraphBlock {\r\n    /**\r\n     * Input connection: The input signal of the block.\r\n     */\r\n    public readonly in: FlowGraphSignalConnection;\r\n\r\n    /**\r\n     * An output connection that can be used to signal an error, if the block defines it.\r\n     */\r\n    public readonly error: FlowGraphSignalConnection;\r\n    /**\r\n     * Input connections that activate the block.\r\n     */\r\n    public signalInputs: FlowGraphSignalConnection[];\r\n    /**\r\n     * Output connections that can activate downstream blocks.\r\n     */\r\n    public signalOutputs: FlowGraphSignalConnection[];\r\n\r\n    /**\r\n     * The priority of the block. Higher priority blocks will be executed first.\r\n     * Note that priority cannot be change AFTER the block was added as sorting happens when the block is added to the execution queue.\r\n     */\r\n    public readonly priority: number = 0;\r\n\r\n    protected constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n        this.signalInputs = [];\r\n        this.signalOutputs = [];\r\n        this.in = this._registerSignalInput(\"in\");\r\n        this.error = this._registerSignalOutput(\"error\");\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * Executes the flow graph execution block.\r\n     */\r\n    public abstract _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void;\r\n\r\n    protected _registerSignalInput(name: string): FlowGraphSignalConnection {\r\n        const input = new FlowGraphSignalConnection(name, FlowGraphConnectionType.Input, this);\r\n        this.signalInputs.push(input);\r\n        return input;\r\n    }\r\n\r\n    protected _registerSignalOutput(name: string): FlowGraphSignalConnection {\r\n        const output = new FlowGraphSignalConnection(name, FlowGraphConnectionType.Output, this);\r\n        this.signalOutputs.push(output);\r\n        return output;\r\n    }\r\n\r\n    protected _unregisterSignalInput(name: string): void {\r\n        const index = this.signalInputs.findIndex((input) => input.name === name);\r\n        if (index !== -1) {\r\n            this.signalInputs[index].dispose();\r\n            this.signalInputs.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    protected _unregisterSignalOutput(name: string): void {\r\n        const index = this.signalOutputs.findIndex((output) => output.name === name);\r\n        if (index !== -1) {\r\n            this.signalOutputs[index].dispose();\r\n            this.signalOutputs.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    protected _reportError(context: FlowGraphContext, error: Error | string) {\r\n        this.error.payload = typeof error === \"string\" ? new Error(error) : error;\r\n        this.error._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * Given a name of a signal input, return that input if it exists\r\n     * @param name the name of the input\r\n     * @returns if the input exists, the input. Otherwise, undefined.\r\n     */\r\n    public getSignalInput(name: string): FlowGraphSignalConnection | undefined {\r\n        return this.signalInputs.find((input) => input.name === name);\r\n    }\r\n\r\n    /**\r\n     * Given a name of a signal output, return that input if it exists\r\n     * @param name the name of the input\r\n     * @returns if the input exists, the input. Otherwise, undefined.\r\n     */\r\n    public getSignalOutput(name: string): FlowGraphSignalConnection | undefined {\r\n        return this.signalOutputs.find((output) => output.name === name);\r\n    }\r\n\r\n    /**\r\n     * Serializes this block\r\n     * @param serializationObject the object to serialize in\r\n     */\r\n    public override serialize(serializationObject: any = {}) {\r\n        super.serialize(serializationObject);\r\n        serializationObject.signalInputs = [];\r\n        serializationObject.signalOutputs = [];\r\n        for (const input of this.signalInputs) {\r\n            const serializedInput: any = {};\r\n            input.serialize(serializedInput);\r\n            serializationObject.signalInputs.push(serializedInput);\r\n        }\r\n        for (const output of this.signalOutputs) {\r\n            const serializedOutput: any = {};\r\n            output.serialize(serializedOutput);\r\n            serializationObject.signalOutputs.push(serializedOutput);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Deserializes from an object\r\n     * @param serializationObject the object to deserialize from\r\n     */\r\n    public override deserialize(serializationObject: any) {\r\n        for (let i = 0; i < serializationObject.signalInputs.length; i++) {\r\n            const signalInput = this.getSignalInput(serializationObject.signalInputs[i].name);\r\n            if (signalInput) {\r\n                signalInput.deserialize(serializationObject.signalInputs[i]);\r\n            } else {\r\n                throw new Error(\"Could not find signal input with name \" + serializationObject.signalInputs[i].name + \" in block \" + serializationObject.className);\r\n            }\r\n        }\r\n        for (let i = 0; i < serializationObject.signalOutputs.length; i++) {\r\n            const signalOutput = this.getSignalOutput(serializationObject.signalOutputs[i].name);\r\n            if (signalOutput) {\r\n                signalOutput.deserialize(serializationObject.signalOutputs[i]);\r\n            } else {\r\n                throw new Error(\"Could not find signal output with name \" + serializationObject.signalOutputs[i].name + \" in block \" + serializationObject.className);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return \"FlowGraphExecutionBlock\";\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1815, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphSceneEventCoordinator.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphSceneEventCoordinator.ts"],"sourcesContent":["import type { PointerInfo } from \"core/Events/pointerEvents\";\nimport { PointerEventTypes } from \"core/Events/pointerEvents\";\nimport type { AbstractMesh } from \"core/Meshes/abstractMesh\";\nimport type { Observer } from \"core/Misc/observable\";\nimport { Observable } from \"core/Misc/observable\";\nimport type { Scene } from \"core/scene\";\nimport type { Nullable } from \"core/types\";\nimport { FlowGraphEventType } from \"./flowGraphEventType\";\n\n/**\n * the interface of the object the scene event coordinator will trigger.\n */\nexport interface IFlowGraphEventTrigger {\n    /**\n     * The type of the event\n     */\n    type: FlowGraphEventType;\n    /**\n     * The data of the event\n     */\n    payload?: any;\n}\n\n/**\n * This class is responsible for coordinating the events that are triggered in the scene.\n * It registers all observers needed to track certain events and triggers the blocks that are listening to them.\n * Abstracting the events from the class will allow us to easily change the events that are being listened to, and trigger them in any order.\n */\nexport class FlowGraphSceneEventCoordinator {\n    /**\n     * @internal\n     */\n    public readonly _scene: Scene;\n\n    /**\n     * register to this observable to get flow graph event notifications.\n     */\n    public onEventTriggeredObservable: Observable<IFlowGraphEventTrigger> = new Observable();\n\n    /**\n     * Was scene-ready already triggered?\n     */\n    public sceneReadyTriggered: boolean = false;\n\n    private _sceneDisposeObserver: Nullable<Observer<Scene>>;\n    private _sceneReadyObserver: Nullable<Observer<Scene>>;\n    private _sceneOnBeforeRenderObserver: Nullable<Observer<Scene>>;\n    private _meshPickedObserver: Nullable<Observer<PointerInfo>>;\n    private _meshUnderPointerObserver: Nullable<Observer<{ mesh: Nullable<AbstractMesh>; pointerId: number }>>;\n    private _pointerUnderMeshState: { [pointerId: number]: Nullable<AbstractMesh> } = {};\n\n    private _startingTime: number = 0;\n\n    constructor(scene: Scene) {\n        this._scene = scene;\n        this._initialize();\n    }\n\n    private _initialize() {\n        this._sceneReadyObserver = this._scene.onReadyObservable.add(() => {\n            if (!this.sceneReadyTriggered) {\n                this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.SceneReady });\n                this.sceneReadyTriggered = true;\n            }\n        });\n\n        this._sceneDisposeObserver = this._scene.onDisposeObservable.add(() => {\n            this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.SceneDispose });\n        });\n        this._sceneOnBeforeRenderObserver = this._scene.onBeforeRenderObservable.add(() => {\n            const deltaTime = this._scene.getEngine().getDeltaTime() / 1000; // set in seconds\n            this.onEventTriggeredObservable.notifyObservers({\n                type: FlowGraphEventType.SceneBeforeRender,\n                payload: {\n                    timeSinceStart: this._startingTime,\n                    deltaTime,\n                },\n            });\n            this._startingTime += deltaTime;\n        });\n\n        this._meshPickedObserver = this._scene.onPointerObservable.add((pointerInfo) => {\n            this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.MeshPick, payload: pointerInfo });\n        }, PointerEventTypes.POINTERPICK); // should it be pointerdown?\n\n        this._meshUnderPointerObserver = this._scene.onMeshUnderPointerUpdatedObservable.add((data) => {\n            // check if the data has changed. Check the state of the last change and see if it is a mesh or null.\n            // if it is a mesh and the previous state was null, trigger over event. If it is null and the previous state was a mesh, trigger out event.\n            // if it is a mesh and the previous state was a mesh, trigger out from the old mesh and over the new mesh\n            // if it is null and the previous state was null, do nothing.\n            const pointerId = data.pointerId;\n            const mesh = data.mesh;\n            const previousState = this._pointerUnderMeshState[pointerId];\n            if (!previousState && mesh) {\n                this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.PointerOver, payload: { pointerId, mesh } });\n            } else if (previousState && !mesh) {\n                this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.PointerOut, payload: { pointerId, mesh: previousState } });\n            } else if (previousState && mesh && previousState !== mesh) {\n                this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.PointerOut, payload: { pointerId, mesh: previousState, over: mesh } });\n                this.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.PointerOver, payload: { pointerId, mesh, out: previousState } });\n            }\n            this._pointerUnderMeshState[pointerId] = mesh;\n        }, PointerEventTypes.POINTERMOVE);\n    }\n\n    public dispose() {\n        this._sceneDisposeObserver?.remove();\n        this._sceneReadyObserver?.remove();\n        this._sceneOnBeforeRenderObserver?.remove();\n        this._meshPickedObserver?.remove();\n        this._meshUnderPointerObserver?.remove();\n        this.onEventTriggeredObservable.clear();\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1925, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/utils.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/utils.ts"],"sourcesContent":["import type { Matrix, Quaternion, Vector2, Vector3, Vector4 } from \"core/Maths/math.vector\";\r\nimport type { Node } from \"../node\";\r\nimport type { FlowGraphInteger } from \"./CustomTypes/flowGraphInteger\";\r\nimport type { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"./CustomTypes/flowGraphMatrix\";\r\nimport { FlowGraphTypes } from \"./flowGraphRichTypes\";\r\n\r\n/**\r\n * @internal\r\n * Returns if mesh1 is a descendant of mesh2\r\n * @param mesh1\r\n * @param mesh2\r\n * @returns\r\n */\r\nexport function _IsDescendantOf(mesh1: Node, mesh2: Node): boolean {\r\n    return !!(mesh1.parent && (mesh1.parent === mesh2 || _IsDescendantOf(mesh1.parent, mesh2)));\r\n}\r\n\r\nexport type FlowGraphNumber = number | FlowGraphInteger;\r\nexport type FlowGraphVector = Vector2 | Vector3 | Vector4 | Quaternion;\r\nexport type FlowGraphMatrix = Matrix | FlowGraphMatrix2D | FlowGraphMatrix3D;\r\nexport type FlowGraphMathOperationType = FlowGraphNumber | FlowGraphVector | FlowGraphMatrix | boolean;\r\n\r\n/**\r\n * @internal\r\n */\r\nexport function _GetClassNameOf(v: any) {\r\n    if (v.getClassName) {\r\n        return v.getClassName();\r\n    }\r\n    return;\r\n}\r\n\r\n/**\r\n * @internal\r\n * Check if two classname are the same and are vector or quaternion classes.\r\n * @param className the first class name\r\n * @param className2 the second class name\r\n * @returns whether the two class names are the same and are vector or quaternion classes.\r\n */\r\nexport function _AreSameVectorOrQuaternionClass(className: string, className2: string) {\r\n    return (\r\n        className === className2 &&\r\n        (className === FlowGraphTypes.Vector2 || className === FlowGraphTypes.Vector3 || className === FlowGraphTypes.Vector4 || className === FlowGraphTypes.Quaternion)\r\n    );\r\n}\r\n\r\n/**\r\n * @internal\r\n * Check if two classname are the same and are matrix classes.\r\n * @param className the first class name\r\n * @param className2 the second class name\r\n * @returns whether the two class names are the same and are matrix classes.\r\n */\r\nexport function _AreSameMatrixClass(className: string, className2: string) {\r\n    return className === className2 && (className === FlowGraphTypes.Matrix || className === FlowGraphTypes.Matrix2D || className === FlowGraphTypes.Matrix3D);\r\n}\r\n\r\n/**\r\n * @internal\r\n * Check if two classname are the same and are integer classes.\r\n * @param className the first class name\r\n * @param className2 the second class name\r\n * @returns whether the two class names are the same and are integer classes.\r\n */\r\nexport function _AreSameIntegerClass(className: string, className2: string) {\r\n    return className === \"FlowGraphInteger\" && className2 === \"FlowGraphInteger\";\r\n}\r\n\r\n/**\r\n * Check if an object has a numeric value.\r\n * @param a the object to check if it is a number.\r\n * @param validIfNaN whether to consider NaN as a valid number.\r\n * @returns whether a is a FlowGraphNumber (Integer or number).\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function isNumeric(a: FlowGraphMathOperationType, validIfNaN?: boolean): a is FlowGraphNumber {\r\n    const isNumeric = typeof a === \"number\" || typeof (a as FlowGraphInteger)?.value === \"number\";\r\n    if (isNumeric && !validIfNaN) {\r\n        return !isNaN(getNumericValue(a as FlowGraphNumber));\r\n    }\r\n    return isNumeric;\r\n}\r\n\r\n/**\r\n * Get the numeric value of a FlowGraphNumber.\r\n * @param a the object to get the numeric value from.\r\n * @returns the numeric value.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport function getNumericValue(a: FlowGraphNumber): number {\r\n    return typeof a === \"number\" ? a : a.value;\r\n}\r\n"],"names":[],"mappings":"AAMA;;;;;;GAMG;;;;;;;;;;;;;;;;AACG,SAAU,eAAe,CAAC,KAAW,EAAE,KAAW;IACpD,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,KAAK,IAAI,eAAe,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AAChG,CAAC;AAUK,SAAU,eAAe,CAAC,CAAM;IAClC,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC;QACjB,OAAO,CAAC,CAAC,YAAY,EAAE,CAAC;IAC5B,CAAC;IACD,OAAO;AACX,CAAC;AASK,SAAU,+BAA+B,CAAC,SAAiB,EAAE,UAAkB;IACjF,OAAO,AACH,SAAS,KAAK,UAAU,IACxB,CAAC,SAAS,KAAA,UAAA,0BAAA,EAA2B,KAAI,SAAS,KAAA,UAAA,0BAAA,EAA2B,KAAI,SAAS,KAAA,UAAA,0BAAA,EAA2B,KAAI,SAAS,KAAA,aAAA,6BAAA,GAA8B,CAAC,CACpK,CAAC;AACN,CAAC;AASK,SAAU,mBAAmB,CAAC,SAAiB,EAAE,UAAkB;IACrE,OAAO,SAAS,KAAK,UAAU,IAAI,CAAC,SAAS,KAAA,SAAA,yBAAA,EAA0B,KAAI,SAAS,KAAA,WAAA,2BAAA,EAA4B,KAAI,SAAS,KAAA,WAAA,2BAAA,GAA4B,CAAC,CAAC;AAC/J,CAAC;AASK,SAAU,oBAAoB,CAAC,SAAiB,EAAE,UAAkB;IACtE,OAAO,SAAS,KAAK,kBAAkB,IAAI,UAAU,KAAK,kBAAkB,CAAC;AACjF,CAAC;AASK,SAAU,SAAS,CAAC,CAA6B,EAAE,UAAoB;IACzE,MAAM,SAAS,GAAG,OAAO,CAAC,KAAK,QAAQ,IAAI,OAAQ,CAAsB,EAAE,KAAK,KAAK,QAAQ,CAAC;IAC9F,IAAI,SAAS,IAAI,CAAC,UAAU,EAAE,CAAC;QAC3B,OAAO,CAAC,KAAK,CAAC,eAAe,CAAC,CAAoB,CAAC,CAAC,CAAC;IACzD,CAAC;IACD,OAAO,SAAS,CAAC;AACrB,CAAC;AAQK,SAAU,eAAe,CAAC,CAAkB;IAC9C,OAAO,OAAO,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;AAC/C,CAAC"}},
    {"offset": {"line": 1979, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraph.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraph.ts"],"sourcesContent":["import type { Observer } from \"../Misc/observable\";\r\nimport { Observable } from \"../Misc/observable\";\r\nimport type { Nullable } from \"../types\";\r\nimport type { Scene } from \"../scene\";\r\nimport type { FlowGraphEventBlock } from \"./flowGraphEventBlock\";\r\nimport { FlowGraphContext } from \"./flowGraphContext\";\r\nimport type { FlowGraphBlock } from \"./flowGraphBlock\";\r\nimport { FlowGraphExecutionBlock } from \"./flowGraphExecutionBlock\";\r\nimport type { FlowGraphCoordinator } from \"./flowGraphCoordinator\";\r\nimport type { IObjectAccessor } from \"./typeDefinitions\";\r\nimport type { IPathToObjectConverter } from \"../ObjectModel/objectModelInterfaces\";\r\nimport type { IAssetContainer } from \"core/IAssetContainer\";\r\nimport { FlowGraphEventType } from \"./flowGraphEventType\";\r\nimport type { IFlowGraphEventTrigger } from \"./flowGraphSceneEventCoordinator\";\r\nimport { FlowGraphSceneEventCoordinator } from \"./flowGraphSceneEventCoordinator\";\r\nimport type { FlowGraphMeshPickEventBlock } from \"./Blocks/Event/flowGraphMeshPickEventBlock\";\r\nimport { _IsDescendantOf } from \"./utils\";\r\n\r\nexport const enum FlowGraphState {\r\n    /**\r\n     * The graph is stopped\r\n     */\r\n    Stopped,\r\n    /**\r\n     * The graph is running\r\n     */\r\n    Started,\r\n}\r\n\r\n/**\r\n * Parameters used to create a flow graph.\r\n */\r\nexport interface IFlowGraphParams {\r\n    /**\r\n     * The scene that the flow graph belongs to.\r\n     */\r\n    scene: Scene;\r\n    /**\r\n     * The event coordinator used by the flow graph.\r\n     */\r\n    coordinator: FlowGraphCoordinator;\r\n}\r\n\r\n/**\r\n * Options for parsing a flow graph.\r\n */\r\nexport interface IFlowGraphParseOptions {\r\n    /**\r\n     * A function that parses complex values in a scene.\r\n     * @param key the key of the value\r\n     * @param serializationObject the object to read the value from\r\n     * @param scene the scene to read the value from\r\n     */\r\n    valueParseFunction?: (key: string, serializationObject: any, assetsContainer: IAssetContainer, scene: Scene) => any;\r\n    /**\r\n     * The flow graph coordinator.\r\n     */\r\n    coordinator: FlowGraphCoordinator;\r\n    /**\r\n     * A function that converts a path to an object accessor.\r\n     */\r\n    pathConverter?: IPathToObjectConverter<IObjectAccessor>;\r\n}\r\n/**\r\n * Class used to represent a flow graph.\r\n * A flow graph is a graph of blocks that can be used to create complex logic.\r\n * Blocks can be added to the graph and connected to each other.\r\n * The graph can then be started, which will init and start all of its event blocks.\r\n *\r\n * @experimental FlowGraph is still in development and is subject to change.\r\n */\r\nexport class FlowGraph {\r\n    /**\r\n     * An observable that is triggered when the state of the graph changes.\r\n     */\r\n    public onStateChangedObservable: Observable<FlowGraphState> = new Observable();\r\n    /** @internal */\r\n    public _eventBlocks: { [keyof in FlowGraphEventType]: FlowGraphEventBlock[] } = {\r\n        [FlowGraphEventType.SceneReady]: [],\r\n        [FlowGraphEventType.SceneDispose]: [],\r\n        [FlowGraphEventType.SceneBeforeRender]: [],\r\n        [FlowGraphEventType.MeshPick]: [],\r\n        [FlowGraphEventType.PointerDown]: [],\r\n        [FlowGraphEventType.PointerUp]: [],\r\n        [FlowGraphEventType.PointerMove]: [],\r\n        [FlowGraphEventType.PointerOver]: [],\r\n        [FlowGraphEventType.PointerOut]: [],\r\n        [FlowGraphEventType.SceneAfterRender]: [],\r\n        [FlowGraphEventType.NoTrigger]: [],\r\n    };\r\n    /**\r\n     * @internal\r\n     */\r\n    public readonly _scene: Scene;\r\n    private _coordinator: FlowGraphCoordinator;\r\n    private _executionContexts: FlowGraphContext[] = [];\r\n    private _sceneEventCoordinator: FlowGraphSceneEventCoordinator;\r\n    private _eventObserver: Nullable<Observer<IFlowGraphEventTrigger>>;\r\n\r\n    /**\r\n     * The state of the graph\r\n     */\r\n    private _state: FlowGraphState = FlowGraphState.Stopped;\r\n\r\n    /**\r\n     * The state of the graph\r\n     */\r\n    public get state() {\r\n        return this._state;\r\n    }\r\n\r\n    /**\r\n     * The state of the graph\r\n     */\r\n    public set state(value: FlowGraphState) {\r\n        this._state = value;\r\n        this.onStateChangedObservable.notifyObservers(value);\r\n    }\r\n\r\n    /**\r\n     * Construct a Flow Graph\r\n     * @param params construction parameters. currently only the scene\r\n     */\r\n    public constructor(params: IFlowGraphParams) {\r\n        this._scene = params.scene;\r\n        this._sceneEventCoordinator = new FlowGraphSceneEventCoordinator(this._scene);\r\n        this._coordinator = params.coordinator;\r\n\r\n        this._eventObserver = this._sceneEventCoordinator.onEventTriggeredObservable.add((event) => {\r\n            for (const context of this._executionContexts) {\r\n                const order = this._getContextualOrder(event.type, context);\r\n                for (const block of order) {\r\n                    // iterate contexts\r\n                    if (!block._executeEvent(context, event.payload)) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            // custom behavior(s) of specific events\r\n            switch (event.type) {\r\n                case FlowGraphEventType.SceneReady:\r\n                    this._sceneEventCoordinator.sceneReadyTriggered = true;\r\n                    break;\r\n                case FlowGraphEventType.SceneBeforeRender:\r\n                    for (const context of this._executionContexts) {\r\n                        context._notifyOnTick(event.payload);\r\n                    }\r\n                    break;\r\n                case FlowGraphEventType.SceneDispose:\r\n                    this.dispose();\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a context. A context represents one self contained execution for the graph, with its own variables.\r\n     * @returns the context, where you can get and set variables\r\n     */\r\n    public createContext() {\r\n        const context = new FlowGraphContext({ scene: this._scene, coordinator: this._coordinator });\r\n        this._executionContexts.push(context);\r\n        return context;\r\n    }\r\n\r\n    /**\r\n     * Returns the execution context at a given index\r\n     * @param index the index of the context\r\n     * @returns the execution context at that index\r\n     */\r\n    public getContext(index: number) {\r\n        return this._executionContexts[index];\r\n    }\r\n\r\n    /**\r\n     * Add an event block. When the graph is started, it will start listening to events\r\n     * from the block and execute the graph when they are triggered.\r\n     * @param block the event block to be added\r\n     */\r\n    public addEventBlock(block: FlowGraphEventBlock): void {\r\n        if (block.type === FlowGraphEventType.PointerOver || block.type === FlowGraphEventType.PointerOut) {\r\n            this._scene.constantlyUpdateMeshUnderPointer = true;\r\n        }\r\n\r\n        // don't add if NoTrigger, but still start the pending tasks\r\n        if (block.type !== FlowGraphEventType.NoTrigger) {\r\n            this._eventBlocks[block.type].push(block);\r\n        }\r\n        // if already started, sort and add to the pending\r\n        if (this.state === FlowGraphState.Started) {\r\n            for (const context of this._executionContexts) {\r\n                block._startPendingTasks(context);\r\n            }\r\n        } else {\r\n            this.onStateChangedObservable.addOnce((state) => {\r\n                if (state === FlowGraphState.Started) {\r\n                    for (const context of this._executionContexts) {\r\n                        block._startPendingTasks(context);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts the flow graph. Initializes the event blocks and starts listening to events.\r\n     */\r\n    public start() {\r\n        if (this.state === FlowGraphState.Started) {\r\n            return;\r\n        }\r\n        if (this._executionContexts.length === 0) {\r\n            this.createContext();\r\n        }\r\n        this.onStateChangedObservable.add((state) => {\r\n            if (state === FlowGraphState.Started) {\r\n                this._startPendingEvents();\r\n                // the only event we need to check is the scene ready event. If the scene is already ready when the graph starts, we should start the pending tasks.\r\n                if (this._scene.isReady(true)) {\r\n                    this._sceneEventCoordinator.onEventTriggeredObservable.notifyObservers({ type: FlowGraphEventType.SceneReady });\r\n                }\r\n            }\r\n        });\r\n        this.state = FlowGraphState.Started;\r\n    }\r\n\r\n    private _startPendingEvents() {\r\n        for (const context of this._executionContexts) {\r\n            for (const type in this._eventBlocks) {\r\n                const order = this._getContextualOrder(type as FlowGraphEventType, context);\r\n                for (const block of order) {\r\n                    block._startPendingTasks(context);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _getContextualOrder(type: FlowGraphEventType, context: FlowGraphContext): FlowGraphEventBlock[] {\r\n        const order = this._eventBlocks[type].sort((a, b) => b.initPriority - a.initPriority);\r\n\r\n        if (type === FlowGraphEventType.MeshPick) {\r\n            const meshPickOrder = [] as FlowGraphEventBlock[];\r\n            for (const block1 of order) {\r\n                // If the block is a mesh pick, guarantee that picks of children meshes come before picks of parent meshes\r\n                const mesh1 = (block1 as FlowGraphMeshPickEventBlock).asset.getValue(context);\r\n                let i = 0;\r\n                for (; i < order.length; i++) {\r\n                    const block2 = order[i];\r\n                    const mesh2 = (block2 as FlowGraphMeshPickEventBlock).asset.getValue(context);\r\n                    if (mesh1 && mesh2 && _IsDescendantOf(mesh1, mesh2)) {\r\n                        break;\r\n                    }\r\n                }\r\n                meshPickOrder.splice(i, 0, block1);\r\n            }\r\n            return meshPickOrder;\r\n        }\r\n        return order;\r\n    }\r\n\r\n    /**\r\n     * Disposes of the flow graph. Cancels any pending tasks and removes all event listeners.\r\n     */\r\n    public dispose() {\r\n        if (this.state === FlowGraphState.Stopped) {\r\n            return;\r\n        }\r\n        this.state = FlowGraphState.Stopped;\r\n        for (const context of this._executionContexts) {\r\n            context._clearPendingBlocks();\r\n        }\r\n        this._executionContexts.length = 0;\r\n        for (const type in this._eventBlocks) {\r\n            this._eventBlocks[type as FlowGraphEventType].length = 0;\r\n        }\r\n        this._eventObserver?.remove();\r\n        this._sceneEventCoordinator.dispose();\r\n    }\r\n\r\n    /**\r\n     * Executes a function in all blocks of a flow graph, starting with the event blocks.\r\n     * @param visitor the function to execute.\r\n     */\r\n    public visitAllBlocks(visitor: (block: FlowGraphBlock) => void) {\r\n        const visitList: FlowGraphBlock[] = [];\r\n        const idsAddedToVisitList = new Set<string>();\r\n        for (const type in this._eventBlocks) {\r\n            for (const block of this._eventBlocks[type as FlowGraphEventType]) {\r\n                visitList.push(block);\r\n                idsAddedToVisitList.add(block.uniqueId);\r\n            }\r\n        }\r\n\r\n        while (visitList.length > 0) {\r\n            const block = visitList.pop()!;\r\n            visitor(block);\r\n\r\n            for (const dataIn of block.dataInputs) {\r\n                for (const connection of dataIn._connectedPoint) {\r\n                    if (!idsAddedToVisitList.has(connection._ownerBlock.uniqueId)) {\r\n                        visitList.push(connection._ownerBlock);\r\n                        idsAddedToVisitList.add(connection._ownerBlock.uniqueId);\r\n                    }\r\n                }\r\n            }\r\n            if (block instanceof FlowGraphExecutionBlock) {\r\n                for (const signalOut of block.signalOutputs) {\r\n                    for (const connection of signalOut._connectedPoint) {\r\n                        if (!idsAddedToVisitList.has(connection._ownerBlock.uniqueId)) {\r\n                            visitList.push(connection._ownerBlock);\r\n                            idsAddedToVisitList.add(connection._ownerBlock.uniqueId);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Serializes a graph\r\n     * @param serializationObject the object to write the values in\r\n     * @param valueSerializeFunction a function to serialize complex values\r\n     */\r\n    public serialize(serializationObject: any = {}, valueSerializeFunction?: (key: string, value: any, serializationObject: any) => void) {\r\n        serializationObject.allBlocks = [];\r\n        this.visitAllBlocks((block) => {\r\n            const serializedBlock: any = {};\r\n            block.serialize(serializedBlock);\r\n            serializationObject.allBlocks.push(serializedBlock);\r\n        });\r\n        serializationObject.executionContexts = [];\r\n        for (const context of this._executionContexts) {\r\n            const serializedContext: any = {};\r\n            context.serialize(serializedContext, valueSerializeFunction);\r\n            serializationObject.executionContexts.push(serializedContext);\r\n        }\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2242, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphExecutionBlockWithOutSignal.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphExecutionBlockWithOutSignal.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"./flowGraphBlock\";\r\nimport { FlowGraphExecutionBlock } from \"./flowGraphExecutionBlock\";\r\nimport type { FlowGraphSignalConnection } from \"./flowGraphSignalConnection\";\r\n\r\n/**\r\n * An execution block that has an out signal. This signal is triggered when the synchronous execution of this block is done.\r\n * Most execution blocks will inherit from this, except for the ones that have multiple signals to be triggered.\r\n * (such as if blocks)\r\n */\r\nexport abstract class FlowGraphExecutionBlockWithOutSignal extends FlowGraphExecutionBlock {\r\n    /**\r\n     * Output connection: The signal that is synchronous triggered when the execution of this block is done.\r\n     * Note that is case of events or async you might want to use the `done` signal instead.\r\n     */\r\n    public readonly out: FlowGraphSignalConnection;\r\n\r\n    protected constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n        this.out = this._registerSignalOutput(\"out\");\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,uBAAuB,EAAE,MAAM,2BAA2B,CAAC;;AAQ9D,MAAgB,oCAAqC,SAAQ,0QAAuB;IAOtF,YAAsB,MAAqC,CAAA;QACvD,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;IACjD,CAAC;CACJ"}},
    {"offset": {"line": 2258, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphAsyncExecutionBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphAsyncExecutionBlock.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"./flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"./flowGraphExecutionBlockWithOutSignal\";\r\nimport type { FlowGraphSignalConnection } from \"./flowGraphSignalConnection\";\r\n\r\n/**\r\n * An async execution block can start tasks that will be executed asynchronously.\r\n * It should also be responsible for clearing it in _cancelPendingTasks.\r\n */\r\nexport abstract class FlowGraphAsyncExecutionBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Output connection: The signal that is triggered when the asynchronous execution of this block is done.\r\n     */\r\n    public done: FlowGraphSignalConnection;\r\n\r\n    protected _eventsSignalOutputs: { [eventName: string]: FlowGraphSignalConnection } = {};\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration, events?: string[]) {\r\n        super(config);\r\n        this.done = this._registerSignalOutput(\"done\");\r\n        if (events) {\r\n            for (const eventName of events) {\r\n                this._eventsSignalOutputs[eventName] = this._registerSignalOutput(eventName + \"Event\");\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @internal\r\n     * This function can be overridden to start any\r\n     * pending tasks this node might have, such as\r\n     * timeouts and playing animations.\r\n     * @param context\r\n     */\r\n    public abstract _preparePendingTasks(context: FlowGraphContext): void;\r\n\r\n    /**\r\n     * @internal\r\n     * This function can be overridden to execute any\r\n     * logic that should be executed on every frame\r\n     * while the async task is pending.\r\n     * @param context the context in which it is running\r\n     */\r\n    public _executeOnTick(_context: FlowGraphContext): void {}\r\n\r\n    /**\r\n     * @internal\r\n     * @param context\r\n     */\r\n    public _startPendingTasks(context: FlowGraphContext) {\r\n        if (context._getExecutionVariable(this, \"_initialized\", false)) {\r\n            this._cancelPendingTasks(context);\r\n            this._resetAfterCanceled(context);\r\n        }\r\n\r\n        this._preparePendingTasks(context);\r\n        context._addPendingBlock(this);\r\n        this.out._activateSignal(context);\r\n        context._setExecutionVariable(this, \"_initialized\", true);\r\n    }\r\n\r\n    public _resetAfterCanceled(context: FlowGraphContext) {\r\n        context._deleteExecutionVariable(this, \"_initialized\");\r\n        context._removePendingBlock(this);\r\n    }\r\n\r\n    public abstract _cancelPendingTasks(context: FlowGraphContext): void;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,oCAAoC,EAAE,MAAM,wCAAwC,CAAC;;AAOxF,MAAgB,4BAA6B,SAAQ,oSAAoC;IAQ3F,YAAY,MAAqC,EAAE,MAAiB,CAAA;QAChE,KAAK,CAAC,MAAM,CAAC,CAAC;QAHR,IAAA,CAAA,oBAAoB,GAAuD,CAAA,CAAE,CAAC;QAIpF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,MAAM,EAAE,CAAC;YACT,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE,CAAC;gBAC7B,IAAI,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,qBAAqB,CAAC,SAAS,GAAG,OAAO,CAAC,CAAC;YAC3F,CAAC;QACL,CAAC;IACL,CAAC;IAUD;;;;;;OAMG,CACI,cAAc,CAAC,QAA0B,EAAA,CAAS,CAAC;IAE1D;;;OAGG,CACI,kBAAkB,CAAC,OAAyB,EAAA;QAC/C,IAAI,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,KAAK,CAAC,EAAE,CAAC;YAC7D,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;YAClC,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QACtC,CAAC;QAED,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QACnC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAClC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;IAC9D,CAAC;IAEM,mBAAmB,CAAC,OAAyB,EAAA;QAChD,OAAO,CAAC,wBAAwB,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;QACvD,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;CAGJ"}},
    {"offset": {"line": 2304, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphEventBlock.ts"],"sourcesContent":["import { FlowGraphAsyncExecutionBlock } from \"./flowGraphAsyncExecutionBlock\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport { FlowGraphEventType } from \"./flowGraphEventType\";\r\n\r\n/**\r\n * A type of block that listens to an event observable and activates\r\n * its output signal when the event is triggered.\r\n */\r\nexport abstract class FlowGraphEventBlock extends FlowGraphAsyncExecutionBlock {\r\n    /**\r\n     * the priority of initialization of this block.\r\n     * For example, scene start should have a negative priority because it should be initialized last.\r\n     */\r\n    public initPriority: number = 0;\r\n\r\n    /**\r\n     * The type of the event\r\n     */\r\n    public readonly type: FlowGraphEventType = FlowGraphEventType.NoTrigger;\r\n    /**\r\n     * @internal\r\n     */\r\n    public _execute(context: FlowGraphContext): void {\r\n        context._notifyExecuteNode(this);\r\n        this.done._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * Execute the event. This function should be called by the flow graph when the event is triggered.\r\n     * @param context the context in which the event is executed\r\n     * @param payload the payload of the event\r\n     * @returns a boolean indicating if the event should stop propagation. if false, the event will stop propagating.\r\n     */\r\n    public abstract _executeEvent(context: FlowGraphContext, payload: any): boolean;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,4BAA4B,EAAE,MAAM,gCAAgC,CAAC;;AAQxE,MAAgB,mBAAoB,SAAQ,oRAA4B;IAA9E,aAAA;;QACI;;;WAGG,CACI,IAAA,CAAA,YAAY,GAAW,CAAC,CAAC;QAEhC;;WAEG,CACa,IAAA,CAAA,IAAI,GAAA,YAAA,gCAAA,GAAoD;IAgB5E,CAAC;IAfG;;OAEG,CACI,QAAQ,CAAC,OAAyB,EAAA;QACrC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;CASJ"}},
    {"offset": {"line": 2332, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphCoordinator.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphCoordinator.ts"],"sourcesContent":["import type { Observer } from \"core/Misc/observable\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport type { Scene } from \"../scene\";\r\nimport { FlowGraph } from \"./flowGraph\";\r\nimport type { IPathToObjectConverter } from \"../ObjectModel/objectModelInterfaces\";\r\nimport type { IObjectAccessor } from \"./typeDefinitions\";\r\nimport type { IAssetContainer } from \"core/IAssetContainer\";\r\nimport { Logger } from \"core/Misc/logger\";\r\n\r\n/**\r\n * Parameters used to create a flow graph engine.\r\n */\r\nexport interface IFlowGraphCoordinatorConfiguration {\r\n    /**\r\n     * The scene that the flow graph engine belongs to.\r\n     */\r\n    scene: Scene;\r\n}\r\n\r\n/**\r\n * Parameters used to parse a flow graph coordinator.\r\n */\r\nexport interface IFlowGraphCoordinatorParseOptions {\r\n    /**\r\n     * A function that will be called to parse the value of a property.\r\n     * @param key the key of the property\r\n     * @param serializationObject the serialization object where the property is located\r\n     * @param scene the scene that the block is being parsed in\r\n     */\r\n    valueParseFunction?: (key: string, serializationObject: any, assetsContainer: IAssetContainer, scene: Scene) => any;\r\n    /**\r\n     * The path converter to use to convert the path to an object accessor.\r\n     */\r\n    pathConverter: IPathToObjectConverter<IObjectAccessor>;\r\n    /**\r\n     * The scene that the flow graph coordinator belongs to.\r\n     */\r\n    scene: Scene;\r\n}\r\n/**\r\n * This class holds all of the existing flow graphs and is responsible for creating new ones.\r\n * It also handles starting/stopping multiple graphs and communication between them through an Event Coordinator\r\n * This is the entry point for the flow graph system.\r\n * @experimental This class is still in development and is subject to change.\r\n */\r\nexport class FlowGraphCoordinator {\r\n    /**\r\n     * The maximum number of events per type.\r\n     * This is used to limit the number of events that can be created in a single scene.\r\n     * This is to prevent infinite loops.\r\n     */\r\n    public static MaxEventsPerType: number = 30;\r\n\r\n    /**\r\n     * The maximum number of execution of a specific event in a single frame.\r\n     */\r\n    public static MaxEventTypeExecutionPerFrame: number = 30;\r\n    /**\r\n     * @internal\r\n     * A list of all the coordinators per scene. Will be used by the inspector\r\n     */\r\n    public static readonly SceneCoordinators: Map<Scene, FlowGraphCoordinator[]> = new Map();\r\n\r\n    /**\r\n     * When set to true (default) custom events will be dispatched synchronously.\r\n     * This means that the events will be dispatched immediately when they are triggered.\r\n     */\r\n    public dispatchEventsSynchronously: boolean = true;\r\n\r\n    private readonly _flowGraphs: FlowGraph[] = [];\r\n\r\n    private _customEventsMap: Map<string, Observable<any>> = new Map();\r\n\r\n    private _eventExecutionCounter: Map<string, number> = new Map();\r\n\r\n    private _disposeObserver: Observer<Scene>;\r\n    private _onBeforeRenderObserver: Observer<Scene>;\r\n    private _executeOnNextFrame: { id: string; data?: any; uniqueId: number }[] = [];\r\n    private _eventUniqueId: number = 0;\r\n\r\n    public constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public config: IFlowGraphCoordinatorConfiguration\r\n    ) {\r\n        // When the scene is disposed, dispose all graphs currently running on it.\r\n        this._disposeObserver = this.config.scene.onDisposeObservable.add(() => {\r\n            this.dispose();\r\n        });\r\n\r\n        this._onBeforeRenderObserver = this.config.scene.onBeforeRenderObservable.add(() => {\r\n            // Reset the event execution counter at the beginning of each frame.\r\n            this._eventExecutionCounter.clear();\r\n            // duplicate the _executeOnNextFrame array to avoid modifying it while iterating over it\r\n            const executeOnNextFrame = this._executeOnNextFrame.slice(0);\r\n            if (executeOnNextFrame.length) {\r\n                // Execute the events that were triggered on the next frame.\r\n                for (const event of executeOnNextFrame) {\r\n                    this.notifyCustomEvent(event.id, event.data, false);\r\n                    // remove the event from the array\r\n                    const index = this._executeOnNextFrame.findIndex((e) => e.uniqueId === event.uniqueId);\r\n                    if (index !== -1) {\r\n                        this._executeOnNextFrame.splice(index, 1);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // Add itself to the SceneCoordinators list for the Inspector.\r\n        const coordinators = FlowGraphCoordinator.SceneCoordinators.get(this.config.scene) ?? [];\r\n        coordinators.push(this);\r\n    }\r\n\r\n    /**\r\n     * Creates a new flow graph and adds it to the list of existing flow graphs\r\n     * @returns a new flow graph\r\n     */\r\n    public createGraph(): FlowGraph {\r\n        const graph = new FlowGraph({ scene: this.config.scene, coordinator: this });\r\n        this._flowGraphs.push(graph);\r\n        return graph;\r\n    }\r\n\r\n    /**\r\n     * Removes a flow graph from the list of existing flow graphs and disposes it\r\n     * @param graph the graph to remove\r\n     */\r\n    public removeGraph(graph: FlowGraph) {\r\n        const index = this._flowGraphs.indexOf(graph);\r\n        if (index !== -1) {\r\n            graph.dispose();\r\n            this._flowGraphs.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Starts all graphs\r\n     */\r\n    public start() {\r\n        for (const graph of this._flowGraphs) {\r\n            graph.start();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Disposes all graphs\r\n     */\r\n    public dispose() {\r\n        for (const graph of this._flowGraphs) {\r\n            graph.dispose();\r\n        }\r\n        this._flowGraphs.length = 0;\r\n        this._disposeObserver?.remove();\r\n        this._onBeforeRenderObserver?.remove();\r\n\r\n        // Remove itself from the SceneCoordinators list for the Inspector.\r\n        const coordinators = FlowGraphCoordinator.SceneCoordinators.get(this.config.scene) ?? [];\r\n        const index = coordinators.indexOf(this);\r\n        if (index !== -1) {\r\n            coordinators.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Serializes this coordinator to a JSON object.\r\n     * @param serializationObject the object to serialize to\r\n     * @param valueSerializeFunction the function to use to serialize the value\r\n     */\r\n    public serialize(serializationObject: any, valueSerializeFunction?: (key: string, value: any, serializationObject: any) => void) {\r\n        serializationObject._flowGraphs = [];\r\n        for (const graph of this._flowGraphs) {\r\n            const serializedGraph = {};\r\n            graph.serialize(serializedGraph, valueSerializeFunction);\r\n            serializationObject._flowGraphs.push(serializedGraph);\r\n        }\r\n        serializationObject.dispatchEventsSynchronously = this.dispatchEventsSynchronously;\r\n    }\r\n\r\n    /**\r\n     * Gets the list of flow graphs\r\n     */\r\n    public get flowGraphs() {\r\n        return this._flowGraphs;\r\n    }\r\n\r\n    /**\r\n     * Get an observable that will be notified when the event with the given id is fired.\r\n     * @param id the id of the event\r\n     * @returns the observable for the event\r\n     */\r\n    public getCustomEventObservable(id: string): Observable<any> {\r\n        let observable = this._customEventsMap.get(id);\r\n        if (!observable) {\r\n            // receive event is initialized before scene start, so no need to notify if triggered. but possible!\r\n            observable = new Observable<any>(/*undefined, true*/);\r\n            this._customEventsMap.set(id, observable);\r\n        }\r\n        return observable;\r\n    }\r\n\r\n    /**\r\n     * Notifies the observable for the given event id with the given data.\r\n     * @param id the id of the event\r\n     * @param data the data to send with the event\r\n     * @param async if true, the event will be dispatched asynchronously\r\n     */\r\n    public notifyCustomEvent(id: string, data: any, async: boolean = !this.dispatchEventsSynchronously) {\r\n        if (async) {\r\n            this._executeOnNextFrame.push({ id, data, uniqueId: this._eventUniqueId++ });\r\n            return;\r\n        }\r\n        // check if we are not exceeding the max number of events\r\n        if (this._eventExecutionCounter.has(id)) {\r\n            const count = this._eventExecutionCounter.get(id)!;\r\n            this._eventExecutionCounter.set(id, count + 1);\r\n            if (count >= FlowGraphCoordinator.MaxEventTypeExecutionPerFrame) {\r\n                if (count === FlowGraphCoordinator.MaxEventTypeExecutionPerFrame) {\r\n                    Logger.Warn(`FlowGraphCoordinator: Too many executions of event \"${id}\".`);\r\n                }\r\n                return;\r\n            }\r\n        } else {\r\n            this._eventExecutionCounter.set(id, 1);\r\n        }\r\n        const observable = this._customEventsMap.get(id);\r\n        if (observable) {\r\n            observable.notifyObservers(data);\r\n        }\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2505, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/typeDefinitions.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/typeDefinitions.ts"],"sourcesContent":["import type { IAnimatable } from \"core/Animations/animatable.interface\";\r\nimport type { Animation } from \"core/Animations/animation\";\r\nimport type { FlowGraphConnectionType } from \"./flowGraphConnection\";\r\n\r\n/**\r\n * Interpolation generator\r\n */\r\nexport interface IInterpolationPropertyInfo {\r\n    /**\r\n     * type of the interpolation\r\n     */\r\n    type: number;\r\n    /**\r\n     * The name of the property\r\n     */\r\n    name: string;\r\n    /** @internal */\r\n    getValue: (target: any, source: Float32Array, offset: number, scale: number) => any;\r\n    /** @internal */\r\n    getStride: (target: any) => number;\r\n    /**\r\n     * @internal\r\n     */\r\n    buildAnimations(target: any, name: string, fps: number, keys: any[]): { babylonAnimatable: IAnimatable; babylonAnimation: Animation }[];\r\n}\r\n\r\n/**\r\n * An accessor that allows modifying properties on some other object.\r\n */\r\nexport interface IObjectAccessor<GLTFTargetType = any, BabylonTargetType = any, BabylonValueType = any> {\r\n    /**\r\n     * The number of components that are changed in the property when setting this value.\r\n     * This will usually be 1. But, for example, Babylon has both orthoLeft and orthoRight (two components) properties that are changed when setting xmag (single value in glTF).\r\n     * Defaults to 1 if not provided!\r\n     */\r\n    componentsCount?: number;\r\n    /**\r\n     * The (babylon) type of the property.\r\n     */\r\n    type: string;\r\n    /**\r\n     * Get the value of the property.\r\n     */\r\n    get: (target: GLTFTargetType, index?: number, payload?: any) => BabylonValueType | undefined;\r\n    /**\r\n     * Get the target of the property.\r\n     */\r\n    getTarget: (target: GLTFTargetType, index?: number, payload?: any) => BabylonTargetType | undefined;\r\n    /**\r\n     * is the property readonly?\r\n     */\r\n    isReadOnly?: boolean;\r\n    /**\r\n     * @deprecated Use get instead\r\n     */\r\n    getPropertyName?: Array<(target: GLTFTargetType) => string>;\r\n    /**\r\n     * Set a new value to the property.\r\n     * @param newValue the new value to set\r\n     * @param target the target object\r\n     * @param index the index of the target object in the array (optional)\r\n     */\r\n    set?: (newValue: BabylonValueType, target: GLTFTargetType, index?: number, payload?: any) => void;\r\n    /**\r\n     * Interpolation/animation information for the property.\r\n     * This is an array that can be used to animate the value over time.\r\n     */\r\n    interpolation?: IInterpolationPropertyInfo[];\r\n}\r\n\r\n/**\r\n * A Serialized Flow Graph Context\r\n */\r\nexport interface ISerializedFlowGraphContext {\r\n    /**\r\n     * The unique id of the context\r\n     */\r\n    uniqueId: string;\r\n    /**\r\n     * User variables\r\n     */\r\n    _userVariables: { [key: string]: any };\r\n    /**\r\n     * Values of the connection points\r\n     */\r\n    _connectionValues: { [key: string]: any };\r\n\r\n    /**\r\n     * Assets context, if not the scene\r\n     */\r\n    _assetsContext?: { [key: string]: any };\r\n\r\n    /**\r\n     * Should logging be enabled?\r\n     */\r\n    enableLogging?: boolean;\r\n}\r\n\r\n/**\r\n * A Serialized Flow Graph Connection\r\n */\r\nexport interface ISerializedFlowGraphConnection {\r\n    /**\r\n     * The unique id of the connection\r\n     */\r\n    uniqueId: string;\r\n    /**\r\n     * The name of the connection\r\n     */\r\n    name: string;\r\n    /**\r\n     * The type of the connection\r\n     */\r\n    _connectionType: FlowGraphConnectionType;\r\n    /**\r\n     * The id of the connection that this is connected to\r\n     */\r\n    connectedPointIds: string[];\r\n}\r\n\r\n/**\r\n * A Serialized Flow Graph Block\r\n */\r\nexport interface ISerializedFlowGraphBlock {\r\n    /**\r\n     * The class name of the block\r\n     */\r\n    className: string;\r\n    /**\r\n     * The glTF type of the block\r\n     */\r\n    type: string;\r\n    /**\r\n     * Configuration parameters for the block\r\n     */\r\n    config: any;\r\n    /**\r\n     * The unique id of the block\r\n     */\r\n    uniqueId: string;\r\n    /**\r\n     * Input connection data\r\n     */\r\n    dataInputs: ISerializedFlowGraphConnection[];\r\n    /**\r\n     * Output connection data\r\n     */\r\n    dataOutputs: ISerializedFlowGraphConnection[];\r\n    /**\r\n     * Metadata for the block\r\n     */\r\n    metadata: any;\r\n    /**\r\n     * Input connection signal\r\n     */\r\n    signalInputs: ISerializedFlowGraphConnection[];\r\n    /**\r\n     * Output connection signal\r\n     */\r\n    signalOutputs: ISerializedFlowGraphConnection[];\r\n}\r\n\r\n/**\r\n * A Serialized Flow Graph\r\n */\r\nexport interface ISerializedFlowGraph {\r\n    /**\r\n     * Contexts belonging to the flow graph\r\n     */\r\n    executionContexts: ISerializedFlowGraphContext[];\r\n    /**\r\n     * Blocks belonging to the flow graph\r\n     */\r\n    allBlocks: ISerializedFlowGraphBlock[];\r\n\r\n    /**\r\n     * Is the flow graph in RHS mode?\r\n     */\r\n    rightHanded?: boolean;\r\n}\r\n"],"names":[],"mappings":""}},
    {"offset": {"line": 2512, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/flowGraphBlockFactory.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/flowGraphBlockFactory.ts"],"sourcesContent":["import type { FlowGraphBlock } from \"../flowGraphBlock\";\nimport { FlowGraphBlockNames } from \"./flowGraphBlockNames\";\n\n/**\n * Any external module that wishes to add a new block to the flow graph can add to this object using the helper function.\n */\nconst CustomBlocks: Record<string, () => Promise<typeof FlowGraphBlock>> = {};\n\n/**\n * If you want to add a new block to the block factory, you should use this function.\n * Please be sure to choose a unique name and define the responsible module.\n * @param module the name of the module that is responsible for the block\n * @param blockName the name of the block. This should be unique.\n * @param factory an async factory function to generate the block\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function addToBlockFactory(module: string, blockName: string, factory: () => Promise<typeof FlowGraphBlock>): void {\n    CustomBlocks[`${module}/${blockName}`] = factory;\n}\n\n/**\n * a function to get a factory function for a block.\n * @param blockName the block name to initialize. If the block comes from an external module, the name should be in the format \"module/blockName\"\n * @returns an async factory function that will return the block class when called.\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function blockFactory(blockName: FlowGraphBlockNames | string): () => Promise<typeof FlowGraphBlock> {\n    switch (blockName) {\n        case FlowGraphBlockNames.PlayAnimation:\n            return async () => (await import(\"./Execution/Animation/flowGraphPlayAnimationBlock\")).FlowGraphPlayAnimationBlock;\n        case FlowGraphBlockNames.StopAnimation:\n            return async () => (await import(\"./Execution/Animation/flowGraphStopAnimationBlock\")).FlowGraphStopAnimationBlock;\n        case FlowGraphBlockNames.PauseAnimation:\n            return async () => (await import(\"./Execution/Animation/flowGraphPauseAnimationBlock\")).FlowGraphPauseAnimationBlock;\n        case FlowGraphBlockNames.ValueInterpolation:\n            return async () => (await import(\"./Execution/Animation/flowGraphInterpolationBlock\")).FlowGraphInterpolationBlock;\n        case FlowGraphBlockNames.SceneReadyEvent:\n            return async () => (await import(\"./Event/flowGraphSceneReadyEventBlock\")).FlowGraphSceneReadyEventBlock;\n        case FlowGraphBlockNames.SceneTickEvent:\n            return async () => (await import(\"./Event/flowGraphSceneTickEventBlock\")).FlowGraphSceneTickEventBlock;\n        case FlowGraphBlockNames.SendCustomEvent:\n            return async () => (await import(\"./Event/flowGraphSendCustomEventBlock\")).FlowGraphSendCustomEventBlock;\n        case FlowGraphBlockNames.ReceiveCustomEvent:\n            return async () => (await import(\"./Event/flowGraphReceiveCustomEventBlock\")).FlowGraphReceiveCustomEventBlock;\n        case FlowGraphBlockNames.MeshPickEvent:\n            return async () => (await import(\"./Event/flowGraphMeshPickEventBlock\")).FlowGraphMeshPickEventBlock;\n        case FlowGraphBlockNames.E:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphEBlock;\n        case FlowGraphBlockNames.PI:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphPiBlock;\n        case FlowGraphBlockNames.Inf:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphInfBlock;\n        case FlowGraphBlockNames.NaN:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphNaNBlock;\n        case FlowGraphBlockNames.Random:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphRandomBlock;\n        case FlowGraphBlockNames.Add:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAddBlock;\n        case FlowGraphBlockNames.Subtract:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphSubtractBlock;\n        case FlowGraphBlockNames.Multiply:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphMultiplyBlock;\n        case FlowGraphBlockNames.Divide:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphDivideBlock;\n        case FlowGraphBlockNames.Abs:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAbsBlock;\n        case FlowGraphBlockNames.Sign:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphSignBlock;\n        case FlowGraphBlockNames.Trunc:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphTruncBlock;\n        case FlowGraphBlockNames.Floor:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphFloorBlock;\n        case FlowGraphBlockNames.Ceil:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphCeilBlock;\n        case FlowGraphBlockNames.Round:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphRoundBlock;\n        case FlowGraphBlockNames.Fraction:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphFractionBlock;\n        case FlowGraphBlockNames.Negation:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphNegationBlock;\n        case FlowGraphBlockNames.Modulo:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphModuloBlock;\n        case FlowGraphBlockNames.Min:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphMinBlock;\n        case FlowGraphBlockNames.Max:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphMaxBlock;\n        case FlowGraphBlockNames.Clamp:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphClampBlock;\n        case FlowGraphBlockNames.Saturate:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphSaturateBlock;\n        case FlowGraphBlockNames.MathInterpolation:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphMathInterpolationBlock;\n        case FlowGraphBlockNames.Equality:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphEqualityBlock;\n        case FlowGraphBlockNames.LessThan:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphLessThanBlock;\n        case FlowGraphBlockNames.LessThanOrEqual:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphLessThanOrEqualBlock;\n        case FlowGraphBlockNames.GreaterThan:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphGreaterThanBlock;\n        case FlowGraphBlockNames.GreaterThanOrEqual:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphGreaterThanOrEqualBlock;\n        case FlowGraphBlockNames.IsNaN:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphIsNanBlock;\n        case FlowGraphBlockNames.IsInfinity:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphIsInfinityBlock;\n        case FlowGraphBlockNames.DegToRad:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphDegToRadBlock;\n        case FlowGraphBlockNames.RadToDeg:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphRadToDegBlock;\n        case FlowGraphBlockNames.Sin:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphSinBlock;\n        case FlowGraphBlockNames.Cos:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphCosBlock;\n        case FlowGraphBlockNames.Tan:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphTanBlock;\n        case FlowGraphBlockNames.Asin:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAsinBlock;\n        case FlowGraphBlockNames.Acos:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAcosBlock;\n        case FlowGraphBlockNames.Atan:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAtanBlock;\n        case FlowGraphBlockNames.Atan2:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAtan2Block;\n        case FlowGraphBlockNames.Sinh:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphSinhBlock;\n        case FlowGraphBlockNames.Cosh:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphCoshBlock;\n        case FlowGraphBlockNames.Tanh:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphTanhBlock;\n        case FlowGraphBlockNames.Asinh:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAsinhBlock;\n        case FlowGraphBlockNames.Acosh:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAcoshBlock;\n        case FlowGraphBlockNames.Atanh:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphAtanhBlock;\n        case FlowGraphBlockNames.Exponential:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphExpBlock;\n        case FlowGraphBlockNames.Log:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphLogBlock;\n        case FlowGraphBlockNames.Log2:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphLog2Block;\n        case FlowGraphBlockNames.Log10:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphLog10Block;\n        case FlowGraphBlockNames.SquareRoot:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphSquareRootBlock;\n        case FlowGraphBlockNames.Power:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphPowerBlock;\n        case FlowGraphBlockNames.CubeRoot:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphCubeRootBlock;\n        case FlowGraphBlockNames.BitwiseAnd:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphBitwiseAndBlock;\n        case FlowGraphBlockNames.BitwiseOr:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphBitwiseOrBlock;\n        case FlowGraphBlockNames.BitwiseNot:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphBitwiseNotBlock;\n        case FlowGraphBlockNames.BitwiseXor:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphBitwiseXorBlock;\n        case FlowGraphBlockNames.BitwiseLeftShift:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphBitwiseLeftShiftBlock;\n        case FlowGraphBlockNames.BitwiseRightShift:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphBitwiseRightShiftBlock;\n        case FlowGraphBlockNames.Length:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphLengthBlock;\n        case FlowGraphBlockNames.Normalize:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphNormalizeBlock;\n        case FlowGraphBlockNames.Dot:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphDotBlock;\n        case FlowGraphBlockNames.Cross:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphCrossBlock;\n        case FlowGraphBlockNames.Rotate2D:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphRotate2DBlock;\n        case FlowGraphBlockNames.Rotate3D:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphRotate3DBlock;\n        case FlowGraphBlockNames.Transpose:\n            return async () => (await import(\"./Data/Math/flowGraphMatrixMathBlocks\")).FlowGraphTransposeBlock;\n        case FlowGraphBlockNames.Determinant:\n            return async () => (await import(\"./Data/Math/flowGraphMatrixMathBlocks\")).FlowGraphDeterminantBlock;\n        case FlowGraphBlockNames.InvertMatrix:\n            return async () => (await import(\"./Data/Math/flowGraphMatrixMathBlocks\")).FlowGraphInvertMatrixBlock;\n        case FlowGraphBlockNames.MatrixMultiplication:\n            return async () => (await import(\"./Data/Math/flowGraphMatrixMathBlocks\")).FlowGraphMatrixMultiplicationBlock;\n        case FlowGraphBlockNames.Branch:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphBranchBlock\")).FlowGraphBranchBlock;\n        case FlowGraphBlockNames.SetDelay:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphSetDelayBlock\")).FlowGraphSetDelayBlock;\n        case FlowGraphBlockNames.CancelDelay:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphCancelDelayBlock\")).FlowGraphCancelDelayBlock;\n        case FlowGraphBlockNames.CallCounter:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphCounterBlock\")).FlowGraphCallCounterBlock;\n        case FlowGraphBlockNames.Debounce:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphDebounceBlock\")).FlowGraphDebounceBlock;\n        case FlowGraphBlockNames.Throttle:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphThrottleBlock\")).FlowGraphThrottleBlock;\n        case FlowGraphBlockNames.DoN:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphDoNBlock\")).FlowGraphDoNBlock;\n        case FlowGraphBlockNames.FlipFlop:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphFlipFlopBlock\")).FlowGraphFlipFlopBlock;\n        case FlowGraphBlockNames.ForLoop:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphForLoopBlock\")).FlowGraphForLoopBlock;\n        case FlowGraphBlockNames.MultiGate:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphMultiGateBlock\")).FlowGraphMultiGateBlock;\n        case FlowGraphBlockNames.Sequence:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphSequenceBlock\")).FlowGraphSequenceBlock;\n        case FlowGraphBlockNames.Switch:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphSwitchBlock\")).FlowGraphSwitchBlock;\n        case FlowGraphBlockNames.WaitAll:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphWaitAllBlock\")).FlowGraphWaitAllBlock;\n        case FlowGraphBlockNames.WhileLoop:\n            return async () => (await import(\"./Execution/ControlFlow/flowGraphWhileLoopBlock\")).FlowGraphWhileLoopBlock;\n        case FlowGraphBlockNames.ConsoleLog:\n            return async () => (await import(\"./Execution/flowGraphConsoleLogBlock\")).FlowGraphConsoleLogBlock;\n        case FlowGraphBlockNames.Conditional:\n            return async () => (await import(\"./Data/flowGraphConditionalDataBlock\")).FlowGraphConditionalDataBlock;\n        case FlowGraphBlockNames.Constant:\n            return async () => (await import(\"./Data/flowGraphConstantBlock\")).FlowGraphConstantBlock;\n        case FlowGraphBlockNames.TransformCoordinatesSystem:\n            return async () => (await import(\"./Data/flowGraphTransformCoordinatesSystemBlock\")).FlowGraphTransformCoordinatesSystemBlock;\n        case FlowGraphBlockNames.GetAsset:\n            return async () => (await import(\"./Data/flowGraphGetAssetBlock\")).FlowGraphGetAssetBlock;\n        case FlowGraphBlockNames.GetProperty:\n            return async () => (await import(\"./Data/flowGraphGetPropertyBlock\")).FlowGraphGetPropertyBlock;\n        case FlowGraphBlockNames.SetProperty:\n            return async () => (await import(\"./Execution/flowGraphSetPropertyBlock\")).FlowGraphSetPropertyBlock;\n        case FlowGraphBlockNames.GetVariable:\n            return async () => (await import(\"./Data/flowGraphGetVariableBlock\")).FlowGraphGetVariableBlock;\n        case FlowGraphBlockNames.SetVariable:\n            return async () => (await import(\"./Execution/flowGraphSetVariableBlock\")).FlowGraphSetVariableBlock;\n        case FlowGraphBlockNames.JsonPointerParser:\n            return async () => (await import(\"./Data/Transformers/flowGraphJsonPointerParserBlock\")).FlowGraphJsonPointerParserBlock;\n        case FlowGraphBlockNames.LeadingZeros:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphLeadingZerosBlock;\n        case FlowGraphBlockNames.TrailingZeros:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphTrailingZerosBlock;\n        case FlowGraphBlockNames.OneBitsCounter:\n            return async () => (await import(\"./Data/Math/flowGraphMathBlocks\")).FlowGraphOneBitsCounterBlock;\n        case FlowGraphBlockNames.CombineVector2:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphCombineVector2Block;\n        case FlowGraphBlockNames.CombineVector3:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphCombineVector3Block;\n        case FlowGraphBlockNames.CombineVector4:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphCombineVector4Block;\n        case FlowGraphBlockNames.CombineMatrix:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphCombineMatrixBlock;\n        case FlowGraphBlockNames.ExtractVector2:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphExtractVector2Block;\n        case FlowGraphBlockNames.ExtractVector3:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphExtractVector3Block;\n        case FlowGraphBlockNames.ExtractVector4:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphExtractVector4Block;\n        case FlowGraphBlockNames.ExtractMatrix:\n            return async () => (await import(\"./Data/Math/flowGraphMathCombineExtractBlocks\")).FlowGraphExtractMatrixBlock;\n        case FlowGraphBlockNames.TransformVector:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphTransformBlock;\n        case FlowGraphBlockNames.TransformCoordinates:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphTransformCoordinatesBlock;\n        case FlowGraphBlockNames.Conjugate:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphConjugateBlock;\n        case FlowGraphBlockNames.AngleBetween:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphAngleBetweenBlock;\n        case FlowGraphBlockNames.QuaternionFromAxisAngle:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphQuaternionFromAxisAngleBlock;\n        case FlowGraphBlockNames.AxisAngleFromQuaternion:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphAxisAngleFromQuaternionBlock;\n        case FlowGraphBlockNames.QuaternionFromDirections:\n            return async () => (await import(\"./Data/Math/flowGraphVectorMathBlocks\")).FlowGraphQuaternionFromDirectionsBlock;\n        case FlowGraphBlockNames.MatrixDecompose:\n            return async () => (await import(\"./Data/Math/flowGraphMatrixMathBlocks\")).FlowGraphMatrixDecomposeBlock;\n        case FlowGraphBlockNames.MatrixCompose:\n            return async () => (await import(\"./Data/Math/flowGraphMatrixMathBlocks\")).FlowGraphMatrixComposeBlock;\n        case FlowGraphBlockNames.BooleanToFloat:\n            return async () => (await import(\"./Data/Transformers/flowGraphTypeToTypeBlocks\")).FlowGraphBooleanToFloat;\n        case FlowGraphBlockNames.BooleanToInt:\n            return async () => (await import(\"./Data/Transformers/flowGraphTypeToTypeBlocks\")).FlowGraphBooleanToInt;\n        case FlowGraphBlockNames.FloatToBoolean:\n            return async () => (await import(\"./Data/Transformers/flowGraphTypeToTypeBlocks\")).FlowGraphFloatToBoolean;\n        case FlowGraphBlockNames.IntToBoolean:\n            return async () => (await import(\"./Data/Transformers/flowGraphTypeToTypeBlocks\")).FlowGraphIntToBoolean;\n        case FlowGraphBlockNames.IntToFloat:\n            return async () => (await import(\"./Data/Transformers/flowGraphTypeToTypeBlocks\")).FlowGraphIntToFloat;\n        case FlowGraphBlockNames.FloatToInt:\n            return async () => (await import(\"./Data/Transformers/flowGraphTypeToTypeBlocks\")).FlowGraphFloatToInt;\n        case FlowGraphBlockNames.Easing:\n            return async () => (await import(\"./Execution/Animation/flowGraphEasingBlock\")).FlowGraphEasingBlock;\n        case FlowGraphBlockNames.BezierCurveEasing:\n            return async () => (await import(\"./Execution/Animation/flowGraphBezierCurveEasingBlock\")).FlowGraphBezierCurveEasingBlock;\n        case FlowGraphBlockNames.PointerOverEvent:\n            return async () => (await import(\"./Event/flowGraphPointerOverEventBlock\")).FlowGraphPointerOverEventBlock;\n        case FlowGraphBlockNames.PointerOutEvent:\n            return async () => (await import(\"./Event/flowGraphPointerOutEventBlock\")).FlowGraphPointerOutEventBlock;\n        case FlowGraphBlockNames.Context:\n            return async () => (await import(\"./Data/Utils/flowGraphContextBlock\")).FlowGraphContextBlock;\n        case FlowGraphBlockNames.ArrayIndex:\n            return async () => (await import(\"./Data/Utils/flowGraphArrayIndexBlock\")).FlowGraphArrayIndexBlock;\n        case FlowGraphBlockNames.CodeExecution:\n            return async () => (await import(\"./Data/Utils/flowGraphCodeExecutionBlock\")).FlowGraphCodeExecutionBlock;\n        case FlowGraphBlockNames.IndexOf:\n            return async () => (await import(\"./Data/Utils/flowGraphIndexOfBlock\")).FlowGraphIndexOfBlock;\n        case FlowGraphBlockNames.FunctionReference:\n            return async () => (await import(\"./Data/Utils/flowGraphFunctionReferenceBlock\")).FlowGraphFunctionReferenceBlock;\n        case FlowGraphBlockNames.DataSwitch:\n            return async () => (await import(\"./Data/flowGraphDataSwitchBlock\")).FlowGraphDataSwitchBlock;\n        default:\n            // check if the block is a custom block\n            if (CustomBlocks[blockName]) {\n                return CustomBlocks[blockName];\n            }\n            throw new Error(`Unknown block name ${blockName}`);\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2812, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphParser.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphParser.ts"],"sourcesContent":["import type { IAssetContainer } from \"core/IAssetContainer\";\nimport { blockFactory } from \"./Blocks/flowGraphBlockFactory\";\nimport type { FlowGraphBlockNames } from \"./Blocks/flowGraphBlockNames\";\nimport type { FlowGraph, IFlowGraphParseOptions } from \"./flowGraph\";\nimport type { FlowGraphBlock, IFlowGraphBlockParseOptions } from \"./flowGraphBlock\";\nimport type { FlowGraphContext, IFlowGraphContextParseOptions } from \"./flowGraphContext\";\nimport type { IFlowGraphCoordinatorParseOptions } from \"./flowGraphCoordinator\";\nimport { FlowGraphCoordinator } from \"./flowGraphCoordinator\";\nimport type { FlowGraphDataConnection } from \"./flowGraphDataConnection\";\nimport { FlowGraphEventBlock } from \"./flowGraphEventBlock\";\nimport { FlowGraphExecutionBlock } from \"./flowGraphExecutionBlock\";\nimport type { FlowGraphSignalConnection } from \"./flowGraphSignalConnection\";\nimport { defaultValueParseFunction, needsPathConverter } from \"./serialization\";\nimport type { ISerializedFlowGraph, ISerializedFlowGraphBlock, ISerializedFlowGraphContext } from \"./typeDefinitions\";\nimport type { Node } from \"core/node\";\nimport { getRichTypeByFlowGraphType, RichType } from \"./flowGraphRichTypes\";\nimport type { FlowGraphConnection } from \"./flowGraphConnection\";\n\n/**\n * Given a list of blocks, find an output data connection that has a specific unique id\n * @param blocks a list of flow graph blocks\n * @param uniqueId the unique id of a connection\n * @returns the connection that has this unique id. throws an error if none was found\n */\nexport function GetDataOutConnectionByUniqueId(blocks: FlowGraphBlock[], uniqueId: string): FlowGraphDataConnection<any> {\n    for (const block of blocks) {\n        for (const dataOut of block.dataOutputs) {\n            if (dataOut.uniqueId === uniqueId) {\n                return dataOut;\n            }\n        }\n    }\n    throw new Error(\"Could not find data out connection with unique id \" + uniqueId);\n}\n\n/**\n * Given a list of blocks, find an input signal connection that has a specific unique id\n * @param blocks a list of flow graph blocks\n * @param uniqueId the unique id of a connection\n * @returns the connection that has this unique id. throws an error if none was found\n */\nexport function GetSignalInConnectionByUniqueId(blocks: FlowGraphBlock[], uniqueId: string): FlowGraphSignalConnection {\n    for (const block of blocks) {\n        if (block instanceof FlowGraphExecutionBlock) {\n            for (const signalIn of block.signalInputs) {\n                if (signalIn.uniqueId === uniqueId) {\n                    return signalIn;\n                }\n            }\n        }\n    }\n    throw new Error(\"Could not find signal in connection with unique id \" + uniqueId);\n}\n\n/**\n * Parses a serialized coordinator.\n * @param serializedObject the object to parse\n * @param options the options to use when parsing\n * @returns the parsed coordinator\n */\nexport async function ParseCoordinatorAsync(serializedObject: any, options: IFlowGraphCoordinatorParseOptions) {\n    const valueParseFunction = options.valueParseFunction ?? defaultValueParseFunction;\n    const coordinator = new FlowGraphCoordinator({ scene: options.scene });\n\n    if (serializedObject.dispatchEventsSynchronously) {\n        coordinator.dispatchEventsSynchronously = serializedObject.dispatchEventsSynchronously;\n    }\n\n    await options.scene.whenReadyAsync();\n    // if custom default values are defined, set them in the global context\n    if (serializedObject._defaultValues) {\n        for (const key in serializedObject._defaultValues) {\n            // key is the FlowGraphType, value is the default value\n            const value = serializedObject._defaultValues[key];\n            getRichTypeByFlowGraphType(key).defaultValue = value;\n        }\n    }\n    // async-parse the flow graphs. This can be done in parallel\n    await Promise.all(\n        serializedObject._flowGraphs?.map(\n            async (serializedGraph: any) => await ParseFlowGraphAsync(serializedGraph, { coordinator, valueParseFunction, pathConverter: options.pathConverter })\n        )\n    );\n    return coordinator;\n}\n\n/**\n * Parses a graph from a given serialization object\n * @param serializationObject the object where the values are written\n * @param options options for parsing the graph\n * @returns the parsed graph\n */\nexport async function ParseFlowGraphAsync(serializationObject: ISerializedFlowGraph, options: IFlowGraphParseOptions): Promise<FlowGraph> {\n    // get all classes types needed for the blocks using the block factory\n    const resolvedClasses = await Promise.all(\n        serializationObject.allBlocks.map(async (serializedBlock) => {\n            const classFactory = blockFactory(serializedBlock.className as FlowGraphBlockNames);\n            return await classFactory();\n        })\n    );\n    // async will be used when we start using the block async factory\n    return ParseFlowGraph(serializationObject, options, resolvedClasses);\n}\n\n/**\n * Parses a graph from a given serialization object\n * @param serializationObject the object where the values are written\n * @param options options for parsing the graph\n * @param resolvedClasses the resolved classes for the blocks\n * @returns the parsed graph\n */\nexport function ParseFlowGraph(serializationObject: ISerializedFlowGraph, options: IFlowGraphParseOptions, resolvedClasses: (typeof FlowGraphBlock)[]) {\n    const graph = options.coordinator.createGraph();\n    const blocks: FlowGraphBlock[] = [];\n    const valueParseFunction = options.valueParseFunction ?? defaultValueParseFunction;\n    // Parse all blocks\n    // for (const serializedBlock of serializationObject.allBlocks) {\n    for (let i = 0; i < serializationObject.allBlocks.length; i++) {\n        const serializedBlock = serializationObject.allBlocks[i];\n        const block = ParseFlowGraphBlockWithClassType(\n            serializedBlock,\n            { scene: options.coordinator.config.scene, pathConverter: options.pathConverter, assetsContainer: options.coordinator.config.scene, valueParseFunction },\n            resolvedClasses[i]\n        );\n        blocks.push(block);\n        if (block instanceof FlowGraphEventBlock) {\n            graph.addEventBlock(block);\n        }\n    }\n    // After parsing all blocks, connect them\n    for (const block of blocks) {\n        for (const dataIn of block.dataInputs) {\n            for (const serializedConnection of dataIn.connectedPointIds) {\n                const connection = GetDataOutConnectionByUniqueId(blocks, serializedConnection);\n                dataIn.connectTo(connection);\n            }\n        }\n        if (block instanceof FlowGraphExecutionBlock) {\n            for (const signalOut of block.signalOutputs) {\n                for (const serializedConnection of signalOut.connectedPointIds) {\n                    const connection = GetSignalInConnectionByUniqueId(blocks, serializedConnection);\n                    signalOut.connectTo(connection);\n                }\n            }\n        }\n    }\n    for (const serializedContext of serializationObject.executionContexts) {\n        ParseFlowGraphContext(serializedContext, { graph, valueParseFunction }, serializationObject.rightHanded);\n    }\n    return graph;\n}\n\n/**\n * Parses a context\n * @param serializationObject the object containing the context serialization values\n * @param options the options for parsing the context\n * @param rightHanded whether the serialized data is right handed\n * @returns\n */\nexport function ParseFlowGraphContext(serializationObject: ISerializedFlowGraphContext, options: IFlowGraphContextParseOptions, rightHanded?: boolean): FlowGraphContext {\n    const result = options.graph.createContext();\n    if (serializationObject.enableLogging) {\n        result.enableLogging = true;\n    }\n    result.treatDataAsRightHanded = rightHanded || false;\n    const valueParseFunction = options.valueParseFunction ?? defaultValueParseFunction;\n    result.uniqueId = serializationObject.uniqueId;\n    const scene = result.getScene();\n    // check if assets context is available\n    if (serializationObject._assetsContext) {\n        const ac = serializationObject._assetsContext;\n        const assetsContext: IAssetContainer = {\n            meshes: ac.meshes?.map((m: string) => scene.getMeshById(m)),\n            lights: ac.lights?.map((l: string) => scene.getLightByName(l)),\n            cameras: ac.cameras?.map((c: string) => scene.getCameraByName(c)),\n            materials: ac.materials?.map((m: string) => scene.getMaterialById(m)),\n            textures: ac.textures?.map((t: string) => scene.getTextureByName(t)),\n            animations: ac.animations?.map((a: string) => scene.animations.find((anim) => anim.name === a)),\n            skeletons: ac.skeletons?.map((s: string) => scene.getSkeletonByName(s)),\n            particleSystems: ac.particleSystems?.map((ps: string) => scene.getParticleSystemById(ps)),\n            animationGroups: ac.animationGroups?.map((ag: string) => scene.getAnimationGroupByName(ag)),\n            transformNodes: ac.transformNodes?.map((tn: string) => scene.getTransformNodeById(tn)),\n            rootNodes: [],\n            multiMaterials: [],\n            morphTargetManagers: [],\n            geometries: [],\n            actionManagers: [],\n            environmentTexture: null,\n            postProcesses: [],\n            sounds: null,\n            effectLayers: [],\n            layers: [],\n            reflectionProbes: [],\n            lensFlareSystems: [],\n            proceduralTextures: [],\n            getNodes: function (): Array<Node> {\n                throw new Error(\"Function not implemented.\");\n            },\n        };\n        result.assetsContext = assetsContext;\n    }\n    for (const key in serializationObject._userVariables) {\n        const value = valueParseFunction(key, serializationObject._userVariables, result.assetsContext, scene);\n        result.userVariables[key] = value;\n    }\n    for (const key in serializationObject._connectionValues) {\n        const value = valueParseFunction(key, serializationObject._connectionValues, result.assetsContext, scene);\n        result._setConnectionValueByKey(key, value);\n    }\n\n    return result;\n}\n\n/**\n * Parses a block from a serialization object\n * This function is async due to the factory method that is used to create the block's class. If you load the class externally use ParseBlockWithClassType\n * @param serializationObject the object to parse from\n * @param parseOptions options for parsing the block\n * @returns the parsed block\n */\nexport async function ParseBlockAsync(serializationObject: ISerializedFlowGraphBlock, parseOptions: IFlowGraphBlockParseOptions): Promise<FlowGraphBlock> {\n    const classFactory = blockFactory(serializationObject.className as FlowGraphBlockNames);\n    const classType = await classFactory();\n    return ParseFlowGraphBlockWithClassType(serializationObject, parseOptions, classType);\n}\n\n/**\n * Parses a block from a serialization object\n * @param serializationObject the object to parse from\n * @param parseOptions options for parsing the block\n * @param classType the class type of the block. This is used when the class is not loaded asynchronously\n * @returns the parsed block\n */\nexport function ParseFlowGraphBlockWithClassType(\n    serializationObject: ISerializedFlowGraphBlock,\n    parseOptions: IFlowGraphBlockParseOptions,\n    classType: typeof FlowGraphBlock\n): FlowGraphBlock {\n    const parsedConfig: any = {};\n    const valueParseFunction = parseOptions.valueParseFunction ?? defaultValueParseFunction;\n    if (serializationObject.config) {\n        for (const key in serializationObject.config) {\n            parsedConfig[key] = valueParseFunction(key, serializationObject.config, parseOptions.assetsContainer || parseOptions.scene, parseOptions.scene);\n        }\n    }\n    if (needsPathConverter(serializationObject.className)) {\n        if (!parseOptions.pathConverter) {\n            throw new Error(\"Path converter is required for this block\");\n        }\n        parsedConfig.pathConverter = parseOptions.pathConverter;\n    }\n    const obj = new classType(parsedConfig);\n    obj.uniqueId = serializationObject.uniqueId;\n    for (let i = 0; i < serializationObject.dataInputs.length; i++) {\n        const dataInput = obj.getDataInput(serializationObject.dataInputs[i].name);\n        if (dataInput) {\n            dataInput.deserialize(serializationObject.dataInputs[i]);\n        } else {\n            throw new Error(\"Could not find data input with name \" + serializationObject.dataInputs[i].name + \" in block \" + serializationObject.className);\n        }\n    }\n    for (let i = 0; i < serializationObject.dataOutputs.length; i++) {\n        const dataOutput = obj.getDataOutput(serializationObject.dataOutputs[i].name);\n        if (dataOutput) {\n            dataOutput.deserialize(serializationObject.dataOutputs[i]);\n        } else {\n            throw new Error(\"Could not find data output with name \" + serializationObject.dataOutputs[i].name + \" in block \" + serializationObject.className);\n        }\n    }\n    obj.metadata = serializationObject.metadata;\n    obj.deserialize && obj.deserialize(serializationObject);\n    return obj;\n}\n\n/**\n * Parses a connection from an object\n * @param serializationObject the object to parse from.\n * @param ownerBlock the block that owns the connection.\n * @param classType the class type of the connection.\n * @returns the parsed connection.\n */\nexport function ParseGraphConnectionWithClassType<BlockT extends FlowGraphBlock>(serializationObject: any = {}, ownerBlock: BlockT, classType: typeof FlowGraphConnection) {\n    const connection = new classType(serializationObject.name, serializationObject._connectionType, ownerBlock);\n    connection.deserialize(serializationObject);\n    return connection;\n}\n\n/**\n * Parses a data connection from a serialized object.\n * @param serializationObject the object to parse from\n * @param ownerBlock the block that owns the connection\n * @param classType the class type of the data connection\n * @returns the parsed connection\n */\nexport function ParseGraphDataConnection(serializationObject: any, ownerBlock: FlowGraphBlock, classType: typeof FlowGraphDataConnection): FlowGraphDataConnection<any> {\n    const richType = ParseRichType(serializationObject.richType);\n    const defaultValue = serializationObject.defaultValue;\n    const connection = new classType(serializationObject.name, serializationObject._connectionType, ownerBlock, richType, defaultValue, !!serializationObject._optional);\n    connection.deserialize(serializationObject);\n    return connection;\n}\n\n/**\n * Parses a rich type from a serialization object.\n * @param serializationObject a serialization object\n * @returns the parsed rich type\n */\nfunction ParseRichType(serializationObject: any): RichType<any> {\n    return new RichType(serializationObject.typeName, serializationObject.defaultValue);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3062, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphPathConverter.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphPathConverter.ts"],"sourcesContent":["import type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport type { IPathToObjectConverter, IObjectInfo } from \"../ObjectModel/objectModelInterfaces\";\r\nimport type { IObjectAccessor } from \"./typeDefinitions\";\r\n\r\n/**\r\n * @deprecated Avoid using this on the flow-graph (glTF only)\r\n * A path converter that converts a path on the flow graph context variables to an object accessor.\r\n */\r\nexport class FlowGraphPathConverter implements IPathToObjectConverter<IObjectAccessor> {\r\n    public constructor(\r\n        private _context: FlowGraphContext,\r\n        private _separator: string = \"/\"\r\n    ) {}\r\n\r\n    public convert(path: string): IObjectInfo<IObjectAccessor> {\r\n        const parts = path.split(this._separator);\r\n        if (parts.length < 2) {\r\n            throw new Error(`Path ${path} is invalid`);\r\n        }\r\n        let currentObject = this._context.getVariable(parts[0]);\r\n        const property = parts[parts.length - 1];\r\n        for (let i = 1; i < parts.length - 1; i++) {\r\n            currentObject = currentObject[parts[i]];\r\n        }\r\n        return {\r\n            object: currentObject,\r\n            info: {\r\n                type: \"object\",\r\n                get: () => currentObject[property],\r\n                set: (value: any) => (currentObject[property] = value),\r\n                getTarget: () => currentObject,\r\n                getPropertyName: [() => property],\r\n            },\r\n        };\r\n    }\r\n}\r\n"],"names":[],"mappings":"AAIA;;;GAGG;;;;AACG,MAAO,sBAAsB;IAC/B,YACY,QAA0B,EAC1B,aAAqB,GAAG,CAAA;QADxB,IAAA,CAAA,QAAQ,GAAR,QAAQ,CAAkB;QAC1B,IAAA,CAAA,UAAU,GAAV,UAAU,CAAc;IACjC,CAAC;IAEG,OAAO,CAAC,IAAY,EAAA;QACvB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,CAAA,KAAA,EAAQ,IAAI,CAAA,WAAA,CAAa,CAAC,CAAC;QAC/C,CAAC;QACD,IAAI,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACxD,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACzC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;YACxC,aAAa,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,CAAC;QACD,OAAO;YACH,MAAM,EAAE,aAAa;YACrB,IAAI,EAAE;gBACF,IAAI,EAAE,QAAQ;gBACd,GAAG,EAAE,GAAG,CAAG,CAAD,YAAc,CAAC,QAAQ,CAAC;gBAClC,GAAG,EAAE,CAAC,KAAU,EAAE,CAAI,CAAF,CAAC,WAAc,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC;gBACtD,SAAS,EAAE,GAAG,CAAG,CAAD,YAAc;gBAC9B,eAAe,EAAE;oBAAC,GAAG,CAAG,CAAD,OAAS;iBAAC;aACpC;SACJ,CAAC;IACN,CAAC;CACJ"}},
    {"offset": {"line": 3102, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphPathConverterComponent.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphPathConverterComponent.ts"],"sourcesContent":["import type { IObjectInfo, IPathToObjectConverter } from \"../ObjectModel/objectModelInterfaces\";\r\nimport type { FlowGraphBlock } from \"./flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"./flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"./flowGraphDataConnection\";\r\nimport { FlowGraphInteger } from \"./CustomTypes/flowGraphInteger\";\r\nimport { RichTypeFlowGraphInteger } from \"./flowGraphRichTypes\";\r\nimport type { IObjectAccessor } from \"./typeDefinitions\";\r\n\r\nconst PathHasTemplatesRegex = new RegExp(/\\/\\{(\\w+)\\}(?=\\/|$)/g);\r\n\r\n/**\r\n * @experimental\r\n * A component that converts a path to an object accessor.\r\n */\r\nexport class FlowGraphPathConverterComponent {\r\n    /**\r\n     * The templated inputs for the provided path.\r\n     */\r\n    public readonly templatedInputs: FlowGraphDataConnection<FlowGraphInteger>[] = [];\r\n    public constructor(\r\n        public path: string,\r\n        public ownerBlock: FlowGraphBlock\r\n    ) {\r\n        let match = PathHasTemplatesRegex.exec(path);\r\n        const templateSet = new Set<string>();\r\n        while (match) {\r\n            const [, matchGroup] = match;\r\n            if (templateSet.has(matchGroup)) {\r\n                throw new Error(\"Duplicate template variable detected.\");\r\n            }\r\n            templateSet.add(matchGroup);\r\n            this.templatedInputs.push(ownerBlock.registerDataInput(matchGroup, RichTypeFlowGraphInteger, new FlowGraphInteger(0)));\r\n            match = PathHasTemplatesRegex.exec(path);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the accessor for the path.\r\n     * @param pathConverter the path converter to use to convert the path to an object accessor.\r\n     * @param context the context to use.\r\n     * @returns the accessor for the path.\r\n     * @throws if the value for a templated input is invalid.\r\n     */\r\n    public getAccessor(pathConverter: IPathToObjectConverter<IObjectAccessor>, context: FlowGraphContext): IObjectInfo<IObjectAccessor> {\r\n        let finalPath = this.path;\r\n        for (const templatedInput of this.templatedInputs) {\r\n            const valueToReplace = templatedInput.getValue(context).value;\r\n            if (typeof valueToReplace !== \"number\" || valueToReplace < 0) {\r\n                throw new Error(\"Invalid value for templated input.\");\r\n            }\r\n            finalPath = finalPath.replace(`{${templatedInput.name}}`, valueToReplace.toString());\r\n        }\r\n        return pathConverter.convert(finalPath);\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAIA,OAAO,EAAE,gBAAgB,EAAE,MAAM,gCAAgC,CAAC;AAClE,OAAO,EAAE,wBAAwB,EAAE,MAAM,sBAAsB,CAAC;;;AAGhE,MAAM,qBAAqB,GAAG,IAAI,MAAM,CAAC,sBAAsB,CAAC,CAAC;AAM3D,MAAO,+BAA+B;IAKxC,YACW,IAAY,EACZ,UAA0B,CAAA;QAD1B,IAAA,CAAA,IAAI,GAAJ,IAAI,CAAQ;QACZ,IAAA,CAAA,UAAU,GAAV,UAAU,CAAgB;QANrC;;WAEG,CACa,IAAA,CAAA,eAAe,GAAgD,EAAE,CAAC;QAK9E,IAAI,KAAK,GAAG,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7C,MAAM,WAAW,GAAG,IAAI,GAAG,EAAU,CAAC;QACtC,MAAO,KAAK,CAAE,CAAC;YACX,MAAM,CAAC,EAAE,UAAU,CAAC,GAAG,KAAK,CAAC;YAC7B,IAAI,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9B,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;YAC7D,CAAC;YACD,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC5B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,UAAU,EAAE,sQAAwB,EAAE,IAAI,2QAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvH,KAAK,GAAG,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7C,CAAC;IACL,CAAC;IAED;;;;;;OAMG,CACI,WAAW,CAAC,aAAsD,EAAE,OAAyB,EAAA;QAChG,IAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;QAC1B,KAAK,MAAM,cAAc,IAAI,IAAI,CAAC,eAAe,CAAE,CAAC;YAChD,MAAM,cAAc,GAAG,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;YAC9D,IAAI,OAAO,cAAc,KAAK,QAAQ,IAAI,cAAc,GAAG,CAAC,EAAE,CAAC;gBAC3D,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;YAC1D,CAAC;YACD,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,CAAA,CAAA,EAAI,cAAc,CAAC,IAAI,CAAA,CAAA,CAAG,EAAE,cAAc,CAAC,QAAQ,EAAE,CAAC,CAAC;QACzF,CAAC;QACD,OAAO,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IAC5C,CAAC;CACJ"}},
    {"offset": {"line": 3152, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphConsoleLogBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/flowGraphConsoleLogBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../flowGraphExecutionBlockWithOutSignal\";\r\nimport { RichTypeAny } from \"../../flowGraphRichTypes\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\n\r\n/**\r\n * Configuration for the console log block.\r\n */\r\nexport interface IFlowGraphConsoleLogBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * An optional message template to use for the log message.\r\n     * If provided, the template can hold placeholders for the message value.\r\n     * For example, if the template is \"The message is: \\{data\\}\", a new data input called \"data\" will be created.\r\n     * The value of the message input will be used to replace the placeholder in the template.\r\n     */\r\n    messageTemplate?: string;\r\n}\r\n\r\n/**\r\n * Block that logs a message to the console.\r\n */\r\nexport class FlowGraphConsoleLogBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Input connection: The message to log.\r\n     * Will be ignored if a message template is provided.\r\n     */\r\n    public readonly message: FlowGraphDataConnection<any>;\r\n\r\n    /**\r\n     * Input connection: The log type.\r\n     */\r\n    public readonly logType: FlowGraphDataConnection<\"log\" | \"warn\" | \"error\">;\r\n\r\n    public constructor(config?: IFlowGraphConsoleLogBlockConfiguration) {\r\n        super(config);\r\n        this.message = this.registerDataInput(\"message\", RichTypeAny);\r\n        this.logType = this.registerDataInput(\"logType\", RichTypeAny, \"log\");\r\n        if (config?.messageTemplate) {\r\n            const matches = this._getTemplateMatches(config.messageTemplate);\r\n            for (const match of matches) {\r\n                this.registerDataInput(match, RichTypeAny);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _execute(context: FlowGraphContext): void {\r\n        const typeValue = this.logType.getValue(context);\r\n        const messageValue = this._getMessageValue(context);\r\n        if (typeValue === \"warn\") {\r\n            Logger.Warn(messageValue);\r\n        } else if (typeValue === \"error\") {\r\n            Logger.Error(messageValue);\r\n        } else {\r\n            Logger.Log(messageValue);\r\n        }\r\n        // activate the output flow block\r\n        this.out._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.ConsoleLog;\r\n    }\r\n\r\n    private _getMessageValue(context: FlowGraphContext): string {\r\n        if (this.config?.messageTemplate) {\r\n            let template: string = this.config.messageTemplate;\r\n            const matches = this._getTemplateMatches(template);\r\n            for (const match of matches) {\r\n                const value = this.getDataInput(match)?.getValue(context);\r\n                if (value !== undefined) {\r\n                    // replace all\r\n                    template = template.replace(new RegExp(`\\\\{${match}\\\\}`, \"g\"), value.toString());\r\n                }\r\n            }\r\n            return template;\r\n        } else {\r\n            return this.message.getValue(context);\r\n        }\r\n    }\r\n\r\n    private _getTemplateMatches(template: string): string[] {\r\n        const regex = /\\{([^}]+)\\}/g;\r\n        const matches: string[] = [];\r\n        let match;\r\n        while ((match = regex.exec(template)) !== null) {\r\n            matches.push(match[1]);\r\n        }\r\n        return matches;\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.ConsoleLog, FlowGraphConsoleLogBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3227, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphBranchBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphBranchBlock.ts"],"sourcesContent":["import { RichTypeBoolean } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlock } from \"../../../flowGraphExecutionBlock\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n\r\n/**\r\n * A block that evaluates a condition and activates one of two branches.\r\n */\r\nexport class FlowGraphBranchBlock extends FlowGraphExecutionBlock {\r\n    /**\r\n     * Input connection: The condition to evaluate.\r\n     */\r\n    public readonly condition: FlowGraphDataConnection<boolean>;\r\n    /**\r\n     * Output connection: The branch to execute if the condition is true.\r\n     */\r\n    public readonly onTrue: FlowGraphSignalConnection;\r\n    /**\r\n     * Output connection: The branch to execute if the condition is false.\r\n     */\r\n    public readonly onFalse: FlowGraphSignalConnection;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.condition = this.registerDataInput(\"condition\", RichTypeBoolean);\r\n\r\n        this.onTrue = this._registerSignalOutput(\"onTrue\");\r\n        this.onFalse = this._registerSignalOutput(\"onFalse\");\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext): void {\r\n        if (this.condition.getValue(context)) {\r\n            this.onTrue._activateSignal(context);\r\n        } else {\r\n            this.onFalse._activateSignal(context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Branch;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Branch, FlowGraphBranchBlock);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,6BAA6B,CAAC;AAG9D,OAAO,EAAE,uBAAuB,EAAE,MAAM,kCAAkC,CAAC;AAE3E,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;;;;AAOrD,MAAO,oBAAqB,SAAQ,0QAAuB;IAc7D,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,6PAAe,CAAC,CAAC;QAEtE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;IACzD,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAA;QACrC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC,MAAM,CAAC;YACJ,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,uBAAA,8BAAA,GAAkC;IACtC,CAAC;CACJ;IACD,6OAAa,EAAA,uBAAA,8BAAA,KAA6B,oBAAoB,CAAC,CAAC"}},
    {"offset": {"line": 3262, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDoNBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDoNBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphInteger } from \"../../../CustomTypes/flowGraphInteger\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n\r\n/**\r\n * Configuration for the DoN block.\r\n */\r\nexport interface IFlowGraphDoNBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The start index for the counter.\r\n     */\r\n    startIndex?: FlowGraphInteger;\r\n}\r\n/**\r\n * A block that executes a branch a set number of times.\r\n */\r\nexport class FlowGraphDoNBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Input connection: Resets the counter\r\n     */\r\n    public readonly reset: FlowGraphSignalConnection;\r\n    /**\r\n     * Input connection: The maximum number of times the block can be executed.\r\n     */\r\n    public readonly maxExecutions: FlowGraphDataConnection<FlowGraphInteger>;\r\n    /**\r\n     * Output connection: The number of times the block has been executed.\r\n     */\r\n    public readonly executionCount: FlowGraphDataConnection<FlowGraphInteger>;\r\n\r\n    constructor(\r\n        /**\r\n         * [Object] the configuration of the block\r\n         */\r\n        public override config: IFlowGraphDoNBlockConfiguration = {}\r\n    ) {\r\n        super(config);\r\n        this.config.startIndex = config.startIndex ?? new FlowGraphInteger(0);\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n        this.maxExecutions = this.registerDataInput(\"maxExecutions\", RichTypeFlowGraphInteger);\r\n        this.executionCount = this.registerDataOutput(\"executionCount\", RichTypeFlowGraphInteger, new FlowGraphInteger(0));\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        if (callingSignal === this.reset) {\r\n            this.executionCount.setValue(this.config.startIndex!, context);\r\n        } else {\r\n            const currentCountValue = this.executionCount.getValue(context);\r\n            if (currentCountValue.value < this.maxExecutions.getValue(context).value) {\r\n                this.executionCount.setValue(new FlowGraphInteger(currentCountValue.value + 1), context);\r\n                this.out._activateSignal(context);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.DoN;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.DoN, FlowGraphDoNBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAEvE,OAAO,EAAE,oCAAoC,EAAE,MAAM,+CAA+C,CAAC;AACrG,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAE3D,OAAO,EAAE,gBAAgB,EAAE,MAAM,uCAAuC,CAAC;;;;;AAenE,MAAO,iBAAkB,SAAQ,oSAAoC;IAcvE,YACI;;OAEG,CACa,SAA0C,CAAA,CAAE,CAAA;QAE5D,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAAsC;QAG5D,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,IAAI,IAAI,2QAAgB,CAAC,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,sQAAwB,CAAC,CAAC;QACvF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,sQAAwB,EAAE,IAAI,2QAAgB,CAAC,CAAC,CAAC,CAAC,CAAC;IACvH,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAE,aAAwC,EAAA;QAC/E,IAAI,aAAa,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,UAAW,EAAE,OAAO,CAAC,CAAC;QACnE,CAAC,MAAM,CAAC;YACJ,MAAM,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAChE,IAAI,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;gBACvE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,2QAAgB,CAAC,iBAAiB,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;gBACzF,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YACtC,CAAC;QACL,CAAC;IACL,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,oBAAA,2BAAA,GAA+B;IACnC,CAAC;CACJ;IACD,6OAAa,EAAA,oBAAA,2BAAA,KAA0B,iBAAiB,CAAC,CAAC"}},
    {"offset": {"line": 3307, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphForLoopBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphForLoopBlock.ts"],"sourcesContent":["import type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"core/FlowGraph/flowGraphExecutionBlockWithOutSignal\";\r\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport { RichTypeAny, RichTypeFlowGraphInteger, RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport type { FlowGraphNumber } from \"core/FlowGraph/utils\";\r\nimport { getNumericValue } from \"core/FlowGraph/utils\";\r\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\r\n\r\n/**\r\n * Configuration for the For Loop block.\r\n */\r\nexport interface IFlowGraphForLoopBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The initial index of the loop.\r\n     * if not set will default to 0\r\n     */\r\n    initialIndex?: FlowGraphNumber;\r\n\r\n    /**\r\n     * If set to true, the index of the case will be incremented when the loop is done.\r\n     * This will result that the index will equal endIndex when the loop finished its work.\r\n     * This is the default behavior in glTF interactivity\r\n     */\r\n    incrementIndexWhenLoopDone?: boolean;\r\n}\r\n/**\r\n * Block that executes an action in a loop.\r\n */\r\nexport class FlowGraphForLoopBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * The maximum number of iterations allowed for the loop.\r\n     * If the loop exceeds this number, it will stop. This number is configurable to avoid infinite loops.\r\n     */\r\n    public static MaxLoopIterations = 1000;\r\n    /**\r\n     * Input connection: The start index of the loop.\r\n     */\r\n    public readonly startIndex: FlowGraphDataConnection<FlowGraphNumber>;\r\n    /**\r\n     * Input connection: The end index of the loop.\r\n     */\r\n    public readonly endIndex: FlowGraphDataConnection<FlowGraphNumber>;\r\n    /**\r\n     * Input connection: The step of the loop.\r\n     */\r\n    public readonly step: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Output connection: The current index of the loop.\r\n     */\r\n    public readonly index: FlowGraphDataConnection<FlowGraphInteger>;\r\n    /**\r\n     * Output connection: The signal that is activated when the loop body is executed.\r\n     */\r\n    public readonly executionFlow: FlowGraphSignalConnection;\r\n\r\n    /**\r\n     * Output connection: The completed signal. Triggered when condition is false.\r\n     * No out signal is available.\r\n     */\r\n    public readonly completed: FlowGraphSignalConnection;\r\n\r\n    public constructor(config?: IFlowGraphForLoopBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.startIndex = this.registerDataInput(\"startIndex\", RichTypeAny, 0);\r\n        this.endIndex = this.registerDataInput(\"endIndex\", RichTypeAny);\r\n        this.step = this.registerDataInput(\"step\", RichTypeNumber, 1);\r\n\r\n        this.index = this.registerDataOutput(\"index\", RichTypeFlowGraphInteger, new FlowGraphInteger(getNumericValue(config?.initialIndex ?? 0)));\r\n        this.executionFlow = this._registerSignalOutput(\"executionFlow\");\r\n        this.completed = this._registerSignalOutput(\"completed\");\r\n\r\n        this._unregisterSignalOutput(\"out\");\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _execute(context: FlowGraphContext): void {\r\n        const index = getNumericValue(this.startIndex.getValue(context));\r\n        const step = this.step.getValue(context);\r\n        let endIndex = getNumericValue(this.endIndex.getValue(context));\r\n        for (let i = index; i < endIndex; i += step) {\r\n            this.index.setValue(new FlowGraphInteger(i), context);\r\n            this.executionFlow._activateSignal(context);\r\n            endIndex = getNumericValue(this.endIndex.getValue(context));\r\n            if (i > FlowGraphForLoopBlock.MaxLoopIterations * step) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (this.config?.incrementIndexWhenLoopDone) {\r\n            this.index.setValue(new FlowGraphInteger(getNumericValue(this.index.getValue(context)) + step), context);\r\n        }\r\n\r\n        this.completed._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.ForLoop;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.ForLoop, FlowGraphForLoopBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,oCAAoC,EAAE,yDAA4D;AAE3G,OAAO,EAAE,WAAW,EAAE,wBAAwB,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AACpG,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAI3D,OAAO,EAAE,eAAe,EAAE,0BAA6B;AACvD,OAAO,EAAE,gBAAgB,EAAE,iDAAoD;;;;;;AAsBzE,MAAO,qBAAsB,SAAQ,oSAAoC;IAiC3E,YAAmB,MAA4C,CAAA;QAC3D,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,yPAAW,EAAE,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,yPAAW,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,4PAAc,EAAE,CAAC,CAAC,CAAC;QAE9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,sQAAwB,EAAE,IAAI,2QAAgB,KAAC,gPAAe,EAAC,MAAM,EAAE,YAAY,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1I,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;QAEzD,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAED;;OAEG,CACI,QAAQ,CAAC,OAAyB,EAAA;QACrC,MAAM,KAAK,OAAG,gPAAe,EAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QACjE,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzC,IAAI,QAAQ,OAAG,gPAAe,EAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QAChE,IAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,IAAI,IAAI,CAAE,CAAC;YAC1C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,2QAAgB,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YACtD,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC5C,QAAQ,OAAG,gPAAe,EAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,GAAG,qBAAqB,CAAC,iBAAiB,GAAG,IAAI,EAAE,CAAC;gBACrD,MAAM;YACV,CAAC;QACL,CAAC;QAED,IAAI,IAAI,CAAC,MAAM,EAAE,0BAA0B,EAAE,CAAC;YAC1C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,2QAAgB,KAAC,gPAAe,EAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;QAC7G,CAAC;QAED,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,wBAAA,+BAAA,GAAmC;IACvC,CAAC;;AA1ED;;;GAGG,CACW,sBAAA,iBAAiB,GAAG,IAAI,CAAC;IAwE3C,6OAAa,EAAA,wBAAA,+BAAA,KAA8B,qBAAqB,CAAC,CAAC"}},
    {"offset": {"line": 3366, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphThrottleBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphThrottleBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n/**\r\n * A block that throttles the execution of its output flow.\r\n */\r\nexport class FlowGraphThrottleBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Input connection: The duration of the throttle, in seconds.\r\n     */\r\n    public readonly duration: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Input connection: Resets the throttle.\r\n     */\r\n    public readonly reset: FlowGraphSignalConnection;\r\n    /**\r\n     * Output connection: The time remaining before the throttle is triggering again, in seconds.\r\n     */\r\n    public readonly lastRemainingTime: FlowGraphDataConnection<number>;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n        this.duration = this.registerDataInput(\"duration\", RichTypeNumber);\r\n        this.lastRemainingTime = this.registerDataOutput(\"lastRemainingTime\", RichTypeNumber, NaN);\r\n    }\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        if (callingSignal === this.reset) {\r\n            this.lastRemainingTime.setValue(NaN, context);\r\n            context._setExecutionVariable(this, \"lastRemainingTime\", NaN);\r\n            context._setExecutionVariable(this, \"timestamp\", 0);\r\n            return;\r\n        }\r\n        // in seconds\r\n        const durationValue = this.duration.getValue(context);\r\n        if (durationValue <= 0 || isNaN(durationValue) || !isFinite(durationValue)) {\r\n            return this._reportError(context, \"Invalid duration in Throttle block\");\r\n        }\r\n        const lastRemainingTime = context._getExecutionVariable(this, \"lastRemainingTime\", NaN);\r\n        // Using Date.now() to get ms since epoch. not using performance.now() because its precision is not needed here\r\n        const currentTime = Date.now();\r\n        if (isNaN(lastRemainingTime)) {\r\n            this.lastRemainingTime.setValue(0, context);\r\n            context._setExecutionVariable(this, \"lastRemainingTime\", 0);\r\n            context._setExecutionVariable(this, \"timestamp\", currentTime);\r\n            // according to glTF interactivity specs\r\n            return this.out._activateSignal(context);\r\n        } else {\r\n            const elapsedTime = currentTime - context._getExecutionVariable(this, \"timestamp\", 0);\r\n            // duration is in seconds, so we need to multiply by 1000\r\n            const durationInMs = durationValue * 1000;\r\n            if (durationInMs <= elapsedTime) {\r\n                this.lastRemainingTime.setValue(0, context);\r\n                context._setExecutionVariable(this, \"lastRemainingTime\", 0);\r\n                context._setExecutionVariable(this, \"timestamp\", currentTime);\r\n                return this.out._activateSignal(context);\r\n            } else {\r\n                const remainingTime = durationInMs - elapsedTime;\r\n                // output is in seconds\r\n                this.lastRemainingTime.setValue(remainingTime / 1000, context);\r\n                context._setExecutionVariable(this, \"lastRemainingTime\", remainingTime);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Throttle;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Throttle, FlowGraphThrottleBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3432, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphMultiGateBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphMultiGateBlock.ts"],"sourcesContent":["import { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlock } from \"../../../flowGraphExecutionBlock\";\r\nimport { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\r\n/**\r\n * Configuration for the multi gate block.\r\n */\r\nexport interface IFlowGraphMultiGateBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The number of output signals. Required.\r\n     */\r\n    outputSignalCount: number;\r\n    /**\r\n     * If the block should pick a random output flow from the ones that haven't been executed. Default to false.\r\n     */\r\n    isRandom?: boolean;\r\n    /**\r\n     * If the block should loop back to the first output flow after executing the last one. Default to false.\r\n     */\r\n    isLoop?: boolean;\r\n}\r\n\r\n/**\r\n * A block that has an input flow and routes it to any potential output flows, randomly or sequentially\r\n */\r\nexport class FlowGraphMultiGateBlock extends FlowGraphExecutionBlock {\r\n    /**\r\n     * Input connection: Resets the gate.\r\n     */\r\n    public readonly reset: FlowGraphSignalConnection;\r\n    /**\r\n     * Output connections: The output signals.\r\n     */\r\n    public readonly outputSignals: FlowGraphSignalConnection[] = [];\r\n    /**\r\n     * Output connection: The index of the current output flow.\r\n     */\r\n    public readonly lastIndex: FlowGraphDataConnection<FlowGraphInteger>;\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphMultiGateBlockConfiguration\r\n    ) {\r\n        super(config);\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n        this.lastIndex = this.registerDataOutput(\"lastIndex\", RichTypeFlowGraphInteger, new FlowGraphInteger(-1));\r\n        this.setNumberOfOutputSignals(config?.outputSignalCount);\r\n    }\r\n\r\n    private _getNextIndex(indexesUsed: boolean[]): number {\r\n        // find the next index available from the indexes used array\r\n\r\n        // if all outputs were used, reset the indexes used array if we are in a loop multi gate\r\n        if (!indexesUsed.includes(false)) {\r\n            if (this.config.isLoop) {\r\n                indexesUsed.fill(false);\r\n            }\r\n        }\r\n        if (!this.config.isRandom) {\r\n            return indexesUsed.indexOf(false);\r\n        } else {\r\n            const unusedIndexes = indexesUsed.map((used, index) => (used ? -1 : index)).filter((index) => index !== -1);\r\n            return unusedIndexes.length ? unusedIndexes[Math.floor(Math.random() * unusedIndexes.length)] : -1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the block's output signals. Would usually be passed from the constructor but can be changed afterwards.\r\n     * @param numberOutputSignals the number of output flows\r\n     */\r\n    public setNumberOfOutputSignals(numberOutputSignals: number = 1) {\r\n        // check the size of the outFlow Array, see if it is not larger than needed\r\n        while (this.outputSignals.length > numberOutputSignals) {\r\n            const flow = this.outputSignals.pop();\r\n            if (flow) {\r\n                flow.disconnectFromAll();\r\n                this._unregisterSignalOutput(flow.name);\r\n            }\r\n        }\r\n\r\n        while (this.outputSignals.length < numberOutputSignals) {\r\n            this.outputSignals.push(this._registerSignalOutput(`out_${this.outputSignals.length}`));\r\n        }\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        // set the state(s) of the block\r\n        if (!context._hasExecutionVariable(this, \"indexesUsed\")) {\r\n            context._setExecutionVariable(\r\n                this,\r\n                \"indexesUsed\",\r\n                this.outputSignals.map(() => false)\r\n            );\r\n        }\r\n\r\n        if (callingSignal === this.reset) {\r\n            context._deleteExecutionVariable(this, \"indexesUsed\");\r\n            this.lastIndex.setValue(new FlowGraphInteger(-1), context);\r\n            return;\r\n        }\r\n        const indexesUsed = context._getExecutionVariable(this, \"indexesUsed\", [] as boolean[]);\r\n        const nextIndex = this._getNextIndex(indexesUsed);\r\n        if (nextIndex > -1) {\r\n            this.lastIndex.setValue(new FlowGraphInteger(nextIndex), context);\r\n            indexesUsed[nextIndex] = true;\r\n            context._setExecutionVariable(this, \"indexesUsed\", indexesUsed);\r\n            this.outputSignals[nextIndex]._activateSignal(context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.MultiGate;\r\n    }\r\n\r\n    /**\r\n     * Serializes the block.\r\n     * @param serializationObject the object to serialize to.\r\n     */\r\n    public override serialize(serializationObject?: any): void {\r\n        super.serialize(serializationObject);\r\n        serializationObject.config.outputSignalCount = this.config.outputSignalCount;\r\n        serializationObject.config.isRandom = this.config.isRandom;\r\n        serializationObject.config.loop = this.config.isLoop;\r\n        serializationObject.config.startIndex = this.config.startIndex;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.MultiGate, FlowGraphMultiGateBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3528, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSwitchBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSwitchBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlock } from \"../../../flowGraphExecutionBlock\";\r\nimport { RichTypeAny } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport type { FlowGraphNumber } from \"core/FlowGraph/utils\";\r\nimport { getNumericValue, isNumeric } from \"core/FlowGraph/utils\";\r\n/**\r\n * Configuration for a switch block.\r\n */\r\nexport interface IFlowGraphSwitchBlockConfiguration<T> extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The possible values for the selection.\r\n     */\r\n    cases: T[];\r\n}\r\n\r\n/**\r\n * A block that executes a branch based on a selection.\r\n */\r\nexport class FlowGraphSwitchBlock<T extends FlowGraphNumber> extends FlowGraphExecutionBlock {\r\n    /**\r\n     * Input connection: The value of the selection.\r\n     */\r\n    public readonly case: FlowGraphDataConnection<T>;\r\n\r\n    /**\r\n     * The default case to execute if no other case is found.\r\n     */\r\n    public readonly default: FlowGraphSignalConnection = this._registerSignalOutput(\"default\");\r\n\r\n    private _caseToOutputFlow: Map<T, FlowGraphSignalConnection> = new Map();\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphSwitchBlockConfiguration<T>\r\n    ) {\r\n        super(config);\r\n\r\n        this.case = this.registerDataInput(\"case\", RichTypeAny);\r\n\r\n        // iterate the set not using for of\r\n        const array = this.config.cases || [];\r\n        for (const caseValue of array) {\r\n            this._caseToOutputFlow.set(caseValue, this._registerSignalOutput(`out_${caseValue}`));\r\n        }\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\r\n        const selectionValue = this.case.getValue(context);\r\n        let outputFlow: FlowGraphSignalConnection | undefined;\r\n        if (isNumeric(selectionValue)) {\r\n            outputFlow = this._getOutputFlowForCase(getNumericValue(selectionValue) as T);\r\n        } else {\r\n            outputFlow = this._getOutputFlowForCase(selectionValue);\r\n        }\r\n\r\n        if (outputFlow) {\r\n            outputFlow._activateSignal(context);\r\n        } else {\r\n            this.default._activateSignal(context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds a new case to the switch block.\r\n     * @param newCase the new case to add.\r\n     */\r\n    public addCase(newCase: T): void {\r\n        if (this.config.cases.includes(newCase)) {\r\n            return;\r\n        }\r\n        this.config.cases.push(newCase);\r\n        this._caseToOutputFlow.set(newCase, this._registerSignalOutput(`out_${newCase}`));\r\n    }\r\n\r\n    /**\r\n     * Removes a case from the switch block.\r\n     * @param caseToRemove the case to remove.\r\n     */\r\n    public removeCase(caseToRemove: T): void {\r\n        if (!this.config.cases.includes(caseToRemove)) {\r\n            return;\r\n        }\r\n        const index = this.config.cases.indexOf(caseToRemove);\r\n        this.config.cases.splice(index, 1);\r\n        this._caseToOutputFlow.delete(caseToRemove);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _getOutputFlowForCase(caseValue: T) {\r\n        return this._caseToOutputFlow.get(caseValue);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Switch;\r\n    }\r\n\r\n    /**\r\n     * Serialize the block to a JSON representation.\r\n     * @param serializationObject the object to serialize to.\r\n     */\r\n    public override serialize(serializationObject?: any): void {\r\n        super.serialize(serializationObject);\r\n        serializationObject.cases = this.config.cases;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Switch, FlowGraphSwitchBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3615, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWaitAllBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWaitAllBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport { RichTypeFlowGraphInteger } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\r\n/**\r\n * Configuration for the wait all block.\r\n */\r\nexport interface IFlowGraphWaitAllBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The number of input signals. There will always be at least one input flow.\r\n     * glTF interactivity has a max of 64 input flows.\r\n     */\r\n    inputSignalCount: number;\r\n}\r\n\r\n/**\r\n * A block that waits for all input flows to be activated before activating its output flow.\r\n */\r\nexport class FlowGraphWaitAllBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Input connection: Resets the block.\r\n     */\r\n    public reset: FlowGraphSignalConnection;\r\n\r\n    /**\r\n     * Output connection:When the last missing flow is activated\r\n     */\r\n    public completed: FlowGraphSignalConnection;\r\n\r\n    /**\r\n     * Output connection: The number of remaining inputs to be activated.\r\n     */\r\n    public remainingInputs: FlowGraphDataConnection<FlowGraphInteger>;\r\n    /**\r\n     * An array of input signals\r\n     */\r\n    public readonly inFlows: FlowGraphSignalConnection[] = [];\r\n    private _cachedActivationState: boolean[] = [];\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphWaitAllBlockConfiguration\r\n    ) {\r\n        super(config);\r\n\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n        this.completed = this._registerSignalOutput(\"completed\");\r\n        this.remainingInputs = this.registerDataOutput(\"remainingInputs\", RichTypeFlowGraphInteger, new FlowGraphInteger(this.config.inputSignalCount || 0));\r\n        // The first inFlow is the default input signal all execution blocks have\r\n        for (let i = 0; i < this.config.inputSignalCount; i++) {\r\n            this.inFlows.push(this._registerSignalInput(`in_${i}`));\r\n        }\r\n        // no need for in\r\n        this._unregisterSignalInput(\"in\");\r\n    }\r\n\r\n    private _getCurrentActivationState(context: FlowGraphContext) {\r\n        const activationState = this._cachedActivationState;\r\n        activationState.length = 0;\r\n        if (!context._hasExecutionVariable(this, \"activationState\")) {\r\n            for (let i = 0; i < this.config.inputSignalCount; i++) {\r\n                activationState.push(false);\r\n            }\r\n        } else {\r\n            const contextActivationState = context._getExecutionVariable(this, \"activationState\", [] as boolean[]);\r\n            for (let i = 0; i < contextActivationState.length; i++) {\r\n                activationState.push(contextActivationState[i]);\r\n            }\r\n        }\r\n        return activationState;\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        const activationState = this._getCurrentActivationState(context);\r\n        if (callingSignal === this.reset) {\r\n            for (let i = 0; i < this.config.inputSignalCount; i++) {\r\n                activationState[i] = false;\r\n            }\r\n        } else {\r\n            const index = this.inFlows.indexOf(callingSignal);\r\n            if (index >= 0) {\r\n                activationState[index] = true;\r\n            }\r\n        }\r\n        this.remainingInputs.setValue(new FlowGraphInteger(activationState.filter((v) => !v).length), context);\r\n\r\n        context._setExecutionVariable(this, \"activationState\", activationState.slice());\r\n\r\n        if (!activationState.includes(false)) {\r\n            this.completed._activateSignal(context);\r\n            for (let i = 0; i < this.config.inputSignalCount; i++) {\r\n                activationState[i] = false;\r\n            }\r\n        } else {\r\n            callingSignal !== this.reset && this.out._activateSignal(context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.WaitAll;\r\n    }\r\n\r\n    /**\r\n     * Serializes this block into a object\r\n     * @param serializationObject the object to serialize to\r\n     */\r\n    public override serialize(serializationObject?: any): void {\r\n        super.serialize(serializationObject);\r\n        serializationObject.config.inputFlows = this.config.inputSignalCount;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.WaitAll, FlowGraphWaitAllBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3703, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCounterBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCounterBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n/**\r\n * A block that counts the number of times it has been called.\r\n * Afterwards it activates its out signal.\r\n */\r\nexport class FlowGraphCallCounterBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Output connection: The number of times the block has been called.\r\n     */\r\n    public readonly count: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Input connection: Resets the counter.\r\n     */\r\n    public readonly reset: FlowGraphSignalConnection;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.count = this.registerDataOutput(\"count\", RichTypeNumber);\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        if (callingSignal === this.reset) {\r\n            context._setExecutionVariable(this, \"count\", 0);\r\n            this.count.setValue(0, context);\r\n            return;\r\n        }\r\n        const countValue = context._getExecutionVariable(this, \"count\", 0) + 1;\r\n\r\n        context._setExecutionVariable(this, \"count\", countValue);\r\n        this.count.setValue(countValue, context);\r\n        this.out._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.CallCounter;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.CallCounter, FlowGraphCallCounterBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAE7D,OAAO,EAAE,oCAAoC,EAAE,MAAM,+CAA+C,CAAC;AACrG,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;;;;AAOrD,MAAO,yBAA0B,SAAQ,oSAAoC;IAU/E,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,4PAAc,CAAC,CAAC;QAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;IACpD,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAE,aAAwC,EAAA;QAC/E,IAAI,aAAa,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC;YAC/B,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YAChC,OAAO;QACX,CAAC;QACD,MAAM,UAAU,GAAG,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC;QAEvE,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;QACzD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QACzC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,4BAAA,mCAAA,GAAuC;IAC3C,CAAC;CACJ;IACD,6OAAa,EAAA,4BAAA,mCAAA,KAAkC,yBAAyB,CAAC,CAAC"}},
    {"offset": {"line": 3741, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWhileLoopBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWhileLoopBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { RichTypeBoolean } from \"../../../flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n/**\r\n * Configuration for the while loop block.\r\n */\r\nexport interface IFlowGraphWhileLoopBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * If true, the loop body will be executed at least once.\r\n     */\r\n    doWhile?: boolean;\r\n}\r\n\r\n/**\r\n * A block that executes a branch while a condition is true.\r\n */\r\nexport class FlowGraphWhileLoopBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * The maximum number of iterations allowed in a loop.\r\n     * This can be set to avoid an infinite loop.\r\n     */\r\n    public static MaxLoopCount = 1000;\r\n\r\n    /**\r\n     * Input connection: The condition to evaluate.\r\n     */\r\n    public readonly condition: FlowGraphDataConnection<boolean>;\r\n    /**\r\n     * Output connection: The loop body.\r\n     */\r\n    public readonly executionFlow: FlowGraphSignalConnection;\r\n\r\n    /**\r\n     * Output connection: The completed signal. Triggered when condition is false.\r\n     * No out signal is available.\r\n     */\r\n    public readonly completed: FlowGraphSignalConnection;\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config?: IFlowGraphWhileLoopBlockConfiguration\r\n    ) {\r\n        super(config);\r\n\r\n        this.condition = this.registerDataInput(\"condition\", RichTypeBoolean);\r\n        this.executionFlow = this._registerSignalOutput(\"executionFlow\");\r\n        this.completed = this._registerSignalOutput(\"completed\");\r\n        // unregister \"out\" signal\r\n        this._unregisterSignalOutput(\"out\");\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\r\n        let conditionValue = this.condition.getValue(context);\r\n        if (this.config?.doWhile && !conditionValue) {\r\n            this.executionFlow._activateSignal(context);\r\n        }\r\n        let i = 0;\r\n        while (conditionValue) {\r\n            this.executionFlow._activateSignal(context);\r\n            ++i;\r\n            if (i >= FlowGraphWhileLoopBlock.MaxLoopCount) {\r\n                Logger.Warn(\"FlowGraphWhileLoopBlock: Max loop count reached. Breaking.\");\r\n                break;\r\n            }\r\n            conditionValue = this.condition.getValue(context);\r\n        }\r\n        // out is not triggered - completed is triggered\r\n        this.completed._activateSignal(context);\r\n    }\r\n\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.WhileLoop;\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.WhileLoop, FlowGraphWhileLoopBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,eAAe,EAAE,MAAM,6BAA6B,CAAC;AAG9D,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAC3D,OAAO,EAAE,oCAAoC,EAAE,MAAM,+CAA+C,CAAC;AACrG,OAAO,EAAE,MAAM,EAAE,mCAAyB;;;;;AAepC,MAAO,uBAAwB,SAAQ,oSAAoC;IAsB7E,YACI;;OAEG,CACa,MAA8C,CAAA;QAE9D,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAAwC;QAI9D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,6PAAe,CAAC,CAAC;QACtE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;QACzD,0BAA0B;QAC1B,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IACxC,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAE,cAAyC,EAAA;QAChF,IAAI,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,IAAI,CAAC,MAAM,EAAE,OAAO,IAAI,CAAC,cAAc,EAAE,CAAC;YAC1C,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAChD,CAAC;QACD,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,MAAO,cAAc,CAAE,CAAC;YACpB,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAC5C,EAAE,CAAC,CAAC;YACJ,IAAI,CAAC,IAAI,uBAAuB,CAAC,YAAY,EAAE,CAAC;gBAC5C,mOAAM,CAAC,IAAI,CAAC,4DAA4D,CAAC,CAAC;gBAC1E,MAAM;YACV,CAAC;YACD,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACtD,CAAC;QACD,gDAAgD;QAChD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAC5C,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,0BAAA,iCAAA,GAAqC;IACzC,CAAC;;AAzDD;;;GAGG,CACW,wBAAA,YAAY,GAAG,IAAI,CAAC;IAwDtC,6OAAa,EAAA,0BAAA,iCAAA,KAAgC,uBAAuB,CAAC,CAAC"}},
    {"offset": {"line": 3796, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDebounceBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDebounceBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport { RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"core/FlowGraph/flowGraphSignalConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"core/FlowGraph/flowGraphExecutionBlockWithOutSignal\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n\r\n/**\r\n * This block debounces the execution of a input, i.e. ensures that the input is only executed once every X times\r\n */\r\nexport class FlowGraphDebounceBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Input: The number of times the input must be executed before the onDone signal is activated\r\n     */\r\n    public readonly count: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Input: Resets the debounce counter\r\n     */\r\n    public readonly reset: FlowGraphSignalConnection;\r\n    /**\r\n     * Output: The current count of the debounce counter\r\n     */\r\n    public readonly currentCount: FlowGraphDataConnection<number>;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n        this.count = this.registerDataInput(\"count\", RichTypeNumber);\r\n        this.reset = this._registerSignalInput(\"reset\");\r\n        this.currentCount = this.registerDataOutput(\"currentCount\", RichTypeNumber);\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\r\n        if (callingSignal === this.reset) {\r\n            context._setExecutionVariable(this, \"debounceCount\", 0);\r\n            return;\r\n        }\r\n        const count = this.count.getValue(context);\r\n        const currentCount = context._getExecutionVariable(this, \"debounceCount\", 0);\r\n        const newCount = currentCount + 1;\r\n\r\n        this.currentCount.setValue(newCount, context);\r\n        context._setExecutionVariable(this, \"debounceCount\", newCount);\r\n        if (newCount >= count) {\r\n            this.out._activateSignal(context);\r\n            context._setExecutionVariable(this, \"debounceCount\", 0);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Debounce;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Debounce, FlowGraphDebounceBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,cAAc,EAAE,uCAA0C;AAEnE,OAAO,EAAE,oCAAoC,EAAE,yDAA4D;AAC3G,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;;;;AAOrD,MAAO,sBAAuB,SAAQ,oSAAoC;IAc5E,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,4PAAc,CAAC,CAAC;QAC7D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,4PAAc,CAAC,CAAC;IAChF,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAE,aAAwC,EAAA;QAC/E,IAAI,aAAa,KAAK,IAAI,CAAC,KAAK,EAAE,CAAC;YAC/B,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;YACxD,OAAO;QACX,CAAC;QACD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,MAAM,YAAY,GAAG,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;QAC7E,MAAM,QAAQ,GAAG,YAAY,GAAG,CAAC,CAAC;QAElC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC9C,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,QAAQ,CAAC,CAAC;QAC/D,IAAI,QAAQ,IAAI,KAAK,EAAE,CAAC;YACpB,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAClC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,yBAAA,gCAAA,GAAoC;IACxC,CAAC;CACJ;IACD,6OAAa,EAAA,yBAAA,gCAAA,KAA+B,sBAAsB,CAAC,CAAC"}},
    {"offset": {"line": 3839, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphFlipFlopBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphFlipFlopBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlock } from \"core/FlowGraph/flowGraphExecutionBlock\";\r\nimport { RichTypeBoolean } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport type { FlowGraphSignalConnection } from \"core/FlowGraph/flowGraphSignalConnection\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n\r\n/**\r\n * Configuration for the flip flop block.\r\n */\r\nexport interface IFlowGraphFlipFlopBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The starting value of the flip flop switch\r\n     */\r\n    startValue?: boolean;\r\n}\r\n\r\n/**\r\n * This block flip flops between two outputs.\r\n */\r\nexport class FlowGraphFlipFlopBlock extends FlowGraphExecutionBlock {\r\n    /**\r\n     * Output connection: The signal to execute when the variable is on.\r\n     */\r\n    public readonly onOn: FlowGraphSignalConnection;\r\n    /**\r\n     * Output connection: The signal to execute when the variable is off.\r\n     */\r\n    public readonly onOff: FlowGraphSignalConnection;\r\n    /**\r\n     * Output connection: If the variable is on.\r\n     */\r\n    public readonly value: FlowGraphDataConnection<boolean>;\r\n\r\n    constructor(config?: IFlowGraphFlipFlopBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.onOn = this._registerSignalOutput(\"onOn\");\r\n        this.onOff = this._registerSignalOutput(\"onOff\");\r\n        this.value = this.registerDataOutput(\"value\", RichTypeBoolean);\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\r\n        let value = context._getExecutionVariable(this, \"value\", typeof this.config?.startValue === \"boolean\" ? !this.config.startValue : false);\r\n\r\n        value = !value;\r\n        context._setExecutionVariable(this, \"value\", value);\r\n        this.value.setValue(value, context);\r\n        if (value) {\r\n            this.onOn._activateSignal(context);\r\n        } else {\r\n            this.onOff._activateSignal(context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.FlipFlop;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.FlipFlop, FlowGraphFlipFlopBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,uBAAuB,EAAE,4CAA+C;AACjF,OAAO,EAAE,eAAe,EAAE,uCAA0C;AAEpE,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;;;;AAiBrD,MAAO,sBAAuB,SAAQ,0QAAuB;IAc/D,YAAY,MAA6C,CAAA;QACrD,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,6PAAe,CAAC,CAAC;IACnE,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAE,cAAyC,EAAA;QAChF,IAAI,KAAK,GAAG,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAEzI,KAAK,GAAG,CAAC,KAAK,CAAC;QACf,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACpC,IAAI,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC,MAAM,CAAC;YACJ,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;IACL,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,yBAAA,gCAAA,GAAoC;IACxC,CAAC;CACJ;IACD,6OAAa,EAAA,yBAAA,gCAAA,KAA+B,sBAAsB,CAAC,CAAC"}},
    {"offset": {"line": 3878, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSequenceBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSequenceBlock.ts"],"sourcesContent":["import { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport { FlowGraphExecutionBlock } from \"../../../flowGraphExecutionBlock\";\r\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\r\n\r\n/**\r\n * Configuration for the sequence block.\r\n */\r\nexport interface IFlowGraphSequenceBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The number of output signals. Defaults to 1.\r\n     */\r\n    outputSignalCount?: number;\r\n}\r\n\r\n/**\r\n * A block that executes its output flows in sequence.\r\n */\r\nexport class FlowGraphSequenceBlock extends FlowGraphExecutionBlock {\r\n    /**\r\n     * The output flows.\r\n     */\r\n    public executionSignals: FlowGraphSignalConnection[] = [];\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphSequenceBlockConfiguration\r\n    ) {\r\n        super(config);\r\n        this.setNumberOfOutputSignals(this.config.outputSignalCount);\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext) {\r\n        for (let i = 0; i < this.executionSignals.length; i++) {\r\n            this.executionSignals[i]._activateSignal(context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the block's output flows. Would usually be passed from the constructor but can be changed afterwards.\r\n     * @param outputSignalCount the number of output flows\r\n     */\r\n    public setNumberOfOutputSignals(outputSignalCount: number = 1) {\r\n        // check the size of the outFlow Array, see if it is not larger than needed\r\n        while (this.executionSignals.length > outputSignalCount) {\r\n            const flow = this.executionSignals.pop();\r\n            if (flow) {\r\n                flow.disconnectFromAll();\r\n                this._unregisterSignalOutput(flow.name);\r\n            }\r\n        }\r\n\r\n        while (this.executionSignals.length < outputSignalCount) {\r\n            this.executionSignals.push(this._registerSignalOutput(`out_${this.executionSignals.length}`));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Sequence;\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.Sequence, FlowGraphSequenceBlock);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAI3D,OAAO,EAAE,uBAAuB,EAAE,MAAM,kCAAkC,CAAC;;;AAgBrE,MAAO,sBAAuB,SAAQ,0QAAuB;IAM/D,YACI;;OAEG,CACa,MAA4C,CAAA;QAE5D,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAAsC;QAThE;;WAEG,CACI,IAAA,CAAA,gBAAgB,GAAgC,EAAE,CAAC;QAStD,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;IACjE,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAA;QACrC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,CAAE,CAAC;YACpD,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACtD,CAAC;IACL,CAAC;IAED;;;OAGG,CACI,wBAAwB,CAAC,oBAA4B,CAAC,EAAA;QACzD,2EAA2E;QAC3E,MAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,iBAAiB,CAAE,CAAC;YACtD,MAAM,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC;YACzC,IAAI,IAAI,EAAE,CAAC;gBACP,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC;QACL,CAAC;QAED,MAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,iBAAiB,CAAE,CAAC;YACtD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAA,IAAA,EAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAClG,CAAC;IACL,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,yBAAA,gCAAA,GAAoC;IACxC,CAAC;CACJ;IAED,6OAAa,EAAA,yBAAA,gCAAA,KAA+B,sBAAsB,CAAC,CAAC"}},
    {"offset": {"line": 3929, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSetDelayBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSetDelayBlock.ts"],"sourcesContent":["import { FlowGraphAsyncExecutionBlock } from \"../../../flowGraphAsyncExecutionBlock\";\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\nimport { RichTypeFlowGraphInteger, RichTypeNumber } from \"../../../flowGraphRichTypes\";\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\nimport { AdvancedTimer } from \"../../../../Misc/timer\";\nimport { Logger } from \"../../../../Misc/logger\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\n\n/**\n * Block that sets a delay in seconds before activating the output signal.\n */\nexport class FlowGraphSetDelayBlock extends FlowGraphAsyncExecutionBlock {\n    /**\n     * The maximum number of parallel delays that can be set per node.\n     */\n    public static MaxParallelDelayCount = 100;\n    /**\n     * Input signal: If activated the delayed activations set by this block will be canceled.\n     */\n    public readonly cancel: FlowGraphSignalConnection;\n\n    /**\n     * Input connection: The duration of the delay in seconds.\n     */\n    public readonly duration: FlowGraphDataConnection<number>;\n\n    /**\n     * Output connection: The last delay index that was set.\n     */\n    public readonly lastDelayIndex: FlowGraphDataConnection<FlowGraphInteger>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n        this.cancel = this._registerSignalInput(\"cancel\");\n        this.duration = this.registerDataInput(\"duration\", RichTypeNumber);\n        this.lastDelayIndex = this.registerDataOutput(\"lastDelayIndex\", RichTypeFlowGraphInteger, new FlowGraphInteger(-1));\n    }\n\n    public override _preparePendingTasks(context: FlowGraphContext): void {\n        const duration = this.duration.getValue(context);\n        if (duration < 0 || isNaN(duration) || !isFinite(duration)) {\n            return this._reportError(context, \"Invalid duration in SetDelay block\");\n        }\n\n        // active delays are global to the context\n        const activeDelays: number = context._getGlobalContextVariable(\"activeDelays\", 0);\n        if (activeDelays >= FlowGraphSetDelayBlock.MaxParallelDelayCount) {\n            return this._reportError(context, \"Max parallel delays reached\");\n        }\n        // get the last global delay index\n        const lastDelayIndex: number = context._getGlobalContextVariable(\"lastDelayIndex\", -1);\n\n        // these are block-specific and not global\n        const timers = context._getExecutionVariable(this, \"pendingDelays\", [] as AdvancedTimer[]);\n        const scene = context.configuration.scene;\n        const timer: AdvancedTimer = new AdvancedTimer({\n            timeout: duration * 1000, // duration is in seconds\n            contextObservable: scene.onBeforeRenderObservable,\n            onEnded: () => this._onEnded(timer, context),\n        });\n        timer.start();\n        const newIndex = lastDelayIndex + 1;\n        this.lastDelayIndex.setValue(new FlowGraphInteger(newIndex), context);\n        context._setGlobalContextVariable(\"lastDelayIndex\", newIndex);\n\n        timers[newIndex] = timer;\n        context._setExecutionVariable(this, \"pendingDelays\", timers);\n        this._updateGlobalTimers(context);\n    }\n\n    public override _cancelPendingTasks(context: FlowGraphContext): void {\n        const timers = context._getExecutionVariable(this, \"pendingDelays\", [] as AdvancedTimer[]);\n        for (const timer of timers) {\n            timer?.dispose();\n        }\n        context._deleteExecutionVariable(this, \"pendingDelays\");\n        this.lastDelayIndex.setValue(new FlowGraphInteger(-1), context);\n        this._updateGlobalTimers(context);\n    }\n\n    public _execute(context: FlowGraphContext, callingSignal: FlowGraphSignalConnection): void {\n        if (callingSignal === this.cancel) {\n            this._cancelPendingTasks(context);\n            return;\n        } else {\n            this._preparePendingTasks(context);\n            this.out._activateSignal(context);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.SetDelay;\n    }\n\n    private _onEnded(timer: AdvancedTimer, context: FlowGraphContext) {\n        const timers = context._getExecutionVariable(this, \"pendingDelays\", [] as AdvancedTimer[]);\n        const index = timers.indexOf(timer);\n        if (index !== -1) {\n            timers.splice(index, 1);\n        } else {\n            Logger.Warn(\"FlowGraphTimerBlock: Timer ended but was not found in the running timers list\");\n        }\n        context._removePendingBlock(this);\n        this.done._activateSignal(context);\n\n        this._updateGlobalTimers(context);\n    }\n\n    private _updateGlobalTimers(context: FlowGraphContext) {\n        const timers = context._getExecutionVariable(this, \"pendingDelays\", [] as AdvancedTimer[]);\n        const globalTimers = context._getGlobalContextVariable(\"pendingDelays\", [] as AdvancedTimer[]);\n        // there should NEVER be the same index in the global and local timers, unless they are equal\n        for (let i = 0; i < timers.length; i++) {\n            if (!timers[i]) {\n                continue;\n            }\n            const timer = timers[i];\n            if (globalTimers[i] && globalTimers[i] !== timer) {\n                Logger.Warn(\"FlowGraphTimerBlock: Timer ended but was not found in the running timers list\");\n            } else {\n                globalTimers[i] = timer;\n            }\n        }\n        context._setGlobalContextVariable(\"pendingDelays\", globalTimers);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.SetDelay, FlowGraphSetDelayBlock);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4039, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCancelDelayBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/flowGraphCancelDelayBlock.ts"],"sourcesContent":["import { RegisterClass } from \"core/Misc/typeStore\";\nimport type { AdvancedTimer } from \"../../../../Misc/timer\";\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\nimport { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes\";\nimport type { FlowGraphSignalConnection } from \"../../../flowGraphSignalConnection\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport type { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\nimport { getNumericValue } from \"core/FlowGraph/utils\";\n\n/**\n * This block cancels a delay that was previously scheduled.\n */\nexport class FlowGraphCancelDelayBlock extends FlowGraphExecutionBlockWithOutSignal {\n    /**\n     * Input connection: The index value of the scheduled activation to be cancelled.\n     */\n    public readonly delayIndex: FlowGraphDataConnection<FlowGraphInteger>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n        this.delayIndex = this.registerDataInput(\"delayIndex\", RichTypeFlowGraphInteger);\n    }\n\n    public _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\n        const delayIndex = getNumericValue(this.delayIndex.getValue(context));\n        if (delayIndex <= 0 || isNaN(delayIndex) || !isFinite(delayIndex)) {\n            return this._reportError(context, \"Invalid delay index\");\n        }\n        const timers = context._getGlobalContextVariable(\"pendingDelays\", [] as AdvancedTimer[]);\n        const timer = timers[delayIndex];\n        if (timer) {\n            timer.dispose();\n            // not removing it from the array. Disposing it will clear all of its resources\n        }\n        // activate the out output flow\n        this.out._activateSignal(context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CancelDelay;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CancelDelay, FlowGraphCancelDelayBlock);\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,aAAa,EAAE,sCAA4B;AAKpD,OAAO,EAAE,oCAAoC,EAAE,MAAM,+CAA+C,CAAC;AACrG,OAAO,EAAE,wBAAwB,EAAE,MAAM,6BAA6B,CAAC;AAIvE,OAAO,EAAE,eAAe,EAAE,0BAA6B;;;;;AAKjD,MAAO,yBAA0B,SAAQ,oSAAoC;IAM/E,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,sQAAwB,CAAC,CAAC;IACrF,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAE,cAAyC,EAAA;QAChF,MAAM,UAAU,OAAG,gPAAe,EAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QACtE,IAAI,UAAU,IAAI,CAAC,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC;YAChE,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,qBAAqB,CAAC,CAAC;QAC7D,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,yBAAyB,CAAC,eAAe,EAAE,EAAqB,CAAC,CAAC;QACzF,MAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;QACjC,IAAI,KAAK,EAAE,CAAC;YACR,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,+EAA+E;QACnF,CAAC;QACD,+BAA+B;QAC/B,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,4BAAA,mCAAA,GAAuC;IAC3C,CAAC;CACJ;IAED,6OAAa,EAAA,4BAAA,mCAAA,KAAkC,yBAAyB,CAAC,CAAC"}},
    {"offset": {"line": 4079, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/ControlFlow/index.ts"],"sourcesContent":["export * from \"./flowGraphBranchBlock\";\r\nexport * from \"./flowGraphDoNBlock\";\r\nexport * from \"./flowGraphForLoopBlock\";\r\nexport * from \"./flowGraphThrottleBlock\";\r\nexport * from \"./flowGraphMultiGateBlock\";\r\nexport * from \"./flowGraphSwitchBlock\";\r\nexport * from \"./flowGraphWaitAllBlock\";\r\nexport * from \"./flowGraphCounterBlock\";\r\nexport * from \"./flowGraphWhileLoopBlock\";\r\nexport * from \"./flowGraphDebounceBlock\";\r\nexport * from \"./flowGraphFlipFlopBlock\";\r\nexport * from \"./flowGraphSequenceBlock\";\r\nexport * from \"./flowGraphSetDelayBlock\";\r\nexport * from \"./flowGraphCancelDelayBlock\";\r\n"],"names":[],"mappings":";AAAA,cAAc,wBAAwB,CAAC;AACvC,cAAc,qBAAqB,CAAC;AACpC,cAAc,yBAAyB,CAAC;AACxC,cAAc,0BAA0B,CAAC;AACzC,cAAc,2BAA2B,CAAC;AAC1C,cAAc,wBAAwB,CAAC;AACvC,cAAc,yBAAyB,CAAC;AACxC,cAAc,yBAAyB,CAAC;AACxC,cAAc,2BAA2B,CAAC;AAC1C,cAAc,0BAA0B,CAAC;AACzC,cAAc,0BAA0B,CAAC;AACzC,cAAc,0BAA0B,CAAC;AACzC,cAAc,0BAA0B,CAAC;AACzC,cAAc,6BAA6B,CAAC"}},
    {"offset": {"line": 4112, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/flowGraphPlayAnimationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/flowGraphPlayAnimationBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { FlowGraphAsyncExecutionBlock } from \"../../../flowGraphAsyncExecutionBlock\";\r\nimport { RichTypeAny, RichTypeNumber, RichTypeBoolean } from \"../../../flowGraphRichTypes\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { AnimationGroup } from \"core/Animations/animationGroup\";\r\nimport type { Animation } from \"core/Animations/animation\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n\r\n/**\r\n * @experimental\r\n * A block that plays an animation on an animatable object.\r\n */\r\nexport class FlowGraphPlayAnimationBlock extends FlowGraphAsyncExecutionBlock {\r\n    /**\r\n     * Input connection: The speed of the animation.\r\n     */\r\n    public readonly speed: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Input connection: Should the animation loop?\r\n     * Not in glTF specs, but useful for the engine.\r\n     */\r\n    public readonly loop: FlowGraphDataConnection<boolean>;\r\n    /**\r\n     * Input connection: The starting frame of the animation.\r\n     */\r\n    public readonly from: FlowGraphDataConnection<number>;\r\n    /**\r\n     * Input connection: The ending frame of the animation.\r\n     */\r\n    public readonly to: FlowGraphDataConnection<number>;\r\n\r\n    /**\r\n     * Output connection: The current frame of the animation.\r\n     */\r\n    public readonly currentFrame: FlowGraphDataConnection<number>;\r\n\r\n    /**\r\n     * Output connection: The current time of the animation.\r\n     */\r\n    public readonly currentTime: FlowGraphDataConnection<number>;\r\n\r\n    /**\r\n     * Output connection: The animatable that is currently running.\r\n     */\r\n    public readonly currentAnimationGroup: FlowGraphDataConnection<AnimationGroup>;\r\n\r\n    /**\r\n     * Input: Will be initialized if no animation group was provided in the configuration.\r\n     */\r\n    public readonly animationGroup: FlowGraphDataConnection<AnimationGroup>;\r\n\r\n    /**\r\n     * Input: If provided this animation will be used. Priority will be given to the animation group input.\r\n     */\r\n    public readonly animation: FlowGraphDataConnection<Animation | Animation[]>;\r\n\r\n    /**\r\n     * Input connection: The target object that will be animated. If animation group is provided this input will be ignored.\r\n     */\r\n    public readonly object: FlowGraphDataConnection<any>;\r\n\r\n    public constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(config, [\"animationLoop\", \"animationEnd\", \"animationGroupLoop\"]);\r\n\r\n        this.speed = this.registerDataInput(\"speed\", RichTypeNumber);\r\n        this.loop = this.registerDataInput(\"loop\", RichTypeBoolean);\r\n        this.from = this.registerDataInput(\"from\", RichTypeNumber, 0);\r\n        this.to = this.registerDataInput(\"to\", RichTypeNumber);\r\n\r\n        this.currentFrame = this.registerDataOutput(\"currentFrame\", RichTypeNumber);\r\n        this.currentTime = this.registerDataOutput(\"currentTime\", RichTypeNumber);\r\n\r\n        this.currentAnimationGroup = this.registerDataOutput(\"currentAnimationGroup\", RichTypeAny);\r\n        this.animationGroup = this.registerDataInput(\"animationGroup\", RichTypeAny, config?.animationGroup);\r\n        this.animation = this.registerDataInput(\"animation\", RichTypeAny);\r\n        this.object = this.registerDataInput(\"object\", RichTypeAny);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * @param context\r\n     */\r\n    public override _preparePendingTasks(context: FlowGraphContext): void {\r\n        const ag = this.animationGroup.getValue(context);\r\n        const animation = this.animation.getValue(context);\r\n        if (!ag && !animation) {\r\n            return this._reportError(context, \"No animation or animation group provided\");\r\n        } else {\r\n            // if an animation group was already created, dispose it and create a new one\r\n            const currentAnimationGroup = this.currentAnimationGroup.getValue(context);\r\n            if (currentAnimationGroup && currentAnimationGroup !== ag) {\r\n                currentAnimationGroup.dispose();\r\n            }\r\n            let animationGroupToUse = ag;\r\n            // check which animation to use. If no animationGroup was defined and an animation was provided, use the animation\r\n            if (animation && !animationGroupToUse) {\r\n                const target = this.object.getValue(context);\r\n                if (!target) {\r\n                    return this._reportError(context, \"No target object provided\");\r\n                }\r\n                const animationsArray = Array.isArray(animation) ? animation : [animation];\r\n                const name = animationsArray[0].name;\r\n                animationGroupToUse = new AnimationGroup(\"flowGraphAnimationGroup-\" + name + \"-\" + target.name, context.configuration.scene);\r\n                let isInterpolation = false;\r\n                const interpolationAnimations = context._getGlobalContextVariable(\"interpolationAnimations\", []) as number[];\r\n                for (const anim of animationsArray) {\r\n                    animationGroupToUse.addTargetedAnimation(anim, target);\r\n                    if (interpolationAnimations.indexOf(anim.uniqueId) !== -1) {\r\n                        isInterpolation = true;\r\n                    }\r\n                }\r\n\r\n                if (isInterpolation) {\r\n                    this._checkInterpolationDuplications(context, animationsArray, target);\r\n                }\r\n            }\r\n            // not accepting 0\r\n            const speed = this.speed.getValue(context) || 1;\r\n            const from = this.from.getValue(context) ?? 0;\r\n            // not accepting 0\r\n            const to = this.to.getValue(context) || animationGroupToUse.to;\r\n            const loop = !isFinite(to) || this.loop.getValue(context);\r\n            this.currentAnimationGroup.setValue(animationGroupToUse, context);\r\n\r\n            const currentlyRunningAnimationGroups = context._getGlobalContextVariable(\"currentlyRunningAnimationGroups\", []) as number[];\r\n            // check if it already running\r\n            if (currentlyRunningAnimationGroups.indexOf(animationGroupToUse.uniqueId) !== -1) {\r\n                animationGroupToUse.stop();\r\n            }\r\n            try {\r\n                animationGroupToUse.start(loop, speed, from, to);\r\n                animationGroupToUse.onAnimationGroupEndObservable.add(() => this._onAnimationGroupEnd(context));\r\n                animationGroupToUse.onAnimationEndObservable.add(() => this._eventsSignalOutputs[\"animationEnd\"]._activateSignal(context));\r\n                animationGroupToUse.onAnimationLoopObservable.add(() => this._eventsSignalOutputs[\"animationLoop\"]._activateSignal(context));\r\n                animationGroupToUse.onAnimationGroupLoopObservable.add(() => this._eventsSignalOutputs[\"animationGroupLoop\"]._activateSignal(context));\r\n                currentlyRunningAnimationGroups.push(animationGroupToUse.uniqueId);\r\n                context._setGlobalContextVariable(\"currentlyRunningAnimationGroups\", currentlyRunningAnimationGroups);\r\n            } catch (e) {\r\n                this._reportError(context, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    protected override _reportError(context: FlowGraphContext, error: string | Error): void {\r\n        super._reportError(context, error);\r\n        this.currentFrame.setValue(-1, context);\r\n        this.currentTime.setValue(-1, context);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _executeOnTick(_context: FlowGraphContext): void {\r\n        const ag = this.currentAnimationGroup.getValue(_context);\r\n        if (ag) {\r\n            this.currentFrame.setValue(ag.getCurrentFrame(), _context);\r\n            this.currentTime.setValue(ag.animatables[0]?.elapsedTime ?? 0, _context);\r\n        }\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext): void {\r\n        this._startPendingTasks(context);\r\n    }\r\n\r\n    private _onAnimationGroupEnd(context: FlowGraphContext) {\r\n        this._removeFromCurrentlyRunning(context, this.currentAnimationGroup.getValue(context));\r\n        this._resetAfterCanceled(context);\r\n        this.done._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * The idea behind this function is to check every running animation group and check if the targeted animations it uses are interpolation animations.\r\n     * If they are, we want to see that they don't collide with the current interpolation animations that are starting to play.\r\n     * If they do, we want to stop the already-running animation group.\r\n     * @internal\r\n     */\r\n    private _checkInterpolationDuplications(context: FlowGraphContext, animation: Animation[], target: any) {\r\n        const currentlyRunningAnimationGroups = context._getGlobalContextVariable(\"currentlyRunningAnimationGroups\", []) as number[];\r\n        for (const uniqueId of currentlyRunningAnimationGroups) {\r\n            const ag = context.assetsContext.animationGroups.find((ag) => ag.uniqueId === uniqueId);\r\n            if (ag) {\r\n                for (const anim of ag.targetedAnimations) {\r\n                    for (const animToCheck of animation) {\r\n                        if (anim.animation.targetProperty === animToCheck.targetProperty && anim.target === target) {\r\n                            this._stopAnimationGroup(context, ag);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private _stopAnimationGroup(context: FlowGraphContext, animationGroup: AnimationGroup) {\r\n        // stop, while skipping the on AnimationEndObservable to avoid the \"done\" signal\r\n        animationGroup.stop(true);\r\n        animationGroup.dispose();\r\n        this._removeFromCurrentlyRunning(context, animationGroup);\r\n    }\r\n\r\n    private _removeFromCurrentlyRunning(context: FlowGraphContext, animationGroup: AnimationGroup) {\r\n        const currentlyRunningAnimationGroups = context._getGlobalContextVariable(\"currentlyRunningAnimationGroups\", []) as number[];\r\n        const idx = currentlyRunningAnimationGroups.indexOf(animationGroup.uniqueId);\r\n        if (idx !== -1) {\r\n            currentlyRunningAnimationGroups.splice(idx, 1);\r\n            context._setGlobalContextVariable(\"currentlyRunningAnimationGroups\", currentlyRunningAnimationGroups);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * Stop any currently running animations.\r\n     */\r\n    public override _cancelPendingTasks(context: FlowGraphContext): void {\r\n        const ag = this.currentAnimationGroup.getValue(context);\r\n        if (ag) {\r\n            this._stopAnimationGroup(context, ag);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.PlayAnimation;\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.PlayAnimation, FlowGraphPlayAnimationBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4284, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/flowGraphStopAnimationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/flowGraphStopAnimationBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { RichTypeAny, RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { AnimationGroup } from \"core/Animations/animationGroup\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport { FlowGraphAsyncExecutionBlock } from \"core/FlowGraph/flowGraphAsyncExecutionBlock\";\r\n/**\r\n * @experimental\r\n * Block that stops a running animation\r\n */\r\nexport class FlowGraphStopAnimationBlock extends FlowGraphAsyncExecutionBlock {\r\n    /**\r\n     * Input connection: The animation to stop.\r\n     */\r\n    public readonly animationGroup: FlowGraphDataConnection<AnimationGroup>;\r\n\r\n    /**\r\n     * Input connection - if defined (positive integer) the animation will stop at this frame.\r\n     */\r\n    public readonly stopAtFrame: FlowGraphDataConnection<number>;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n        this.animationGroup = this.registerDataInput(\"animationGroup\", RichTypeAny);\r\n        this.stopAtFrame = this.registerDataInput(\"stopAtFrame\", RichTypeNumber, -1);\r\n    }\r\n\r\n    public override _preparePendingTasks(context: FlowGraphContext): void {\r\n        const animationToStopValue = this.animationGroup.getValue(context);\r\n        const stopAtFrame = this.stopAtFrame.getValue(context) ?? -1;\r\n        // get the context variable\r\n        const pendingStopAnimations = context._getGlobalContextVariable(\r\n            \"pendingStopAnimations\",\r\n            [] as {\r\n                uniqueId: number;\r\n                stopAtFrame: number;\r\n            }[]\r\n        );\r\n        // add the animation to the list\r\n        pendingStopAnimations.push({ uniqueId: animationToStopValue.uniqueId, stopAtFrame });\r\n        // set the global context variable\r\n        context._setGlobalContextVariable(\"pendingStopAnimations\", pendingStopAnimations);\r\n    }\r\n    public override _cancelPendingTasks(context: FlowGraphContext): void {\r\n        // remove the animation from the list\r\n        const animationToStopValue = this.animationGroup.getValue(context);\r\n        const pendingStopAnimations = context._getGlobalContextVariable(\r\n            \"pendingStopAnimations\",\r\n            [] as {\r\n                uniqueId: number;\r\n                stopAtFrame: number;\r\n            }[]\r\n        );\r\n        for (let i = 0; i < pendingStopAnimations.length; i++) {\r\n            if (pendingStopAnimations[i].uniqueId === animationToStopValue.uniqueId) {\r\n                pendingStopAnimations.splice(i, 1);\r\n                // set the global context variable\r\n                context._setGlobalContextVariable(\"pendingStopAnimations\", pendingStopAnimations);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext): void {\r\n        const animationToStopValue = this.animationGroup.getValue(context);\r\n        const stopTime = this.stopAtFrame.getValue(context) ?? -1;\r\n        // check the values\r\n        if (!animationToStopValue) {\r\n            Logger.Warn(\"No animation group provided to stop.\");\r\n            return this._reportError(context, \"No animation group provided to stop.\");\r\n        }\r\n        if (isNaN(stopTime)) {\r\n            return this._reportError(context, \"Invalid stop time.\");\r\n        }\r\n        if (stopTime > 0) {\r\n            this._startPendingTasks(context);\r\n        } else {\r\n            this._stopAnimation(animationToStopValue, context);\r\n        }\r\n        // note that out will not be triggered in case of an error\r\n        this.out._activateSignal(context);\r\n    }\r\n\r\n    public override _executeOnTick(context: FlowGraphContext): void {\r\n        const animationToStopValue = this.animationGroup.getValue(context);\r\n        // check each frame if any animation should be stopped\r\n        const pendingStopAnimations = context._getGlobalContextVariable(\"pendingStopAnimations\", [] as { uniqueId: number; stopAtFrame: number }[]);\r\n        for (let i = 0; i < pendingStopAnimations.length; i++) {\r\n            // compare the uniqueId to the animation to stop\r\n            if (pendingStopAnimations[i].uniqueId === animationToStopValue.uniqueId) {\r\n                // check if the current frame is AFTER the stopAtFrame\r\n                if (animationToStopValue.getCurrentFrame() >= pendingStopAnimations[i].stopAtFrame) {\r\n                    // stop the animation\r\n                    this._stopAnimation(animationToStopValue, context);\r\n                    // remove the animation from the list\r\n                    pendingStopAnimations.splice(i, 1);\r\n                    // set the global context variable\r\n                    context._setGlobalContextVariable(\"pendingStopAnimations\", pendingStopAnimations);\r\n                    this.done._activateSignal(context);\r\n                    context._removePendingBlock(this);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.StopAnimation;\r\n    }\r\n\r\n    private _stopAnimation(animationGroup: AnimationGroup, context: FlowGraphContext): void {\r\n        const currentlyRunning = context._getGlobalContextVariable(\"currentlyRunningAnimationGroups\", []) as number[];\r\n        const index = currentlyRunning.indexOf(animationGroup.uniqueId);\r\n        if (index !== -1) {\r\n            animationGroup.stop();\r\n            currentlyRunning.splice(index, 1);\r\n            // update the global context variable\r\n            context._setGlobalContextVariable(\"currentlyRunningAnimationGroups\", currentlyRunning);\r\n        } else {\r\n            // Logger.Warn(\"Trying to stop an animation that is not running.\");\r\n            // no-op for now. Probably no need to log anything here.\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.StopAnimation, FlowGraphStopAnimationBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4393, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/flowGraphPauseAnimationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/flowGraphPauseAnimationBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal\";\r\nimport { RichTypeAny } from \"../../../flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { AnimationGroup } from \"core/Animations/animationGroup\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\n/**\r\n * @experimental\r\n * Block that pauses a running animation\r\n */\r\nexport class FlowGraphPauseAnimationBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    /**\r\n     * Input connection: The animation to pause.\r\n     */\r\n    public readonly animationToPause: FlowGraphDataConnection<AnimationGroup>;\r\n\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n        this.animationToPause = this.registerDataInput(\"animationToPause\", RichTypeAny);\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext): void {\r\n        const animationToPauseValue = this.animationToPause.getValue(context);\r\n        animationToPauseValue.pause();\r\n        this.out._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.PauseAnimation;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.PauseAnimation, FlowGraphPauseAnimationBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,oCAAoC,EAAE,MAAM,+CAA+C,CAAC;AACrG,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AAE1D,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;;;;AAOrD,MAAO,4BAA6B,SAAQ,oSAAoC;IAMlF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,yPAAW,CAAC,CAAC;IACpF,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAA;QACrC,MAAM,qBAAqB,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACtE,qBAAqB,CAAC,KAAK,EAAE,CAAC;QAC9B,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IACD,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC"}},
    {"offset": {"line": 4424, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/flowGraphInterpolationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/flowGraphInterpolationBlock.ts"],"sourcesContent":["import type { EasingFunction } from \"core/Animations/easing\";\nimport { Constants } from \"core/Engines/constants\";\nimport { FlowGraphBlock, type IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport type { FlowGraphTypes } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { getRichTypeByAnimationType, getRichTypeByFlowGraphType, RichTypeAny, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { Animation } from \"core/Animations/animation\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\n\n/**\n * Configuration for the interpolation block.\n */\nexport interface IFlowGraphInterpolationBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * The number of keyframes to interpolate between.\n     * Will default to 1 if not provided (i.e. from currentValue to a provided value in the time provided)\n     */\n    keyFramesCount?: number;\n\n    /**\n     * The duration of the interpolation.\n     */\n    duration?: number;\n\n    /**\n     * The name of the property that will be interpolated.\n     */\n    propertyName?: string | string[];\n\n    /**\n     * The type of the animation to create.\n     * Default is ANIMATIONTYPE_FLOAT\n     * This cannot be changed after construction, so make sure to pass the right value.\n     */\n    animationType?: number | FlowGraphTypes;\n}\n\n/**\n * This block is responsible for interpolating between two values.\n * The babylon concept used is Animation, and it is the output of this block.\n *\n * Note that values will be parsed when the in connection is triggered. until then changing the value will not trigger a new interpolation.\n *\n * Internally this block uses the Animation class.\n *\n * Note that if the interpolation is already running a signal will be sent to stop the animation group running it.\n */\nexport class FlowGraphInterpolationBlock<T> extends FlowGraphBlock {\n    /**\n     * Input connection: The value to interpolate from.\n     * Optional. If not provided, the current value will be used.\n     * Note that if provided, every time the animation is created this value will be used!\n     */\n    public readonly initialValue: FlowGraphDataConnection<T>;\n\n    /**\n     * Input connection: The value to interpolate to.\n     * Optional. This can also be set using the KeyFrames input!\n     * If provided it will be set to the last keyframe value.\n     */\n    public readonly endValue: FlowGraphDataConnection<T>;\n\n    /**\n     * output connection: The animation that will be created when in is triggered.\n     */\n    public readonly animation: FlowGraphDataConnection<Animation | Animation[]>;\n\n    /**\n     * Input connection: An optional easing function to use for the interpolation.\n     */\n    public readonly easingFunction: FlowGraphDataConnection<EasingFunction>;\n\n    /**\n     * Input connection: The name of the property that will be set\n     */\n    public readonly propertyName: FlowGraphDataConnection<string | string[]>;\n\n    /**\n     * If provided, this function will be used to create the animation object(s).\n     */\n    public readonly customBuildAnimation: FlowGraphDataConnection<\n        (target: any, propertname: any, context: FlowGraphContext) => (keys: any[], fps: number, animationType: number, easingFunction?: EasingFunction) => Animation | Animation[]\n    >;\n\n    /**\n     * The keyframes to interpolate between.\n     * Each keyframe has a duration input and a value input.\n     */\n    public readonly keyFrames: {\n        duration: FlowGraphDataConnection<number>;\n        value: FlowGraphDataConnection<T>;\n    }[] = [];\n\n    constructor(config: IFlowGraphInterpolationBlockConfiguration = {}) {\n        super(config);\n        const type =\n            typeof config?.animationType === \"string\"\n                ? getRichTypeByFlowGraphType(config.animationType)\n                : getRichTypeByAnimationType(config?.animationType ?? Constants.ANIMATIONTYPE_FLOAT);\n\n        const numberOfKeyFrames = config?.keyFramesCount ?? 1;\n        const duration = this.registerDataInput(`duration_0`, RichTypeNumber, 0);\n        const value = this.registerDataInput(`value_0`, type);\n        this.keyFrames.push({ duration, value });\n        for (let i = 1; i < numberOfKeyFrames + 1; i++) {\n            const duration = this.registerDataInput(`duration_${i}`, RichTypeNumber, i === numberOfKeyFrames ? config.duration : undefined);\n            const value = this.registerDataInput(`value_${i}`, type);\n            this.keyFrames.push({ duration, value });\n        }\n        this.initialValue = this.keyFrames[0].value;\n        this.endValue = this.keyFrames[numberOfKeyFrames].value;\n        this.easingFunction = this.registerDataInput(\"easingFunction\", RichTypeAny);\n        this.animation = this.registerDataOutput(\"animation\", RichTypeAny);\n        this.propertyName = this.registerDataInput(\"propertyName\", RichTypeAny, config?.propertyName);\n        this.customBuildAnimation = this.registerDataInput(\"customBuildAnimation\", RichTypeAny);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext): void {\n        const interpolationAnimations = context._getGlobalContextVariable(\"interpolationAnimations\", []) as number[];\n        const propertyName = this.propertyName.getValue(context);\n        const easingFunction = this.easingFunction.getValue(context);\n        const animation = this._createAnimation(context, propertyName, easingFunction);\n        // If an old animation exists, it will be ignored here.\n        // This is because if the animation is running and they both have the same target, the old will be stopped.\n        // This doesn't happen here, it happens in the play animation block.\n        this.animation.setValue(animation, context);\n        // to make sure no 2 interpolations are running on the same target, we will mark the animation in the context\n        if (Array.isArray(animation)) {\n            for (const anim of animation) {\n                interpolationAnimations.push(anim.uniqueId);\n            }\n        } else {\n            interpolationAnimations.push(animation.uniqueId);\n        }\n        context._setGlobalContextVariable(\"interpolationAnimations\", interpolationAnimations);\n    }\n\n    private _createAnimation(context: FlowGraphContext, propertyName: string | string[], easingFunction: EasingFunction): Animation | Animation[] {\n        const type = this.initialValue.richType;\n        const keys: { frame: number; value: T }[] = [];\n        // add initial value\n        const currentValue = this.initialValue.getValue(context) || type.defaultValue;\n        keys.push({ frame: 0, value: currentValue });\n        const numberOfKeyFrames = this.config?.numberOfKeyFrames ?? 1;\n        for (let i = 1; i < numberOfKeyFrames + 1; i++) {\n            const duration = this.keyFrames[i].duration?.getValue(context);\n            let value = this.keyFrames[i].value?.getValue(context);\n            if (i === numberOfKeyFrames - 1) {\n                value = value || type.defaultValue;\n            }\n            if (duration !== undefined && value) {\n                // convert duration to frames, based on 60 fps\n                keys.push({ frame: duration * 60, value });\n            }\n        }\n        const customBuildAnimation = this.customBuildAnimation.getValue(context);\n        if (customBuildAnimation) {\n            return customBuildAnimation(null, null, context)(keys, 60, type.animationType, easingFunction);\n        }\n        if (typeof propertyName === \"string\") {\n            const animation = Animation.CreateAnimation(propertyName, type.animationType, 60, easingFunction);\n            animation.setKeys(keys);\n            return [animation];\n        } else {\n            const animations = propertyName.map((name) => {\n                const animation = Animation.CreateAnimation(name, type.animationType, 60, easingFunction);\n                animation.setKeys(keys);\n                return animation;\n            });\n            return animations;\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ValueInterpolation;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ValueInterpolation, FlowGraphInterpolationBlock);\n\n// #L54P2C\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4538, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/flowGraphEasingBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/flowGraphEasingBlock.ts"],"sourcesContent":["import type { EasingFunction } from \"core/Animations/easing\";\nimport { BackEase, BezierCurveEase, BounceEase, CircleEase, CubicEase, ElasticEase, ExponentialEase } from \"core/Animations/easing\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\n\n/**\n * The type of the easing function.\n */\nexport const enum EasingFunctionType {\n    CircleEase = 0,\n    BackEase = 1,\n    BounceEase = 2,\n    CubicEase = 3,\n    ElasticEase = 4,\n    ExponentialEase = 5,\n    PowerEase = 6,\n    QuadraticEase = 7,\n    QuarticEase = 8,\n    QuinticEase = 9,\n    SineEase = 10,\n    BezierCurveEase = 11,\n}\n\n/**\n * @internal\n * Creates an easing function object based on the type and parameters provided.\n * This is not tree-shaking friendly, so if you need cubic bezier, use the dedicated bezier block.\n * @param type The type of the easing function.\n * @param controlPoint1 The first control point for the bezier curve.\n * @param controlPoint2 The second control point for the bezier curve.\n * @returns The easing function object.\n */\nfunction CreateEasingFunction(type: EasingFunctionType, ...parameters: number[]): EasingFunction {\n    switch (type) {\n        case EasingFunctionType.BezierCurveEase:\n            return new BezierCurveEase(...parameters);\n        case EasingFunctionType.CircleEase:\n            return new CircleEase();\n        case EasingFunctionType.BackEase:\n            return new BackEase(...parameters);\n        case EasingFunctionType.BounceEase:\n            return new BounceEase(...parameters);\n        case EasingFunctionType.CubicEase:\n            return new CubicEase();\n        case EasingFunctionType.ElasticEase:\n            return new ElasticEase(...parameters);\n        case EasingFunctionType.ExponentialEase:\n            return new ExponentialEase(...parameters);\n        default:\n            throw new Error(\"Easing type not yet implemented\");\n    }\n}\n\n/**\n * An easing block that generates an easingFunction object based on the data provided.\n */\nexport class FlowGraphEasingBlock extends FlowGraphBlock {\n    /**\n     * Input connection: The type of the easing function.\n     */\n    public readonly type: FlowGraphDataConnection<EasingFunctionType>;\n\n    /**\n     * Input connection: The mode of the easing function.\n     * EasingFunction.EASINGMODE_EASEIN, EasingFunction.EASINGMODE_EASEOUT, EasingFunction.EASINGMODE_EASEINOUT\n     */\n    public readonly mode: FlowGraphDataConnection<number>;\n\n    /**\n     * Input connection:parameters for easing. for example control points for BezierCurveEase.\n     */\n    public readonly parameters: FlowGraphDataConnection<number[]>;\n\n    /**\n     * Output connection: The easing function object.\n     */\n    public readonly easingFunction: FlowGraphDataConnection<EasingFunction>;\n\n    /**\n     * Internal cache of reusable easing functions.\n     * key is type-mode-properties\n     */\n    private _easingFunctions: { [key: string]: EasingFunction } = {};\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config?: IFlowGraphBlockConfiguration\n    ) {\n        super(config);\n\n        this.type = this.registerDataInput(\"type\", RichTypeAny, 11);\n        this.mode = this.registerDataInput(\"mode\", RichTypeNumber, 0);\n        this.parameters = this.registerDataInput(\"parameters\", RichTypeAny, [1, 0, 0, 1]);\n\n        this.easingFunction = this.registerDataOutput(\"easingFunction\", RichTypeAny);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext) {\n        const type = this.type.getValue(context);\n        const mode = this.mode.getValue(context);\n        const parameters = this.parameters.getValue(context);\n\n        if (type === undefined || mode === undefined) {\n            return;\n        }\n\n        const key = `${type}-${mode}-${parameters.join(\"-\")}`;\n        if (!this._easingFunctions[key]) {\n            const easing = CreateEasingFunction(type, ...parameters);\n            easing.setEasingMode(mode);\n            this._easingFunctions[key] = easing;\n        }\n        this.easingFunction.setValue(this._easingFunctions[key], context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.Easing;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.Easing, FlowGraphEasingBlock);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4639, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/flowGraphBezierCurveEasingBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/flowGraphBezierCurveEasingBlock.ts"],"sourcesContent":["import type { EasingFunction } from \"core/Animations/easing\";\nimport { BezierCurveEase } from \"core/Animations/easing\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny, RichTypeNumber, RichTypeVector2 } from \"core/FlowGraph/flowGraphRichTypes\";\nimport type { Vector2 } from \"core/Maths/math.vector\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\n\n/**\n * An easing block that generates a BezierCurveEase easingFunction object based on the data provided.\n */\nexport class FlowGraphBezierCurveEasingBlock extends FlowGraphBlock {\n    /**\n     * Input connection: The mode of the easing function.\n     * EasingFunction.EASINGMODE_EASEIN, EasingFunction.EASINGMODE_EASEOUT, EasingFunction.EASINGMODE_EASEINOUT\n     */\n    public readonly mode: FlowGraphDataConnection<number>;\n\n    /**\n     * Input connection: Control point 1 for bezier curve.\n     */\n    public readonly controlPoint1: FlowGraphDataConnection<Vector2>;\n    /**\n     * Input connection: Control point 2 for bezier curve.\n     */\n    public readonly controlPoint2: FlowGraphDataConnection<Vector2>;\n\n    /**\n     * Output connection: The easing function object.\n     */\n    public readonly easingFunction: FlowGraphDataConnection<EasingFunction>;\n\n    /**\n     * Internal cache of reusable easing functions.\n     * key is type-mode-properties\n     */\n    private _easingFunctions: { [key: string]: EasingFunction } = {};\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config?: IFlowGraphBlockConfiguration\n    ) {\n        super(config);\n\n        this.mode = this.registerDataInput(\"mode\", RichTypeNumber, 0);\n        this.controlPoint1 = this.registerDataInput(\"controlPoint1\", RichTypeVector2);\n        this.controlPoint2 = this.registerDataInput(\"controlPoint2\", RichTypeVector2);\n\n        this.easingFunction = this.registerDataOutput(\"easingFunction\", RichTypeAny);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext) {\n        const mode = this.mode.getValue(context);\n        const controlPoint1 = this.controlPoint1.getValue(context);\n        const controlPoint2 = this.controlPoint2.getValue(context);\n\n        if (mode === undefined) {\n            return;\n        }\n\n        const key = `${mode}-${controlPoint1.x}-${controlPoint1.y}-${controlPoint2.x}-${controlPoint2.y}`;\n        if (!this._easingFunctions[key]) {\n            const easing = new BezierCurveEase(controlPoint1.x, controlPoint1.y, controlPoint2.x, controlPoint2.y);\n            easing.setEasingMode(mode);\n            this._easingFunctions[key] = easing;\n        }\n        this.easingFunction.setValue(this._easingFunctions[key], context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.BezierCurveEasing;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.BezierCurveEasing, FlowGraphBezierCurveEasingBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,eAAe,EAAE,yCAA+B;AAEzD,OAAO,EAAE,cAAc,EAAE,mCAAsC;AAG/D,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,eAAe,EAAE,uCAA0C;AAGjG,OAAO,EAAE,aAAa,EAAE,sCAA4B;;;;;AAK9C,MAAO,+BAAgC,SAAQ,wPAAc;IA2B/D,YACI;;OAEG,CACa,MAAqC,CAAA;QAErD,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAA+B;QAVzD;;;WAGG,CACK,IAAA,CAAA,gBAAgB,GAAsC,CAAA,CAAE,CAAC;QAU7D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,4PAAc,EAAE,CAAC,CAAC,CAAC;QAC9D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,6PAAe,CAAC,CAAC;QAC9E,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,eAAe,EAAE,6PAAe,CAAC,CAAC;QAE9E,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,yPAAW,CAAC,CAAC;IACjF,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzC,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3D,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAE3D,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;YACrB,OAAO;QACX,CAAC;QAED,MAAM,GAAG,GAAG,GAAG,IAAI,CAAA,CAAA,EAAI,aAAa,CAAC,CAAC,CAAA,CAAA,EAAI,aAAa,CAAC,CAAC,CAAA,CAAA,EAAI,aAAa,CAAC,CAAC,CAAA,CAAA,EAAI,aAAa,CAAC,CAAC,EAAE,CAAC;QAClG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC;YAC9B,MAAM,MAAM,GAAG,IAAI,kPAAe,CAAC,aAAa,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;YACvG,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;QACxC,CAAC;QACD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;IACtE,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,6BAAA,yCAAA,GAA6C;IACjD,CAAC;CACJ;IAED,6OAAa,EAAA,6BAAA,yCAAA,KAAwC,+BAA+B,CAAC,CAAC"}},
    {"offset": {"line": 4690, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/Animation/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/Animation/index.ts"],"sourcesContent":["export * from \"./flowGraphPlayAnimationBlock\";\r\nexport * from \"./flowGraphStopAnimationBlock\";\r\nexport * from \"./flowGraphPauseAnimationBlock\";\r\nexport * from \"./flowGraphInterpolationBlock\";\r\nexport * from \"./flowGraphEasingBlock\";\r\nexport * from \"./flowGraphBezierCurveEasingBlock\";\r\n"],"names":[],"mappings":";AAAA,cAAc,+BAA+B,CAAC;AAC9C,cAAc,+BAA+B,CAAC;AAC9C,cAAc,gCAAgC,CAAC;AAC/C,cAAc,+BAA+B,CAAC;AAC9C,cAAc,wBAAwB,CAAC;AACvC,cAAc,mCAAmC,CAAC"}},
    {"offset": {"line": 4707, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/index.ts"],"sourcesContent":["export * from \"./flowGraphConsoleLogBlock\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./ControlFlow/index\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./Animation/index\";\r\n"],"names":[],"mappings":";AAAA,cAAc,4BAA4B,CAAC;AAC3C,oEAAoE;AACpE,cAAc,qBAAqB,CAAC;AACpC,oEAAoE;AACpE,cAAc,mBAAmB,CAAC"}},
    {"offset": {"line": 4720, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphConditionalDataBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphConditionalDataBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport { FlowGraphBlock } from \"../../flowGraphBlock\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport { RichTypeBoolean, RichTypeAny } from \"../../flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\n\r\n/**\r\n * Block that returns a value based on a condition.\r\n */\r\nexport class FlowGraphConditionalDataBlock<T> extends FlowGraphBlock {\r\n    /**\r\n     * Input connection: The condition to check.\r\n     */\r\n    public readonly condition: FlowGraphDataConnection<boolean>;\r\n    /**\r\n     * Input connection: The value to return if the condition is true.\r\n     */\r\n    public readonly onTrue: FlowGraphDataConnection<T>;\r\n    /**\r\n     * Input connection: The value to return if the condition is false.\r\n     */\r\n    public readonly onFalse: FlowGraphDataConnection<T>;\r\n\r\n    /**\r\n     * Output connection: The value that was returned.\r\n     */\r\n    public readonly output: FlowGraphDataConnection<T>;\r\n\r\n    /**\r\n     * Creates a new instance of the block\r\n     * @param config optional configuration for this block\r\n     */\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.condition = this.registerDataInput(\"condition\", RichTypeBoolean);\r\n        this.onTrue = this.registerDataInput(\"onTrue\", RichTypeAny);\r\n        this.onFalse = this.registerDataInput(\"onFalse\", RichTypeAny);\r\n\r\n        this.output = this.registerDataOutput(\"output\", RichTypeAny);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _updateOutputs(context: FlowGraphContext): void {\r\n        // get the value of the condition\r\n        const condition = this.condition.getValue(context);\r\n        // set the value based on the condition truth-ness.\r\n        this.output.setValue(condition ? this.onTrue.getValue(context) : this.onFalse.getValue(context), context);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Conditional;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Conditional, FlowGraphConditionalDataBlock);\r\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AAEtD,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AAExE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;;;;AAMlD,MAAO,6BAAiC,SAAQ,wPAAc;IAmBhE;;;OAGG,CACH,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,6PAAe,CAAC,CAAC;QACtE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,yPAAW,CAAC,CAAC;QAC5D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,yPAAW,CAAC,CAAC;QAE9D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,yPAAW,CAAC,CAAC;IACjE,CAAC;IAED;;OAEG,CACa,cAAc,CAAC,OAAyB,EAAA;QACpD,iCAAiC;QACjC,MAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,mDAAmD;QACnD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;IAC9G,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAA,4BAAA,mCAAA,GAAuC;IAC3C,CAAC;CACJ;IACD,6OAAa,EAAA,4BAAA,mCAAA,KAAkC,6BAA6B,CAAC,CAAC"}},
    {"offset": {"line": 4761, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetVariableBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphGetVariableBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphBlock } from \"../../flowGraphBlock\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport { RichTypeAny } from \"../../flowGraphRichTypes\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\n\r\n/**\r\n * The configuration of the FlowGraphGetVariableBlock.\r\n */\r\nexport interface IFlowGraphGetVariableBlockConfiguration<T> extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The name of the variable to get.\r\n     */\r\n    variable: string;\r\n\r\n    /**\r\n     * The initial value of the variable.\r\n     */\r\n    initialValue?: T;\r\n}\r\n\r\n/**\r\n * A block that gets the value of a variable.\r\n * Variables are an stored in the context of the flow graph.\r\n */\r\nexport class FlowGraphGetVariableBlock<T> extends FlowGraphBlock {\r\n    /**\r\n     * Output connection: The value of the variable.\r\n     */\r\n    public readonly value: FlowGraphDataConnection<T>;\r\n\r\n    /**\r\n     * Construct a FlowGraphGetVariableBlock.\r\n     * @param config construction parameters\r\n     */\r\n    constructor(public override config: IFlowGraphGetVariableBlockConfiguration<T>) {\r\n        super(config);\r\n\r\n        // The output connection has to have the name of the variable.\r\n        this.value = this.registerDataOutput(\"value\", RichTypeAny, config.initialValue);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _updateOutputs(context: FlowGraphContext): void {\r\n        const variableNameValue = this.config.variable;\r\n        if (context.hasVariable(variableNameValue)) {\r\n            this.value.setValue(context.getVariable(variableNameValue), context);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Serializes this block\r\n     * @param serializationObject the object to serialize to\r\n     */\r\n    public override serialize(serializationObject?: any): void {\r\n        super.serialize(serializationObject);\r\n        serializationObject.config.variable = this.config.variable;\r\n    }\r\n\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.GetVariable;\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.GetVariable, FlowGraphGetVariableBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AAEtD,OAAO,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AACvD,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;;;;AAsBlD,MAAO,yBAA6B,SAAQ,wPAAc;IAM5D;;;OAGG,CACH,YAA4B,MAAkD,CAAA;QAC1E,KAAK,CAAC,MAAM,CAAC,CAAC;QADU,IAAA,CAAA,MAAM,GAAN,MAAM,CAA4C;QAG1E,8DAA8D;QAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,yPAAW,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;IACpF,CAAC;IAED;;OAEG,CACa,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC/C,IAAI,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,CAAC;YACzC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,iBAAiB,CAAC,EAAE,OAAO,CAAC,CAAC;QACzE,CAAC;IACL,CAAC;IAED;;;OAGG,CACa,SAAS,CAAC,mBAAyB,EAAA;QAC/C,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACrC,mBAAmB,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAC/D,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,4BAAA,mCAAA,GAAuC;IAC3C,CAAC;CACJ;IAED,6OAAa,EAAA,4BAAA,mCAAA,KAAkC,yBAAyB,CAAC,CAAC"}},
    {"offset": {"line": 4805, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSetVariableBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/flowGraphSetVariableBlock.ts"],"sourcesContent":["import { RegisterClass } from \"core/Misc/typeStore\";\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../flowGraphExecutionBlockWithOutSignal\";\nimport type { FlowGraphSignalConnection } from \"../../flowGraphSignalConnection\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\n\n/**\n * The configuration of the FlowGraphGetVariableBlock.\n */\nexport interface IFlowGraphSetVariableBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * The name of the variable to set.\n     */\n    variable?: string;\n\n    /**\n     * The name of the variables to set.\n     */\n    variables?: string[];\n}\n\n/**\n * This block will set a variable on the context.\n */\nexport class FlowGraphSetVariableBlock<T> extends FlowGraphExecutionBlockWithOutSignal {\n    constructor(config: IFlowGraphSetVariableBlockConfiguration) {\n        super(config);\n        // check if the variable is defined\n        if (!config.variable && !config.variables) {\n            throw new Error(\"FlowGraphSetVariableBlock: variable/variables is not defined\");\n        }\n        // check if the variable is an array\n        if (config.variables && config.variable) {\n            throw new Error(\"FlowGraphSetVariableBlock: variable and variables are both defined\");\n        }\n        // check if we have either a variable or variables. If we have variables, set the inputs correctly\n        if (config.variables) {\n            for (const variable of config.variables) {\n                this.registerDataInput(variable, RichTypeAny);\n            }\n        } else {\n            this.registerDataInput(\"value\", RichTypeAny);\n        }\n    }\n\n    public override _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\n        if (this.config?.variables) {\n            for (const variable of this.config.variables) {\n                this._saveVariable(context, variable);\n            }\n        } else {\n            this._saveVariable(context, this.config?.variable, \"value\");\n        }\n        this.out._activateSignal(context);\n    }\n\n    private _saveVariable(context: FlowGraphContext, variableName: string, inputName?: string): void {\n        // check if there is an animation(group) running on this variable. If there is, stop the animation - a value was force-set.\n        const currentlyRunningAnimationGroups = context._getGlobalContextVariable(\"currentlyRunningAnimationGroups\", []) as number[];\n        for (const animationUniqueId of currentlyRunningAnimationGroups) {\n            const animationGroup = context.assetsContext.animationGroups.find((animationGroup) => animationGroup.uniqueId == animationUniqueId);\n            if (animationGroup) {\n                // check if there is a target animation that has the target set to be the context\n                for (const targetAnimation of animationGroup.targetedAnimations) {\n                    // check if the target property is the variable we are setting\n                    if (targetAnimation.target === context) {\n                        // check the variable name\n                        if (targetAnimation.animation.targetProperty === variableName) {\n                            // stop the animation\n                            animationGroup.stop();\n                            // remove the animation from the currently running animations\n                            const index = currentlyRunningAnimationGroups.indexOf(animationUniqueId);\n                            if (index > -1) {\n                                currentlyRunningAnimationGroups.splice(index, 1);\n                            }\n                            context._setGlobalContextVariable(\"currentlyRunningAnimationGroups\", currentlyRunningAnimationGroups);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        const value = this.getDataInput(inputName || variableName)?.getValue(context);\n        context.setVariable(variableName, value);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.SetVariable;\n    }\n\n    public override serialize(serializationObject?: any): void {\n        super.serialize(serializationObject);\n        serializationObject.config.variable = this.config?.variable;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.SetVariable, FlowGraphSetVariableBlock);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4887, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphTransformCoordinatesSystemBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphTransformCoordinatesSystemBlock.ts"],"sourcesContent":["import { FlowGraphBlock } from \"../../flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport { RichTypeAny, RichTypeVector3 } from \"../../flowGraphRichTypes\";\r\nimport { TmpVectors, Vector3 } from \"../../../Maths/math.vector\";\r\nimport type { TransformNode } from \"../../../Meshes/transformNode\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\n\r\n/**\r\n * This blocks transforms a vector from one coordinate system to another.\r\n */\r\nexport class FlowGraphTransformCoordinatesSystemBlock extends FlowGraphBlock {\r\n    /**\r\n     * Input connection: The source coordinate system.\r\n     */\r\n    public readonly sourceSystem: FlowGraphDataConnection<TransformNode>;\r\n    /**\r\n     * Input connection: The destination coordinate system.\r\n     */\r\n    public readonly destinationSystem: FlowGraphDataConnection<TransformNode>;\r\n    /**\r\n     * Input connection: The coordinates to transform.\r\n     */\r\n    public readonly inputCoordinates: FlowGraphDataConnection<Vector3>;\r\n    /**\r\n     * Output connection: The transformed coordinates.\r\n     */\r\n    public readonly outputCoordinates: FlowGraphDataConnection<Vector3>;\r\n\r\n    /**\r\n     * Creates a new FlowGraphCoordinateTransformBlock\r\n     * @param config optional configuration for this block\r\n     */\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.sourceSystem = this.registerDataInput(\"sourceSystem\", RichTypeAny);\r\n        this.destinationSystem = this.registerDataInput(\"destinationSystem\", RichTypeAny);\r\n        this.inputCoordinates = this.registerDataInput(\"inputCoordinates\", RichTypeVector3);\r\n        this.outputCoordinates = this.registerDataOutput(\"outputCoordinates\", RichTypeVector3);\r\n    }\r\n\r\n    public override _updateOutputs(_context: FlowGraphContext): void {\r\n        const sourceSystemValue = this.sourceSystem.getValue(_context);\r\n        const destinationSystemValue = this.destinationSystem.getValue(_context);\r\n        const inputCoordinatesValue = this.inputCoordinates.getValue(_context);\r\n\r\n        // takes coordinates from source space to world space\r\n        const sourceWorld = sourceSystemValue.getWorldMatrix();\r\n        // takes coordinates from destination space to world space\r\n        const destinationWorld = destinationSystemValue.getWorldMatrix();\r\n        const destinationWorldInverse = TmpVectors.Matrix[0].copyFrom(destinationWorld);\r\n        // takes coordinates from world space to destination space\r\n        destinationWorldInverse.invert();\r\n\r\n        const sourceToDestination = TmpVectors.Matrix[1];\r\n        // takes coordinates from source space to world space to destination space\r\n        destinationWorldInverse.multiplyToRef(sourceWorld, sourceToDestination);\r\n        const outputCoordinatesValue = this.outputCoordinates.getValue(_context);\r\n\r\n        Vector3.TransformCoordinatesToRef(inputCoordinatesValue, sourceToDestination, outputCoordinatesValue);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.TransformCoordinatesSystem;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.TransformCoordinatesSystem, FlowGraphTransformCoordinatesSystemBlock);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AAGtD,OAAO,EAAE,WAAW,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;AACxE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,4BAA4B,CAAC;AAGjE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;;;;;AAMlD,MAAO,wCAAyC,SAAQ,wPAAc;IAkBxE;;;OAGG,CACH,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,yPAAW,CAAC,CAAC;QACxE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,yPAAW,CAAC,CAAC;QAClF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,6PAAe,CAAC,CAAC;QACpF,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,EAAE,6PAAe,CAAC,CAAC;IAC3F,CAAC;IAEe,cAAc,CAAC,QAA0B,EAAA;QACrD,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC/D,MAAM,sBAAsB,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACzE,MAAM,qBAAqB,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAEvE,qDAAqD;QACrD,MAAM,WAAW,GAAG,iBAAiB,CAAC,cAAc,EAAE,CAAC;QACvD,0DAA0D;QAC1D,MAAM,gBAAgB,GAAG,sBAAsB,CAAC,cAAc,EAAE,CAAC;QACjE,MAAM,uBAAuB,GAAG,gPAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;QAChF,0DAA0D;QAC1D,uBAAuB,CAAC,MAAM,EAAE,CAAC;QAEjC,MAAM,mBAAmB,GAAG,gPAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACjD,0EAA0E;QAC1E,uBAAuB,CAAC,aAAa,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAAC;QACxE,MAAM,sBAAsB,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAEzE,6OAAO,CAAC,yBAAyB,CAAC,qBAAqB,EAAE,mBAAmB,EAAE,sBAAsB,CAAC,CAAC;IAC1G,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAA,2CAAA,kDAAA,GAAsD;IAC1D,CAAC;CACJ;IACD,6OAAa,EAAA,2CAAA,kDAAA,KAAiD,wCAAwC,CAAC,CAAC"}},
    {"offset": {"line": 4939, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphCachedOperationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphCachedOperationBlock.ts"],"sourcesContent":["import type { Nullable } from \"../../../types\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphBlock } from \"../../flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport { RichTypeBoolean } from \"../../flowGraphRichTypes\";\r\n\r\nconst CacheName = \"cachedOperationValue\";\r\nconst CacheExecIdName = \"cachedExecutionId\";\r\n\r\n/**\r\n * A block that will cache the result of an operation and deliver it as an output.\r\n */\r\nexport abstract class FlowGraphCachedOperationBlock<OutputT> extends FlowGraphBlock {\r\n    /**\r\n     * The output of the operation\r\n     */\r\n    public readonly value: FlowGraphDataConnection<OutputT>;\r\n\r\n    /**\r\n     * Output connection: Whether the value is valid.\r\n     */\r\n    public readonly isValid: FlowGraphDataConnection<boolean>;\r\n\r\n    constructor(outputRichType: RichType<OutputT>, config?: IFlowGraphBlockConfiguration) {\r\n        super(config);\r\n\r\n        this.value = this.registerDataOutput(\"value\", outputRichType);\r\n        this.isValid = this.registerDataOutput(\"isValid\", RichTypeBoolean);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     * Operation to realize\r\n     * @param context the graph context\r\n     */\r\n    public abstract _doOperation(context: FlowGraphContext): OutputT | undefined;\r\n\r\n    public override _updateOutputs(context: FlowGraphContext) {\r\n        const cachedExecutionId = context._getExecutionVariable(this, CacheExecIdName, -1);\r\n        const cachedValue = context._getExecutionVariable<Nullable<OutputT>>(this, CacheName, null);\r\n        if (cachedValue !== undefined && cachedValue !== null && cachedExecutionId === context.executionId) {\r\n            this.isValid.setValue(true, context);\r\n            this.value.setValue(cachedValue, context);\r\n        } else {\r\n            try {\r\n                const calculatedValue = this._doOperation(context);\r\n                if (calculatedValue === undefined || calculatedValue === null) {\r\n                    this.isValid.setValue(false, context);\r\n                    return;\r\n                }\r\n                context._setExecutionVariable(this, CacheName, calculatedValue);\r\n                context._setExecutionVariable(this, CacheExecIdName, context.executionId);\r\n                this.value.setValue(calculatedValue, context);\r\n                this.isValid.setValue(true, context);\r\n            } catch (e) {\r\n                this.isValid.setValue(false, context);\r\n            }\r\n        }\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AAItD,OAAO,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;;;AAE3D,MAAM,SAAS,GAAG,sBAAsB,CAAC;AACzC,MAAM,eAAe,GAAG,mBAAmB,CAAC;AAKtC,MAAgB,6BAAuC,SAAQ,wPAAc;IAW/E,YAAY,cAAiC,EAAE,MAAqC,CAAA;QAChF,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;QAC9D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,6PAAe,CAAC,CAAC;IACvE,CAAC;IASe,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,iBAAiB,GAAG,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC;QACnF,MAAM,WAAW,GAAG,OAAO,CAAC,qBAAqB,CAAoB,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;QAC5F,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,IAAI,IAAI,iBAAiB,KAAK,OAAO,CAAC,WAAW,EAAE,CAAC;YACjG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YACrC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;QAC9C,CAAC,MAAM,CAAC;YACJ,IAAI,CAAC;gBACD,MAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;gBACnD,IAAI,eAAe,KAAK,SAAS,IAAI,eAAe,KAAK,IAAI,EAAE,CAAC;oBAC5D,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;oBACtC,OAAO;gBACX,CAAC;gBACD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,SAAS,EAAE,eAAe,CAAC,CAAC;gBAChE,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,eAAe,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC;gBAC1E,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;gBAC9C,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YACzC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;gBACT,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YAC1C,CAAC;QACL,CAAC;IACL,CAAC;CACJ"}},
    {"offset": {"line": 4982, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetPropertyBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphGetPropertyBlock.ts"],"sourcesContent":["import type { AssetType, FlowGraphAssetType } from \"core/FlowGraph/flowGraphAssetsContext\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\n\nexport interface IFlowGraphGetPropertyBlockConfiguration<O extends FlowGraphAssetType> extends IFlowGraphBlockConfiguration {\n    /**\n     * The name of the property that will be set\n     */\n    propertyName?: string;\n\n    /**\n     * The target asset from which the property will be retrieved\n     */\n    object?: AssetType<O>;\n\n    /**\n     * If true, the block will reset the output to the default value when the target asset is undefined.\n     */\n    resetToDefaultWhenUndefined?: boolean;\n}\n\n/**\n * This block will deliver a property of an asset, based on the property name and an input asset.\n * The property name can include dots (\".\"), which will be interpreted as a path to the property.\n *\n * For example, with an input of a mesh asset, the property name \"position.x\" will deliver the x component of the position of the mesh.\n *\n * Note that it is recommended to input the object on which you are working on (i.e. a material) rather than providing a mesh as object and then getting the material from it.\n */\nexport class FlowGraphGetPropertyBlock<P extends any, O extends FlowGraphAssetType> extends FlowGraphCachedOperationBlock<P> {\n    /**\n     * Input connection: The asset from which the property will be retrieved\n     */\n    public readonly object: FlowGraphDataConnection<AssetType<O>>;\n\n    /**\n     * Input connection: The name of the property that will be set\n     */\n    public readonly propertyName: FlowGraphDataConnection<string>;\n\n    /**\n     * Input connection: A function that can be used to get the value of the property.\n     * This will be used if defined, instead of the default get function.\n     */\n    public readonly customGetFunction: FlowGraphDataConnection<(target: AssetType<O>, propertyName: string, context: FlowGraphContext) => P | undefined>;\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config: IFlowGraphGetPropertyBlockConfiguration<O>\n    ) {\n        super(RichTypeAny, config);\n        this.object = this.registerDataInput(\"object\", RichTypeAny, config.object);\n        this.propertyName = this.registerDataInput(\"propertyName\", RichTypeAny, config.propertyName);\n        this.customGetFunction = this.registerDataInput(\"customGetFunction\", RichTypeAny);\n    }\n\n    public override _doOperation(context: FlowGraphContext): P | undefined {\n        const getter = this.customGetFunction.getValue(context);\n        let value;\n        if (getter) {\n            value = getter(this.object.getValue(context), this.propertyName.getValue(context), context);\n        } else {\n            const target = this.object.getValue(context);\n            const propertyName = this.propertyName.getValue(context);\n            value = target && propertyName ? this._getPropertyValue(target, propertyName) : undefined;\n        }\n        return value;\n    }\n\n    private _getPropertyValue(target: AssetType<O>, propertyName: string): P | undefined {\n        const path = propertyName.split(\".\");\n        let value: any = target;\n        for (const prop of path) {\n            value = value[prop];\n            if (value === undefined) {\n                return;\n            }\n        }\n        return value as P;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.GetProperty;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.GetProperty, FlowGraphGetPropertyBlock);\n"],"names":[],"mappings":";;;;AAIA,OAAO,EAAE,WAAW,EAAE,oCAA0C;AAChE,OAAO,EAAE,aAAa,EAAE,mCAA4B;AAEpD,OAAO,EAAE,6BAA6B,EAAE,MAAM,iCAAiC,CAAC;;;;AA2B1E,MAAO,yBAAuE,SAAQ,wSAAgC;IAiBxH,YACI;;OAEG,CACa,MAAkD,CAAA;QAElE,KAAK,CAAC,yPAAW,EAAE,MAAM,CAAC,CAAC;QAFX,IAAA,CAAA,MAAM,GAAN,MAAM,CAA4C;QAGlE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,yPAAW,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QAC3E,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,yPAAW,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC;QAC7F,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,yPAAW,CAAC,CAAC;IACtF,CAAC;IAEe,YAAY,CAAC,OAAyB,EAAA;QAClD,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,KAAK,CAAC;QACV,IAAI,MAAM,EAAE,CAAC;YACT,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;QAChG,CAAC,MAAM,CAAC;YACJ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC7C,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACzD,KAAK,GAAG,MAAM,IAAI,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC9F,CAAC;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAEO,iBAAiB,CAAC,MAAoB,EAAE,YAAoB,EAAA;QAChE,MAAM,IAAI,GAAG,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACrC,IAAI,KAAK,GAAQ,MAAM,CAAC;QACxB,KAAK,MAAM,IAAI,IAAI,IAAI,CAAE,CAAC;YACtB,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YACpB,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;gBACtB,OAAO;YACX,CAAC;QACL,CAAC;QACD,OAAO,KAAU,CAAC;IACtB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,4BAAA,mCAAA,GAAuC;IAC3C,CAAC;CACJ;IAED,6OAAa,EAAA,4BAAA,mCAAA,KAAkC,yBAAyB,CAAC,CAAC"}},
    {"offset": {"line": 5034, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSetPropertyBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Execution/flowGraphSetPropertyBlock.ts"],"sourcesContent":["import type { AssetType, FlowGraphAssetType } from \"core/FlowGraph/flowGraphAssetsContext\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"core/FlowGraph/flowGraphExecutionBlockWithOutSignal\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport type { FlowGraphSignalConnection } from \"core/FlowGraph/flowGraphSignalConnection\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\n\nexport interface IFlowGraphSetPropertyBlockConfiguration<O extends FlowGraphAssetType> {\n    /**\n     * The name of the property that will be set\n     */\n    propertyName?: string;\n\n    /**\n     * The target asset from which the property will be retrieved\n     */\n    target?: AssetType<O>;\n}\n\n/**\n * This block will set a property on a given target asset.\n * The property name can include dots (\".\"), which will be interpreted as a path to the property.\n * The target asset is an input and can be changed at any time.\n * The value of the property is an input and can be changed at any time.\n *\n * For example, with an input of a mesh asset, the property name \"position.x\" will set the x component of the position of the mesh.\n *\n * Note that it is recommended to input the object on which you are working on (i.e. a material) than providing a mesh and then getting the material from it.\n */\nexport class FlowGraphSetPropertyBlock<P extends any, O extends FlowGraphAssetType> extends FlowGraphExecutionBlockWithOutSignal {\n    /**\n     * Input connection: The value to set on the property.\n     */\n    public readonly value: FlowGraphDataConnection<P>;\n\n    /**\n     * Input connection: The target asset from which the property will be retrieved\n     */\n    public readonly object: FlowGraphDataConnection<AssetType<O>>;\n\n    /**\n     * Input connection: The name of the property that will be set\n     */\n    public readonly propertyName: FlowGraphDataConnection<string>;\n\n    /**\n     * Input connection: A function that can be used to set the value of the property.\n     * If set it will be used instead of the default set function.\n     */\n    public readonly customSetFunction: FlowGraphDataConnection<(target: AssetType<O>, propertyName: string, value: P, context: FlowGraphContext) => void>;\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config: IFlowGraphSetPropertyBlockConfiguration<O>\n    ) {\n        super(config);\n        this.object = this.registerDataInput(\"object\", RichTypeAny, config.target);\n        this.value = this.registerDataInput(\"value\", RichTypeAny);\n        this.propertyName = this.registerDataInput(\"propertyName\", RichTypeAny, config.propertyName);\n        this.customSetFunction = this.registerDataInput(\"customSetFunction\", RichTypeAny);\n    }\n    public override _execute(context: FlowGraphContext, _callingSignal: FlowGraphSignalConnection): void {\n        try {\n            const target = this.object.getValue(context);\n            const value = this.value.getValue(context);\n            const propertyName = this.propertyName.getValue(context);\n\n            this._stopRunningAnimations(context, target, propertyName);\n\n            const setFunction = this.customSetFunction.getValue(context);\n            if (setFunction) {\n                setFunction(target, propertyName, value, context);\n            } else {\n                this._setPropertyValue(target, propertyName, value);\n            }\n        } catch (e) {\n            this._reportError(context, e);\n        }\n        this.out._activateSignal(context);\n    }\n\n    private _stopRunningAnimations(context: FlowGraphContext, target: any, propertyName: string) {\n        const currentlyRunningAnimationGroups = context._getGlobalContextVariable(\"currentlyRunningAnimationGroups\", []) as number[];\n        for (const uniqueId of currentlyRunningAnimationGroups) {\n            const animationGroup = context.assetsContext.animationGroups.find((animationGroup) => animationGroup.uniqueId === uniqueId);\n            if (animationGroup) {\n                for (const targetedAnimations of animationGroup.targetedAnimations) {\n                    if (targetedAnimations.target === target && targetedAnimations.animation.targetProperty === propertyName) {\n                        animationGroup.stop(true);\n                        animationGroup.dispose();\n\n                        const index = currentlyRunningAnimationGroups.indexOf(uniqueId);\n                        if (index !== -1) {\n                            currentlyRunningAnimationGroups.splice(index, 1);\n                            context._setGlobalContextVariable(\"currentlyRunningAnimationGroups\", currentlyRunningAnimationGroups);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private _setPropertyValue(target: AssetType<O>, propertyName: string, value: P): void {\n        const path = propertyName.split(\".\");\n        let obj = target as any;\n        for (let i = 0; i < path.length - 1; i++) {\n            const prop = path[i];\n            if (obj[prop] === undefined) {\n                obj[prop] = {};\n            }\n            obj = obj[prop];\n        }\n        obj[path[path.length - 1]] = value;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.SetProperty;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.SetProperty, FlowGraphSetPropertyBlock);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5112, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphConstantBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphConstantBlock.ts"],"sourcesContent":["import { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\r\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport { getRichTypeFromValue } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { defaultValueSerializationFunction } from \"core/FlowGraph/serialization\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\n/**\r\n * Configuration for a constant block.\r\n */\r\nexport interface IFlowGraphConstantBlockConfiguration<T> extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The value of the constant.\r\n     */\r\n    value: T;\r\n}\r\n/**\r\n * Block that returns a constant value.\r\n */\r\nexport class FlowGraphConstantBlock<T> extends FlowGraphBlock {\r\n    /**\r\n     * Output connection: The constant value.\r\n     */\r\n    public readonly output: FlowGraphDataConnection<T>;\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphConstantBlockConfiguration<T>\r\n    ) {\r\n        super(config);\r\n\r\n        this.output = this.registerDataOutput(\"output\", getRichTypeFromValue(config.value));\r\n    }\r\n\r\n    public override _updateOutputs(context: FlowGraphContext): void {\r\n        this.output.setValue(this.config.value, context);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.Constant;\r\n    }\r\n\r\n    /**\r\n     * Serializes this block\r\n     * @param serializationObject the object to serialize to\r\n     * @param valueSerializeFunction the function to use to serialize the value\r\n     */\r\n    public override serialize(\r\n        serializationObject: any = {},\r\n        valueSerializeFunction: (key: string, value: any, serializationObject: any) => any = defaultValueSerializationFunction\r\n    ) {\r\n        super.serialize(serializationObject);\r\n        valueSerializeFunction(\"value\", this.config.value, serializationObject.config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Constant, FlowGraphConstantBlock);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAE,gCAAsC;AAG/D,OAAO,EAAE,oBAAoB,EAAE,oCAA0C;AAEzE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAE,iCAAiC,EAAE,+BAAqC;;;;;AAc3E,MAAO,sBAA0B,SAAQ,wPAAc;IAMzD,YACI;;OAEG,CACa,MAA+C,CAAA;QAE/D,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAAyC;QAI/D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,MAAE,kQAAoB,EAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;IACxF,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IACrD,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAA,yBAAA,gCAAA,GAAoC;IACxC,CAAC;IAED;;;;OAIG,CACa,SAAS,CACrB,sBAA2B,CAAA,CAAE,EAC7B,yBAAqF,0QAAiC,EAAA;QAEtH,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACrC,sBAAsB,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,mBAAmB,CAAC,MAAM,CAAC,CAAC;IACnF,CAAC;CACJ;IACD,6OAAa,EAAA,yBAAA,gCAAA,KAA+B,sBAAsB,CAAC,CAAC"}},
    {"offset": {"line": 5155, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetAssetBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphGetAssetBlock.ts"],"sourcesContent":["import type { AssetType, FlowGraphAssetType } from \"core/FlowGraph/flowGraphAssetsContext\";\nimport { GetFlowGraphAssetWithType } from \"core/FlowGraph/flowGraphAssetsContext\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport type { Nullable } from \"core/types\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\nimport type { FlowGraphNumber } from \"core/FlowGraph/utils\";\nimport { getNumericValue } from \"core/FlowGraph/utils\";\n\n/**\n * Configuration for the get asset block.\n */\nexport interface IFlowGraphGetAssetBlockConfiguration<T> extends IFlowGraphBlockConfiguration {\n    /**\n     * The type of the asset that will be retrieved.\n     */\n    type: T;\n    /**\n     * The index of the asset in the corresponding array in the assets context.\n     * If not provided you can still change it using the input connection.\n     */\n    index?: number | FlowGraphInteger;\n\n    /**\n     * If set to true, instead of the index in the array it will search for the unique id of the asset.\n     * The value of index will be used as the unique id.\n     */\n    useIndexAsUniqueId?: boolean;\n}\n\n/**\n * A block that will deliver an asset as an output, based on its type and place in the assets index.\n *\n * The assets are loaded from the assetsContext defined in the context running this block. The assetsContext is a class extending AbstractClass,\n * meaning it can be a Scene, an AssetsContainers, and any other class that extends AbstractClass.\n */\nexport class FlowGraphGetAssetBlock<T extends FlowGraphAssetType> extends FlowGraphBlock {\n    /**\n     * Output connection: The value of the property.\n     */\n    public readonly value: FlowGraphDataConnection<Nullable<AssetType<T>>>;\n\n    /**\n     * Input connection: The type of the asset.\n     */\n    public readonly type: FlowGraphDataConnection<T>;\n\n    /**\n     * Input connection: The index of the asset in the corresponding array in the assets context.\n     */\n    public readonly index: FlowGraphDataConnection<FlowGraphNumber>;\n\n    public constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config: IFlowGraphGetAssetBlockConfiguration<T>\n    ) {\n        super(config);\n        this.type = this.registerDataInput(\"type\", RichTypeAny, config.type);\n        this.value = this.registerDataOutput(\"value\", RichTypeAny);\n        this.index = this.registerDataInput(\"index\", RichTypeAny, new FlowGraphInteger(getNumericValue(config.index ?? -1)));\n    }\n\n    public override _updateOutputs(context: FlowGraphContext): void {\n        const type = this.type.getValue(context);\n        const index = this.index.getValue(context);\n        // get the asset from the context\n        const asset = GetFlowGraphAssetWithType(context.assetsContext, type, getNumericValue(index), this.config.useIndexAsUniqueId);\n        this.value.setValue(asset, context);\n    }\n\n    /**\n     * Gets the class name of this block\n     * @returns the class name\n     */\n    public override getClassName(): string {\n        return FlowGraphBlockNames.GetAsset;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.GetAsset, FlowGraphGetAssetBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,yBAAyB,EAAE,wCAA8C;AAElF,OAAO,EAAE,cAAc,EAAE,gCAAsC;AAG/D,OAAO,EAAE,WAAW,EAAE,oCAA0C;AAGhE,OAAO,EAAE,aAAa,EAAE,mCAA4B;AACpD,OAAO,EAAE,gBAAgB,EAAE,8CAAoD;AAE/E,OAAO,EAAE,eAAe,EAAE,uBAA6B;;;;;;;AA6BjD,MAAO,sBAAqD,SAAQ,wPAAc;IAgBpF,YACI;;OAEG,CACa,MAA+C,CAAA;QAE/D,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAAyC;QAG/D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,yPAAW,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;QACrE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,yPAAW,CAAC,CAAC;QAC3D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,yPAAW,EAAE,IAAI,2QAAgB,KAAC,gPAAe,EAAC,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzH,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,iCAAiC;QACjC,MAAM,KAAK,OAAG,2QAAyB,EAAC,OAAO,CAAC,aAAa,EAAE,IAAI,MAAE,gPAAe,EAAC,KAAK,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAC7H,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAA,yBAAA,gCAAA,GAAoC;IACxC,CAAC;CACJ;IAED,6OAAa,EAAA,yBAAA,gCAAA,KAA+B,sBAAsB,CAAC,CAAC"}},
    {"offset": {"line": 5200, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphDataSwitchBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphDataSwitchBlock.ts"],"sourcesContent":["import { FlowGraphBlock, type IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport type { FlowGraphNumber } from \"core/FlowGraph/utils\";\nimport { getNumericValue, isNumeric } from \"core/FlowGraph/utils\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\n\nexport interface IFlowGraphDataSwitchBlockConfiguration<T> extends IFlowGraphBlockConfiguration {\n    /**\n     * The possible values for the selection.\n     *\n     */\n    cases: FlowGraphNumber[];\n\n    /**\n     * If true, the cases will be treated as integers, meaning 1.1, 1.0, 0.1e1  and 1 will a single case - \"1\".\n     * This is the default behavior in glTF interactivity.\n     */\n    treatCasesAsIntegers?: boolean;\n}\n/**\n * This block conditionally outputs one of its inputs, based on a condition and a list of cases.\n *\n * This of it as a passive (data) version of the switch statement in programming languages.\n */\nexport class FlowGraphDataSwitchBlock<T> extends FlowGraphBlock {\n    /**\n     * Current selection value.\n     */\n    public readonly case: FlowGraphDataConnection<FlowGraphNumber>;\n\n    /**\n     * Input: default value to output if no case is matched.\n     */\n    public readonly default: FlowGraphDataConnection<T>;\n\n    /**\n     * Output: the value that is output based on the selection.\n     */\n    public readonly value: FlowGraphDataConnection<T | undefined>;\n\n    private _inputCases: Map<number, FlowGraphDataConnection<T>> = new Map();\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config: IFlowGraphDataSwitchBlockConfiguration<T>\n    ) {\n        super(config);\n\n        this.case = this.registerDataInput(\"case\", RichTypeAny, NaN);\n        this.default = this.registerDataInput(\"default\", RichTypeAny);\n        this.value = this.registerDataOutput(\"value\", RichTypeAny);\n\n        // iterate the set not using for of\n        const array = this.config.cases || [];\n        for (let caseValue of array) {\n            // if treat as integers, make sure not to set it again if it exists\n            caseValue = getNumericValue(caseValue);\n            if (this.config.treatCasesAsIntegers) {\n                caseValue = caseValue | 0;\n                if (this._inputCases.has(caseValue)) {\n                    return;\n                }\n            }\n            this._inputCases.set(caseValue, this.registerDataInput(`in_${caseValue}`, RichTypeAny));\n        }\n    }\n\n    public override _updateOutputs(context: FlowGraphContext): void {\n        const selectionValue = this.case.getValue(context);\n        let outputValue: T | undefined;\n        if (isNumeric(selectionValue)) {\n            outputValue = this._getOutputValueForCase(getNumericValue(selectionValue), context);\n        }\n        if (!outputValue) {\n            outputValue = this.default.getValue(context);\n        }\n\n        this.value.setValue(outputValue, context);\n    }\n\n    private _getOutputValueForCase(caseValue: number, context: FlowGraphContext): T | undefined {\n        return this._inputCases.get(caseValue)?.getValue(context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.DataSwitch;\n    }\n}\nRegisterClass(FlowGraphBlockNames.DataSwitch, FlowGraphDataSwitchBlock);\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAqC,gCAAsC;AAGlG,OAAO,EAAE,WAAW,EAAE,oCAA0C;AAEhE,OAAO,EAAE,eAAe,EAAE,SAAS,EAAE,uBAA6B;AAElE,OAAO,EAAE,aAAa,EAAE,mCAA4B;;;;;AAoB9C,MAAO,wBAA4B,SAAQ,wPAAc;IAkB3D,YACI;;OAEG,CACa,MAAiD,CAAA;QAEjE,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAA2C;QAN7D,IAAA,CAAA,WAAW,GAA4C,IAAI,GAAG,EAAE,CAAC;QAUrE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,yPAAW,EAAE,GAAG,CAAC,CAAC;QAC7D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,yPAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,yPAAW,CAAC,CAAC;QAE3D,mCAAmC;QACnC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;QACtC,KAAK,IAAI,SAAS,IAAI,KAAK,CAAE,CAAC;YAC1B,mEAAmE;YACnE,SAAS,OAAG,gPAAe,EAAC,SAAS,CAAC,CAAC;YACvC,IAAI,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;gBACnC,SAAS,GAAG,SAAS,GAAG,CAAC,CAAC;gBAC1B,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC;oBAClC,OAAO;gBACX,CAAC;YACL,CAAC;YACD,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAA,GAAA,EAAM,SAAS,EAAE,EAAE,yPAAW,CAAC,CAAC,CAAC;QAC5F,CAAC;IACL,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,WAA0B,CAAC;QAC/B,QAAI,0OAAS,EAAC,cAAc,CAAC,EAAE,CAAC;YAC5B,WAAW,GAAG,IAAI,CAAC,sBAAsB,KAAC,gPAAe,EAAC,cAAc,CAAC,EAAE,OAAO,CAAC,CAAC;QACxF,CAAC;QACD,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACjD,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;IAC9C,CAAC;IAEO,sBAAsB,CAAC,SAAiB,EAAE,OAAyB,EAAA;QACvE,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC9D,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,2BAAA,kCAAA,GAAsC;IAC1C,CAAC;CACJ;IACD,6OAAa,EAAA,2BAAA,kCAAA,KAAiC,wBAAwB,CAAC,CAAC"}},
    {"offset": {"line": 5259, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphBinaryOperationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphBinaryOperationBlock.ts"],"sourcesContent":["import type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n/**\r\n * The base block for all binary operation blocks. Receives an input of type\r\n * LeftT, one of type RightT, and outputs a value of type ResultT.\r\n */\r\nexport class FlowGraphBinaryOperationBlock<LeftT, RightT, ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    /**\r\n     * First input of this block\r\n     */\r\n    a: FlowGraphDataConnection<LeftT>;\r\n    /**\r\n     * Second input of this block\r\n     */\r\n    b: FlowGraphDataConnection<RightT>;\r\n\r\n    constructor(\r\n        leftRichType: RichType<LeftT>,\r\n        rightRichType: RichType<RightT>,\r\n        resultRichType: RichType<ResultT>,\r\n        private _operation: (left: LeftT, right: RightT) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(resultRichType, config);\r\n        this.a = this.registerDataInput(\"a\", leftRichType);\r\n        this.b = this.registerDataInput(\"b\", rightRichType);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        const a = this.a.getValue(context);\r\n        const b = this.b.getValue(context);\r\n        return this._operation(a, b);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAIA,OAAO,EAAE,6BAA6B,EAAE,MAAM,iCAAiC,CAAC;;AAK1E,MAAO,6BAAsD,SAAQ,wSAAsC;IAU7G,YACI,YAA6B,EAC7B,aAA+B,EAC/B,cAAiC,EACzB,UAAmD,EACnD,UAAkB,EAC1B,MAAqC,CAAA;QAErC,KAAK,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAJtB,IAAA,CAAA,UAAU,GAAV,UAAU,CAAyC;QACnD,IAAA,CAAA,UAAU,GAAV,UAAU,CAAQ;QAI1B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QACnD,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;IACxD,CAAC;IAED;;;;OAIG,CACa,YAAY,CAAC,OAAyB,EAAA;QAClD,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;CACJ"}},
    {"offset": {"line": 5293, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphConstantOperationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphConstantOperationBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n/**\r\n * Block that outputs a value of type ResultT, resulting of an operation with no inputs.\r\n * This block is being extended by some math operations and should not be used directly.\r\n * @internal\r\n */\r\nexport class FlowGraphConstantOperationBlock<ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    constructor(\r\n        richType: RichType<ResultT>,\r\n        private _operation: (context: FlowGraphContext) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(richType, config);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        return this._operation(context);\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAGA,OAAO,EAAE,6BAA6B,EAAE,MAAM,iCAAiC,CAAC;;AAM1E,MAAO,+BAAyC,SAAQ,wSAAsC;IAChG,YACI,QAA2B,EACnB,UAAkD,EAClD,UAAkB,EAC1B,MAAqC,CAAA;QAErC,KAAK,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAJhB,IAAA,CAAA,UAAU,GAAV,UAAU,CAAwC;QAClD,IAAA,CAAA,UAAU,GAAV,UAAU,CAAQ;IAI9B,CAAC;IAED;;;;OAIG,CACa,YAAY,CAAC,OAAyB,EAAA;QAClD,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;CACJ"}},
    {"offset": {"line": 5323, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphUnaryOperationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphUnaryOperationBlock.ts"],"sourcesContent":["import type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n\r\n/**\r\n * @internal\r\n * The base block for all unary operation blocks. Receives an input of type InputT, and outputs a value of type ResultT.\r\n */\r\nexport class FlowGraphUnaryOperationBlock<InputT, ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    /**\r\n     * the input of this block\r\n     */\r\n    a: FlowGraphDataConnection<InputT>;\r\n\r\n    constructor(\r\n        inputRichType: RichType<InputT>,\r\n        resultRichType: RichType<ResultT>,\r\n        private _operation: (input: InputT) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(resultRichType, config);\r\n        this.a = this.registerDataInput(\"a\", inputRichType);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        return this._operation(this.a.getValue(context));\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAIA,OAAO,EAAE,6BAA6B,EAAE,MAAM,iCAAiC,CAAC;;AAM1E,MAAO,4BAA8C,SAAQ,wSAAsC;IAMrG,YACI,aAA+B,EAC/B,cAAiC,EACzB,UAAsC,EACtC,UAAkB,EAC1B,MAAqC,CAAA;QAErC,KAAK,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAJtB,IAAA,CAAA,UAAU,GAAV,UAAU,CAA4B;QACtC,IAAA,CAAA,UAAU,GAAV,UAAU,CAAQ;QAI1B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,aAAa,CAAC,CAAC;IACxD,CAAC;IAED;;;;OAIG,CACa,YAAY,CAAC,OAAyB,EAAA;QAClD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;IACrD,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;CACJ"}},
    {"offset": {"line": 5354, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/flowGraphTernaryOperationBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/flowGraphTernaryOperationBlock.ts"],"sourcesContent":["import type { FlowGraphDataConnection } from \"../../flowGraphDataConnection\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphCachedOperationBlock } from \"./flowGraphCachedOperationBlock\";\r\n/**\r\n * @internal\r\n * The base block for all ternary operation blocks.\r\n */\r\nexport class FlowGraphTernaryOperationBlock<T1, T2, T3, ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\r\n    /**\r\n     * First input of this block\r\n     */\r\n    a: FlowGraphDataConnection<T1>;\r\n    /**\r\n     * Second input of this block\r\n     */\r\n    b: FlowGraphDataConnection<T2>;\r\n    /**\r\n     * Third input of this block\r\n     */\r\n    c: FlowGraphDataConnection<T3>;\r\n\r\n    constructor(\r\n        t1Type: RichType<T1>,\r\n        t2Type: RichType<T2>,\r\n        t3Type: RichType<T3>,\r\n        resultRichType: RichType<ResultT>,\r\n        private _operation: (a: T1, b: T2, c: T3) => ResultT,\r\n        private _className: string,\r\n        config?: IFlowGraphBlockConfiguration\r\n    ) {\r\n        super(resultRichType, config);\r\n        this.a = this.registerDataInput(\"a\", t1Type);\r\n        this.b = this.registerDataInput(\"b\", t2Type);\r\n        this.c = this.registerDataInput(\"c\", t3Type);\r\n    }\r\n\r\n    /**\r\n     * the operation performed by this block\r\n     * @param context the graph context\r\n     * @returns the result of the operation\r\n     */\r\n    public override _doOperation(context: FlowGraphContext): ResultT {\r\n        return this._operation(this.a.getValue(context), this.b.getValue(context), this.c.getValue(context));\r\n    }\r\n\r\n    /**\r\n     * Gets the class name of this block\r\n     * @returns the class name\r\n     */\r\n    public override getClassName(): string {\r\n        return this._className;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAIA,OAAO,EAAE,6BAA6B,EAAE,MAAM,iCAAiC,CAAC;;AAK1E,MAAO,8BAAoD,SAAQ,wSAAsC;IAc3G,YACI,MAAoB,EACpB,MAAoB,EACpB,MAAoB,EACpB,cAAiC,EACzB,UAA4C,EAC5C,UAAkB,EAC1B,MAAqC,CAAA;QAErC,KAAK,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;QAJtB,IAAA,CAAA,UAAU,GAAV,UAAU,CAAkC;QAC5C,IAAA,CAAA,UAAU,GAAV,UAAU,CAAQ;QAI1B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACjD,CAAC;IAED;;;;OAIG,CACa,YAAY,CAAC,OAAyB,EAAA;QAClD,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;IACzG,CAAC;IAED;;;OAGG,CACa,YAAY,GAAA;QACxB,OAAO,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;CACJ"}},
    {"offset": {"line": 5387, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Math/flowGraphMathBlocks.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Math/flowGraphMathBlocks.ts"],"sourcesContent":["import { RegisterClass } from \"../../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../../flowGraphBlock\";\r\nimport { FlowGraphTypes, getRichTypeByFlowGraphType, RichTypeAny, RichTypeBoolean, RichTypeFlowGraphInteger, RichTypeNumber } from \"../../../flowGraphRichTypes\";\r\nimport { FlowGraphBinaryOperationBlock } from \"../flowGraphBinaryOperationBlock\";\r\nimport { FlowGraphConstantOperationBlock } from \"../flowGraphConstantOperationBlock\";\r\nimport { Quaternion, Matrix, Vector2, Vector3, Vector4 } from \"../../../../Maths/math.vector\";\r\nimport { FlowGraphUnaryOperationBlock } from \"../flowGraphUnaryOperationBlock\";\r\nimport { FlowGraphTernaryOperationBlock } from \"../flowGraphTernaryOperationBlock\";\r\nimport { FlowGraphInteger } from \"../../../CustomTypes/flowGraphInteger\";\r\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"core/FlowGraph/CustomTypes/flowGraphMatrix\";\r\nimport type { FlowGraphMathOperationType, FlowGraphNumber } from \"core/FlowGraph/utils\";\r\nimport { _AreSameIntegerClass, _AreSameMatrixClass, _AreSameVectorOrQuaternionClass, _GetClassNameOf, getNumericValue, isNumeric } from \"core/FlowGraph/utils\";\r\n\r\n/**\r\n * A configuration interface for math blocks\r\n */\r\nexport interface IFlowGraphMathBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * If true, the multiplication is done per component.\r\n     * This is the behavior in glTF interactivity.\r\n     */\r\n    useMatrixPerComponent?: boolean;\r\n\r\n    /**\r\n     * The type of the variable.\r\n     */\r\n    type?: FlowGraphTypes;\r\n\r\n    /**\r\n     * If true, the block will not allow integer and float arithmetic.\r\n     * This is the behavior in glTF interactivity.\r\n     */\r\n    preventIntegerFloatArithmetic?: boolean;\r\n}\r\n\r\n/**\r\n * Polymorphic add block.\r\n */\r\nexport class FlowGraphAddBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Construct a new add block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicAdd(a, b),\r\n            FlowGraphBlockNames.Add,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicAdd(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameMatrixClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            // cast to vector3, but any other cast will be fine\r\n            return (a as Vector3).add(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).addInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).add(b as Quaternion);\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) + getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Add, FlowGraphAddBlock);\r\n\r\n/**\r\n * Polymorphic subtract block.\r\n */\r\nexport class FlowGraphSubtractBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Construct a new subtract block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicSubtract(a, b),\r\n            FlowGraphBlockNames.Subtract,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicSubtract(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName) || _AreSameMatrixClass(aClassName, bClassName)) {\r\n            // cast to vector3, but it can be casted to any vector type\r\n            return (a as Vector3).subtract(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).subtractInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).subtract(b as Quaternion);\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) - getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Subtract, FlowGraphSubtractBlock);\r\n\r\n/**\r\n * Polymorphic multiply block.\r\n * In case of matrix, it is configurable whether the multiplication is done per component.\r\n */\r\nexport class FlowGraphMultiplyBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicMultiply(a, b),\r\n            FlowGraphBlockNames.Multiply,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicMultiply(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            // cast to vector3, but it can be casted to any vector type\r\n            return (a as Vector3).multiply(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).multiplyInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).multiply(b as Quaternion);\r\n        } else if (_AreSameMatrixClass(aClassName, bClassName)) {\r\n            if (this.config?.useMatrixPerComponent) {\r\n                // this is the definition of multiplication of glTF interactivity\r\n                // get a's m as array, and multiply each component with b's m\r\n                const aM = (a as FlowGraphMatrix2D).m;\r\n                for (let i = 0; i < aM.length; i++) {\r\n                    aM[i] *= (b as FlowGraphMatrix2D).m[i];\r\n                }\r\n                if (aClassName === FlowGraphTypes.Matrix2D) {\r\n                    return new FlowGraphMatrix2D(aM);\r\n                } else if (aClassName === FlowGraphTypes.Matrix3D) {\r\n                    return new FlowGraphMatrix3D(aM);\r\n                } else {\r\n                    return Matrix.FromArray(aM);\r\n                }\r\n            } else {\r\n                a = a as Matrix;\r\n                b = b as Matrix;\r\n                return b.multiply(a);\r\n            }\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) * getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Multiply, FlowGraphMultiplyBlock);\r\n\r\n/**\r\n * Polymorphic division block.\r\n */\r\nexport class FlowGraphDivideBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Construct a new divide block.\r\n     * @param config - Optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphMathBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            getRichTypeByFlowGraphType(config?.type),\r\n            (a, b) => this._polymorphicDivide(a, b),\r\n            FlowGraphBlockNames.Divide,\r\n            config\r\n        );\r\n    }\r\n\r\n    private _polymorphicDivide(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            // cast to vector3, but it can be casted to any vector type\r\n            return (a as Vector3).divide(b as Vector3);\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Quaternion) {\r\n            // this is a simple division (per component!), and should be also supported between Quat and Vector4. Therefore -\r\n            const aClone = (a as Quaternion).clone();\r\n            aClone.x /= (b as Quaternion).x;\r\n            aClone.y /= (b as Quaternion).y;\r\n            aClone.z /= (b as Quaternion).z;\r\n            aClone.w /= (b as Quaternion).w;\r\n            return aClone;\r\n        } else if (aClassName === FlowGraphTypes.Quaternion || bClassName === FlowGraphTypes.Vector4) {\r\n            return new Vector4((a as Quaternion).x, (a as Quaternion).y, (a as Quaternion).z, (a as Quaternion).w).divideInPlace(b as Vector4);\r\n        } else if (aClassName === FlowGraphTypes.Vector4 || bClassName === FlowGraphTypes.Quaternion) {\r\n            return (a as Vector4).divide(b as Quaternion);\r\n        } else if (_AreSameMatrixClass(aClassName, bClassName)) {\r\n            if (this.config?.useMatrixPerComponent) {\r\n                // get a's m as array, and divide each component with b's m\r\n                const aM = (a as FlowGraphMatrix2D).m;\r\n                for (let i = 0; i < aM.length; i++) {\r\n                    aM[i] /= (b as FlowGraphMatrix2D).m[i];\r\n                }\r\n                if (aClassName === FlowGraphTypes.Matrix2D) {\r\n                    return new FlowGraphMatrix2D(aM);\r\n                } else if (aClassName === FlowGraphTypes.Matrix3D) {\r\n                    return new FlowGraphMatrix3D(aM);\r\n                } else {\r\n                    return Matrix.FromArray(aM);\r\n                }\r\n            } else {\r\n                a = a as Matrix;\r\n                b = b as Matrix;\r\n                return a.divide(b);\r\n            }\r\n        } else {\r\n            // at this point at least one of the variables is a number.\r\n            if (this.config?.preventIntegerFloatArithmetic && typeof a !== typeof b) {\r\n                throw new Error(\"Cannot add different types of numbers.\");\r\n            }\r\n            return getNumericValue(a as number) / getNumericValue(b as number);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Divide, FlowGraphDivideBlock);\r\n\r\n/**\r\n * Configuration interface for the random block.\r\n */\r\nexport interface IFlowGraphRandomBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The minimum value. defaults to 0.\r\n     */\r\n    min?: number;\r\n    /**\r\n     * The maximum value. defaults to 1.\r\n     */\r\n    max?: number;\r\n\r\n    /**\r\n     * The seed for the random number generator for deterministic random values.\r\n     * If not set, Math.random() is used.\r\n     */\r\n    seed?: number;\r\n}\r\n\r\n/**\r\n * Random number between min and max (defaults to 0 to 1)\r\n *\r\n * This node will cache the result for he same node reference. i.e., a Math.eq that references the SAME random node will always return true.\r\n */\r\nexport class FlowGraphRandomBlock extends FlowGraphConstantOperationBlock<FlowGraphMathOperationType> {\r\n    /**\r\n     * The minimum value. defaults to 0.\r\n     */\r\n    public readonly min: FlowGraphDataConnection<number>;\r\n    /**\r\n     * The maximum value. defaults to 1.\r\n     */\r\n    public readonly max: FlowGraphDataConnection<number>;\r\n\r\n    private _seed?: number;\r\n\r\n    /**\r\n     * Construct a new random block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphRandomBlockConfiguration) {\r\n        super(RichTypeNumber, (context) => this._random(context), FlowGraphBlockNames.Random, config);\r\n        this.min = this.registerDataInput(\"min\", RichTypeNumber, config?.min ?? 0);\r\n        this.max = this.registerDataInput(\"max\", RichTypeNumber, config?.max ?? 1);\r\n        if (config?.seed) {\r\n            this._seed = config.seed;\r\n        }\r\n    }\r\n\r\n    private _isSeed(seed = this._seed): seed is number {\r\n        return seed !== undefined;\r\n    }\r\n\r\n    private _getRandomValue() {\r\n        if (this._isSeed(this._seed)) {\r\n            // compute seed-based random number, deterministic randomness!\r\n            const x = Math.sin(this._seed++) * 10000;\r\n            return x - Math.floor(x);\r\n        }\r\n        return Math.random();\r\n    }\r\n\r\n    private _random(context: FlowGraphContext) {\r\n        const min = this.min.getValue(context);\r\n        const max = this.max.getValue(context);\r\n        return this._getRandomValue() * (max - min) + min;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Random, FlowGraphRandomBlock);\r\n\r\n/**\r\n * E constant.\r\n */\r\n// eslint-disable-next-line @typescript-eslint/naming-convention\r\nexport class FlowGraphEBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Math.E, FlowGraphBlockNames.E, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.E, FlowGraphEBlock);\r\n\r\n/**\r\n * Pi constant.\r\n */\r\nexport class FlowGraphPiBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Math.PI, FlowGraphBlockNames.PI, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.PI, FlowGraphPiBlock);\r\n\r\n/**\r\n * Positive inf constant.\r\n */\r\nexport class FlowGraphInfBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Number.POSITIVE_INFINITY, FlowGraphBlockNames.Inf, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Inf, FlowGraphInfBlock);\r\n\r\n/**\r\n * NaN constant.\r\n */\r\nexport class FlowGraphNaNBlock extends FlowGraphConstantOperationBlock<number> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, () => Number.NaN, FlowGraphBlockNames.NaN, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.NaN, FlowGraphNaNBlock);\r\n\r\nfunction ComponentWiseUnaryOperation(a: FlowGraphMathOperationType, op: (a: number) => number) {\r\n    const aClassName = _GetClassNameOf(a);\r\n    switch (aClassName) {\r\n        case \"FlowGraphInteger\":\r\n            a = a as FlowGraphInteger;\r\n            return new FlowGraphInteger(op(a.value));\r\n        case FlowGraphTypes.Vector2:\r\n            a = a as Vector2;\r\n            return new Vector2(op(a.x), op(a.y));\r\n        case FlowGraphTypes.Vector3:\r\n            a = a as Vector3;\r\n            return new Vector3(op(a.x), op(a.y), op(a.z));\r\n        case FlowGraphTypes.Vector4:\r\n            a = a as Vector4;\r\n            return new Vector4(op(a.x), op(a.y), op(a.z), op(a.w));\r\n        case FlowGraphTypes.Quaternion:\r\n            a = a as Quaternion;\r\n            return new Quaternion(op(a.x), op(a.y), op(a.z), op(a.w));\r\n        case FlowGraphTypes.Matrix:\r\n            a = a as Matrix;\r\n            return Matrix.FromArray(a.m.map(op));\r\n        case FlowGraphTypes.Matrix2D:\r\n            a = a as FlowGraphMatrix2D;\r\n            // reason for not using .map is performance\r\n            return new FlowGraphMatrix2D(a.m.map(op));\r\n        case FlowGraphTypes.Matrix3D:\r\n            a = a as FlowGraphMatrix3D;\r\n            return new FlowGraphMatrix3D(a.m.map(op));\r\n        default:\r\n            a = a as number;\r\n            return op(a);\r\n    }\r\n}\r\n\r\n/**\r\n * Absolute value block.\r\n */\r\nexport class FlowGraphAbsBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAbs(a), FlowGraphBlockNames.Abs, config);\r\n    }\r\n\r\n    private _polymorphicAbs(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.abs);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Abs, FlowGraphAbsBlock);\r\n\r\n/**\r\n * Sign block.\r\n */\r\nexport class FlowGraphSignBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicSign(a), FlowGraphBlockNames.Sign, config);\r\n    }\r\n\r\n    private _polymorphicSign(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sign);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Sign, FlowGraphSignBlock);\r\n\r\n/**\r\n * Truncation block.\r\n */\r\nexport class FlowGraphTruncBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicTrunc(a), FlowGraphBlockNames.Trunc, config);\r\n    }\r\n\r\n    private _polymorphicTrunc(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.trunc);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Trunc, FlowGraphTruncBlock);\r\n\r\n/**\r\n * Floor block.\r\n */\r\nexport class FlowGraphFloorBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicFloor(a), FlowGraphBlockNames.Floor, config);\r\n    }\r\n\r\n    private _polymorphicFloor(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.floor);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Floor, FlowGraphFloorBlock);\r\n\r\n/**\r\n * Ceiling block.\r\n */\r\nexport class FlowGraphCeilBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicCeiling(a), FlowGraphBlockNames.Ceil, config);\r\n    }\r\n\r\n    private _polymorphicCeiling(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.ceil);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Ceil, FlowGraphCeilBlock);\r\n\r\n/**\r\n * Configuration for the round block.\r\n */\r\nexport interface IFlowGraphRoundBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * If true, the rounding is away from zero, even when negative. i.e. -7.5 goes to -8, and not -7 as Math.round does (it rounds up).\r\n     * This is the default when using glTF\r\n     */\r\n    roundHalfAwayFromZero?: boolean;\r\n}\r\n/**\r\n * Round block.\r\n */\r\nexport class FlowGraphRoundBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphRoundBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicRound(a), FlowGraphBlockNames.Round, config);\r\n    }\r\n\r\n    private _polymorphicRound(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, (a) => (a < 0 && this.config?.roundHalfAwayFromZero ? -Math.round(-a) : Math.round(a)));\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.Round, FlowGraphRoundBlock);\r\n\r\n/**\r\n * A block that returns the fractional part of a number.\r\n */\r\nexport class FlowGraphFractionBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicFraction(a), FlowGraphBlockNames.Fraction, config);\r\n    }\r\n\r\n    private _polymorphicFraction(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, (a) => a - Math.floor(a));\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Fraction, FlowGraphFractionBlock);\r\n\r\n/**\r\n * Negation block.\r\n */\r\nexport class FlowGraphNegationBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * construct a new negation block.\r\n     * @param config optional configuration\r\n     */\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicNeg(a), FlowGraphBlockNames.Negation, config);\r\n    }\r\n\r\n    private _polymorphicNeg(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, (a) => -a);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Negation, FlowGraphNegationBlock);\r\n\r\nfunction ComponentWiseBinaryOperation(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType, op: (a: number, b: number) => number) {\r\n    const aClassName = _GetClassNameOf(a);\r\n    switch (aClassName) {\r\n        case \"FlowGraphInteger\":\r\n            a = a as FlowGraphInteger;\r\n            b = b as FlowGraphInteger;\r\n            return new FlowGraphInteger(op(a.value, b.value));\r\n        case FlowGraphTypes.Vector2:\r\n            a = a as Vector2;\r\n            b = b as Vector2;\r\n            return new Vector2(op(a.x, b.x), op(a.y, b.y));\r\n        case FlowGraphTypes.Vector3:\r\n            a = a as Vector3;\r\n            b = b as Vector3;\r\n            return new Vector3(op(a.x, b.x), op(a.y, b.y), op(a.z, b.z));\r\n        case FlowGraphTypes.Vector4:\r\n            a = a as Vector4;\r\n            b = b as Vector4;\r\n            return new Vector4(op(a.x, b.x), op(a.y, b.y), op(a.z, b.z), op(a.w, b.w));\r\n        case FlowGraphTypes.Quaternion:\r\n            a = a as Quaternion;\r\n            b = b as Quaternion;\r\n            return new Quaternion(op(a.x, b.x), op(a.y, b.y), op(a.z, b.z), op(a.w, b.w));\r\n        case FlowGraphTypes.Matrix:\r\n            a = a as Matrix;\r\n            return Matrix.FromArray(a.m.map((v, i) => op(v, (b as Matrix).m[i])));\r\n        case FlowGraphTypes.Matrix2D:\r\n            a = a as FlowGraphMatrix2D;\r\n            return new FlowGraphMatrix2D(a.m.map((v, i) => op(v, (b as FlowGraphMatrix2D).m[i])));\r\n        case FlowGraphTypes.Matrix3D:\r\n            a = a as FlowGraphMatrix3D;\r\n            return new FlowGraphMatrix3D(a.m.map((v, i) => op(v, (b as FlowGraphMatrix3D).m[i])));\r\n        default:\r\n            return op(getNumericValue(a as number), getNumericValue(b as number));\r\n    }\r\n}\r\n\r\n/**\r\n * Remainder block.\r\n */\r\nexport class FlowGraphModuloBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicRemainder(a, b), FlowGraphBlockNames.Modulo, config);\r\n    }\r\n\r\n    private _polymorphicRemainder(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, (a, b) => a % b);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Modulo, FlowGraphModuloBlock);\r\n\r\n/**\r\n * Min block.\r\n */\r\nexport class FlowGraphMinBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicMin(a, b), FlowGraphBlockNames.Min, config);\r\n    }\r\n\r\n    private _polymorphicMin(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.min);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Min, FlowGraphMinBlock);\r\n\r\n/**\r\n * Max block\r\n */\r\nexport class FlowGraphMaxBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicMax(a, b), FlowGraphBlockNames.Max, config);\r\n    }\r\n\r\n    private _polymorphicMax(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.max);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Max, FlowGraphMaxBlock);\r\n\r\nfunction Clamp(a: number, b: number, c: number) {\r\n    return Math.min(Math.max(a, Math.min(b, c)), Math.max(b, c));\r\n}\r\n\r\nfunction ComponentWiseTernaryOperation(\r\n    a: FlowGraphMathOperationType,\r\n    b: FlowGraphMathOperationType,\r\n    c: FlowGraphMathOperationType,\r\n    op: (a: number, b: number, c: number) => number\r\n) {\r\n    const aClassName = _GetClassNameOf(a);\r\n    switch (aClassName) {\r\n        case \"FlowGraphInteger\":\r\n            a = a as FlowGraphInteger;\r\n            b = b as FlowGraphInteger;\r\n            c = c as FlowGraphInteger;\r\n            return new FlowGraphInteger(op(a.value, b.value, c.value));\r\n        case FlowGraphTypes.Vector2:\r\n            a = a as Vector2;\r\n            b = b as Vector2;\r\n            c = c as Vector2;\r\n            return new Vector2(op(a.x, b.x, c.x), op(a.y, b.y, c.y));\r\n        case FlowGraphTypes.Vector3:\r\n            a = a as Vector3;\r\n            b = b as Vector3;\r\n            c = c as Vector3;\r\n            return new Vector3(op(a.x, b.x, c.x), op(a.y, b.y, c.y), op(a.z, b.z, c.z));\r\n        case FlowGraphTypes.Vector4:\r\n            a = a as Vector4;\r\n            b = b as Vector4;\r\n            c = c as Vector4;\r\n            return new Vector4(op(a.x, b.x, c.x), op(a.y, b.y, c.y), op(a.z, b.z, c.z), op(a.w, b.w, c.w));\r\n        case FlowGraphTypes.Quaternion:\r\n            a = a as Quaternion;\r\n            b = b as Quaternion;\r\n            c = c as Quaternion;\r\n            return new Quaternion(op(a.x, b.x, c.x), op(a.y, b.y, c.y), op(a.z, b.z, c.z), op(a.w, b.w, c.w));\r\n        case FlowGraphTypes.Matrix:\r\n            return Matrix.FromArray((a as Matrix).m.map((v, i) => op(v, (b as Matrix).m[i], (c as Matrix).m[i])));\r\n        case FlowGraphTypes.Matrix2D:\r\n            return new FlowGraphMatrix2D((a as FlowGraphMatrix2D).m.map((v, i) => op(v, (b as FlowGraphMatrix2D).m[i], (c as FlowGraphMatrix2D).m[i])));\r\n        case FlowGraphTypes.Matrix3D:\r\n            return new FlowGraphMatrix3D((a as FlowGraphMatrix3D).m.map((v, i) => op(v, (b as FlowGraphMatrix3D).m[i], (c as FlowGraphMatrix3D).m[i])));\r\n        default:\r\n            return op(getNumericValue(a as number), getNumericValue(b as number), getNumericValue(c as number));\r\n    }\r\n}\r\n\r\n/**\r\n * Clamp block.\r\n */\r\nexport class FlowGraphClampBlock extends FlowGraphTernaryOperationBlock<\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType\r\n> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, RichTypeAny, (a, b, c) => this._polymorphicClamp(a, b, c), FlowGraphBlockNames.Clamp, config);\r\n    }\r\n\r\n    private _polymorphicClamp(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType, c: FlowGraphMathOperationType) {\r\n        return ComponentWiseTernaryOperation(a, b, c, Clamp);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Clamp, FlowGraphClampBlock);\r\n\r\nfunction Saturate(a: number): number {\r\n    return Math.min(Math.max(a, 0), 1);\r\n}\r\n\r\n/**\r\n * Saturate block.\r\n */\r\nexport class FlowGraphSaturateBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicSaturate(a), FlowGraphBlockNames.Saturate, config);\r\n    }\r\n\r\n    private _polymorphicSaturate(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Saturate);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Saturate, FlowGraphSaturateBlock);\r\n\r\nfunction Interpolate(a: number, b: number, c: number) {\r\n    return (1 - c) * a + c * b;\r\n}\r\n\r\n/**\r\n * Interpolate block.\r\n */\r\nexport class FlowGraphMathInterpolationBlock extends FlowGraphTernaryOperationBlock<\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType,\r\n    FlowGraphMathOperationType\r\n> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, RichTypeAny, (a, b, c) => this._polymorphicInterpolate(a, b, c), FlowGraphBlockNames.MathInterpolation, config);\r\n    }\r\n\r\n    private _polymorphicInterpolate(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType, c: FlowGraphMathOperationType) {\r\n        return ComponentWiseTernaryOperation(a, b, c, Interpolate);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.MathInterpolation, FlowGraphMathInterpolationBlock);\r\n\r\n/**\r\n * Equals block.\r\n */\r\nexport class FlowGraphEqualityBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicEq(a, b), FlowGraphBlockNames.Equality, config);\r\n    }\r\n\r\n    private _polymorphicEq(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        const aClassName = _GetClassNameOf(a);\r\n        const bClassName = _GetClassNameOf(b);\r\n        if (typeof a !== typeof b) {\r\n            return false;\r\n        }\r\n        if (_AreSameVectorOrQuaternionClass(aClassName, bClassName) || _AreSameMatrixClass(aClassName, bClassName) || _AreSameIntegerClass(aClassName, bClassName)) {\r\n            return (a as Vector3).equals(b as Vector3);\r\n        } else {\r\n            return a === b;\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Equality, FlowGraphEqualityBlock);\r\n\r\nfunction ComparisonOperators(a: FlowGraphNumber, b: FlowGraphNumber, op: (a: number, b: number) => boolean) {\r\n    if (isNumeric(a) && isNumeric(b)) {\r\n        return op(getNumericValue(a), getNumericValue(b));\r\n    } else {\r\n        throw new Error(`Cannot compare ${a} and ${b}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Less than block.\r\n */\r\nexport class FlowGraphLessThanBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicLessThan(a, b), FlowGraphBlockNames.LessThan, config);\r\n    }\r\n\r\n    private _polymorphicLessThan(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a < b);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.LessThan, FlowGraphLessThanBlock);\r\n\r\n/**\r\n * Less than or equal block.\r\n */\r\nexport class FlowGraphLessThanOrEqualBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicLessThanOrEqual(a, b), FlowGraphBlockNames.LessThanOrEqual, config);\r\n    }\r\n\r\n    private _polymorphicLessThanOrEqual(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a <= b);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.LessThanOrEqual, FlowGraphLessThanOrEqualBlock);\r\n\r\n/**\r\n * Greater than block.\r\n */\r\nexport class FlowGraphGreaterThanBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicGreaterThan(a, b), FlowGraphBlockNames.GreaterThan, config);\r\n    }\r\n\r\n    private _polymorphicGreaterThan(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a > b);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.GreaterThan, FlowGraphGreaterThanBlock);\r\n\r\n/**\r\n * Greater than or equal block.\r\n */\r\nexport class FlowGraphGreaterThanOrEqualBlock extends FlowGraphBinaryOperationBlock<FlowGraphNumber, FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeBoolean, (a, b) => this._polymorphicGreaterThanOrEqual(a, b), FlowGraphBlockNames.GreaterThanOrEqual, config);\r\n    }\r\n\r\n    private _polymorphicGreaterThanOrEqual(a: FlowGraphNumber, b: FlowGraphNumber) {\r\n        return ComparisonOperators(a, b, (a, b) => a >= b);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.GreaterThanOrEqual, FlowGraphGreaterThanOrEqualBlock);\r\n\r\n/**\r\n * Is NaN block.\r\n */\r\nexport class FlowGraphIsNanBlock extends FlowGraphUnaryOperationBlock<FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeBoolean, (a) => this._polymorphicIsNan(a), FlowGraphBlockNames.IsNaN, config);\r\n    }\r\n\r\n    private _polymorphicIsNan(a: FlowGraphNumber) {\r\n        if (isNumeric(a, true)) {\r\n            return isNaN(getNumericValue(a));\r\n        } else {\r\n            throw new Error(`Cannot get NaN of ${a}`);\r\n        }\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.IsNaN, FlowGraphIsNanBlock);\r\n\r\n/**\r\n * Is Inf block.\r\n */\r\nexport class FlowGraphIsInfinityBlock extends FlowGraphUnaryOperationBlock<FlowGraphNumber, boolean> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeBoolean, (a) => this._polymorphicIsInf(a), FlowGraphBlockNames.IsInfinity, config);\r\n    }\r\n\r\n    private _polymorphicIsInf(a: FlowGraphNumber) {\r\n        if (isNumeric(a)) {\r\n            return !isFinite(getNumericValue(a));\r\n        } else {\r\n            throw new Error(`Cannot get isInf of ${a}`);\r\n        }\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.IsInfinity, FlowGraphIsInfinityBlock);\r\n\r\n/**\r\n * Convert degrees to radians block.\r\n */\r\nexport class FlowGraphDegToRadBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    /**\r\n     * Constructs a new instance of the flow graph math block.\r\n     * @param config - Optional configuration for the flow graph block.\r\n     */\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicDegToRad(a), FlowGraphBlockNames.DegToRad, config);\r\n    }\r\n\r\n    private _degToRad(a: number) {\r\n        return (a * Math.PI) / 180;\r\n    }\r\n\r\n    private _polymorphicDegToRad(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, this._degToRad);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.DegToRad, FlowGraphDegToRadBlock);\r\n\r\n/**\r\n * Convert radians to degrees block.\r\n */\r\nexport class FlowGraphRadToDegBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicRadToDeg(a), FlowGraphBlockNames.RadToDeg, config);\r\n    }\r\n\r\n    private _radToDeg(a: number) {\r\n        return (a * 180) / Math.PI;\r\n    }\r\n\r\n    private _polymorphicRadToDeg(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, this._radToDeg);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.RadToDeg, FlowGraphRadToDegBlock);\r\n\r\n/**\r\n * Sin block.\r\n */\r\nexport class FlowGraphSinBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicSin(a), FlowGraphBlockNames.Sin, config);\r\n    }\r\n\r\n    private _polymorphicSin(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sin);\r\n    }\r\n}\r\n\r\n/**\r\n * Cos block.\r\n */\r\nexport class FlowGraphCosBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicCos(a), FlowGraphBlockNames.Cos, config);\r\n    }\r\n\r\n    private _polymorphicCos(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.cos);\r\n    }\r\n}\r\n\r\n/**\r\n * Tan block.\r\n */\r\nexport class FlowGraphTanBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicTan(a), FlowGraphBlockNames.Tan, config);\r\n    }\r\n\r\n    private _polymorphicTan(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.tan);\r\n    }\r\n}\r\n\r\n/**\r\n * Arcsin block.\r\n */\r\nexport class FlowGraphAsinBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAsin(a), FlowGraphBlockNames.Asin, config);\r\n    }\r\n\r\n    private _polymorphicAsin(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.asin);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Asin, FlowGraphAsinBlock);\r\n\r\n/**\r\n * Arccos block.\r\n */\r\nexport class FlowGraphAcosBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAcos(a), FlowGraphBlockNames.Acos, config);\r\n    }\r\n\r\n    private _polymorphicAcos(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.acos);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Acos, FlowGraphAcosBlock);\r\n\r\n/**\r\n * Arctan block.\r\n */\r\nexport class FlowGraphAtanBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeNumber, RichTypeNumber, (a) => this._polymorphicAtan(a), FlowGraphBlockNames.Atan, config);\r\n    }\r\n\r\n    private _polymorphicAtan(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.atan);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Atan, FlowGraphAtanBlock);\r\n\r\n/**\r\n * Arctan2 block.\r\n */\r\nexport class FlowGraphAtan2Block extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, RichTypeAny, (a, b) => this._polymorphicAtan2(a, b), FlowGraphBlockNames.Atan2, config);\r\n    }\r\n\r\n    private _polymorphicAtan2(a: any, b: any) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.atan2);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Atan2, FlowGraphAtan2Block);\r\n\r\n/**\r\n * Hyperbolic sin block.\r\n */\r\nexport class FlowGraphSinhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicSinh(a), FlowGraphBlockNames.Sinh, config);\r\n    }\r\n\r\n    private _polymorphicSinh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sinh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Sinh, FlowGraphSinhBlock);\r\n\r\n/**\r\n * Hyperbolic cos block.\r\n */\r\nexport class FlowGraphCoshBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicCosh(a), FlowGraphBlockNames.Cosh, config);\r\n    }\r\n\r\n    private _polymorphicCosh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.cosh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Cosh, FlowGraphCoshBlock);\r\n\r\n/**\r\n * Hyperbolic tan block.\r\n */\r\nexport class FlowGraphTanhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicTanh(a), FlowGraphBlockNames.Tanh, config);\r\n    }\r\n\r\n    private _polymorphicTanh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.tanh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Tanh, FlowGraphTanhBlock);\r\n\r\n/**\r\n * Hyperbolic arcsin block.\r\n */\r\nexport class FlowGraphAsinhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicAsinh(a), FlowGraphBlockNames.Asinh, config);\r\n    }\r\n\r\n    private _polymorphicAsinh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.asinh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Asinh, FlowGraphAsinhBlock);\r\n\r\n/**\r\n * Hyperbolic arccos block.\r\n */\r\nexport class FlowGraphAcoshBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicAcosh(a), FlowGraphBlockNames.Acosh, config);\r\n    }\r\n\r\n    private _polymorphicAcosh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.acosh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Acosh, FlowGraphAcoshBlock);\r\n\r\n/**\r\n * Hyperbolic arctan block.\r\n */\r\nexport class FlowGraphAtanhBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicAtanh(a), FlowGraphBlockNames.Atanh, config);\r\n    }\r\n\r\n    private _polymorphicAtanh(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.atanh);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Atanh, FlowGraphAtanhBlock);\r\n\r\n/**\r\n * Exponential block.\r\n */\r\nexport class FlowGraphExpBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicExp(a), FlowGraphBlockNames.Exponential, config);\r\n    }\r\n\r\n    private _polymorphicExp(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.exp);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Exponential, FlowGraphExpBlock);\r\n\r\n/**\r\n * Logarithm block.\r\n */\r\nexport class FlowGraphLogBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLog(a), FlowGraphBlockNames.Log, config);\r\n    }\r\n\r\n    private _polymorphicLog(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.log);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Log, FlowGraphLogBlock);\r\n\r\n/**\r\n * Base 2 logarithm block.\r\n */\r\nexport class FlowGraphLog2Block extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLog2(a), FlowGraphBlockNames.Log2, config);\r\n    }\r\n\r\n    private _polymorphicLog2(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.log2);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Log2, FlowGraphLog2Block);\r\n\r\n/**\r\n * Base 10 logarithm block.\r\n */\r\nexport class FlowGraphLog10Block extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLog10(a), FlowGraphBlockNames.Log10, config);\r\n    }\r\n\r\n    private _polymorphicLog10(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.log10);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.Log10, FlowGraphLog10Block);\r\n\r\n/**\r\n * Square root block.\r\n */\r\nexport class FlowGraphSquareRootBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicSqrt(a), FlowGraphBlockNames.SquareRoot, config);\r\n    }\r\n\r\n    private _polymorphicSqrt(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.sqrt);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.SquareRoot, FlowGraphSquareRootBlock);\r\n\r\n/**\r\n * Cube root block.\r\n */\r\nexport class FlowGraphCubeRootBlock extends FlowGraphUnaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicCubeRoot(a), FlowGraphBlockNames.CubeRoot, config);\r\n    }\r\n\r\n    private _polymorphicCubeRoot(a: FlowGraphMathOperationType) {\r\n        return ComponentWiseUnaryOperation(a, Math.cbrt);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.CubeRoot, FlowGraphCubeRootBlock);\r\n\r\n/**\r\n * Power block.\r\n */\r\nexport class FlowGraphPowerBlock extends FlowGraphBinaryOperationBlock<FlowGraphMathOperationType, FlowGraphMathOperationType, FlowGraphMathOperationType> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeAny, RichTypeNumber, RichTypeNumber, (a, b) => this._polymorphicPow(a, b), FlowGraphBlockNames.Power, config);\r\n    }\r\n\r\n    private _polymorphicPow(a: FlowGraphMathOperationType, b: FlowGraphMathOperationType) {\r\n        return ComponentWiseBinaryOperation(a, b, Math.pow);\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.Power, FlowGraphPowerBlock);\r\n\r\n/**\r\n * Configuration for bitwise operators\r\n */\r\nexport interface IFlowGraphBitwiseBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The type of the values that will be operated on\r\n     * Defaults to FlowGraphInteger, but can be a number or boolean as well.\r\n     */\r\n    valueType: FlowGraphTypes;\r\n}\r\n\r\ntype FlowGraphBitwiseTypes = FlowGraphInteger | FlowGraphNumber | boolean;\r\n/**\r\n * Bitwise NOT operation\r\n */\r\nexport class FlowGraphBitwiseNotBlock extends FlowGraphUnaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBitwiseBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a) => {\r\n                if (typeof a === \"boolean\") {\r\n                    return !a;\r\n                } else if (typeof a === \"number\") {\r\n                    return ~a;\r\n                }\r\n                return new FlowGraphInteger(~a.value);\r\n            },\r\n            FlowGraphBlockNames.BitwiseNot,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseNot, FlowGraphBitwiseNotBlock);\r\n\r\n/**\r\n * Bitwise AND operation\r\n */\r\nexport class FlowGraphBitwiseAndBlock extends FlowGraphBinaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBitwiseBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a, b) => {\r\n                if (typeof a === \"boolean\" && typeof b === \"boolean\") {\r\n                    return a && b;\r\n                } else if (typeof a === \"number\" && typeof b === \"number\") {\r\n                    return a & b;\r\n                } else if (typeof a === \"object\" && typeof b === \"object\") {\r\n                    return new FlowGraphInteger(a.value & b.value);\r\n                } else {\r\n                    throw new Error(`Cannot perform bitwise AND on ${a} and ${b}`);\r\n                }\r\n            },\r\n            FlowGraphBlockNames.BitwiseAnd,\r\n            config\r\n        );\r\n    }\r\n}\r\n\r\nRegisterClass(FlowGraphBlockNames.BitwiseAnd, FlowGraphBitwiseAndBlock);\r\n\r\n/**\r\n * Bitwise OR operation\r\n */\r\nexport class FlowGraphBitwiseOrBlock extends FlowGraphBinaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBitwiseBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a, b) => {\r\n                if (typeof a === \"boolean\" && typeof b === \"boolean\") {\r\n                    return a || b;\r\n                } else if (typeof a === \"number\" && typeof b === \"number\") {\r\n                    return a | b;\r\n                } else if (typeof a === \"object\" && typeof b === \"object\") {\r\n                    return new FlowGraphInteger(a.value | b.value);\r\n                } else {\r\n                    throw new Error(`Cannot perform bitwise OR on ${a} and ${b}`);\r\n                }\r\n            },\r\n            FlowGraphBlockNames.BitwiseOr,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseOr, FlowGraphBitwiseOrBlock);\r\n\r\n/**\r\n * Bitwise XOR operation\r\n */\r\nexport class FlowGraphBitwiseXorBlock extends FlowGraphBinaryOperationBlock<FlowGraphBitwiseTypes, FlowGraphBitwiseTypes, FlowGraphBitwiseTypes> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            getRichTypeByFlowGraphType(config?.valueType || FlowGraphTypes.Integer),\r\n            (a, b) => {\r\n                if (typeof a === \"boolean\" && typeof b === \"boolean\") {\r\n                    return a !== b;\r\n                } else if (typeof a === \"number\" && typeof b === \"number\") {\r\n                    return a ^ b;\r\n                } else if (typeof a === \"object\" && typeof b === \"object\") {\r\n                    return new FlowGraphInteger(a.value ^ b.value);\r\n                } else {\r\n                    throw new Error(`Cannot perform bitwise XOR on ${a} and ${b}`);\r\n                }\r\n            },\r\n            FlowGraphBlockNames.BitwiseXor,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseXor, FlowGraphBitwiseXorBlock);\r\n\r\n/**\r\n * Bitwise left shift operation\r\n */\r\nexport class FlowGraphBitwiseLeftShiftBlock extends FlowGraphBinaryOperationBlock<FlowGraphInteger, FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            (a, b) => new FlowGraphInteger(a.value << b.value),\r\n            FlowGraphBlockNames.BitwiseLeftShift,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseLeftShift, FlowGraphBitwiseLeftShiftBlock);\r\n\r\n/**\r\n * Bitwise right shift operation\r\n */\r\nexport class FlowGraphBitwiseRightShiftBlock extends FlowGraphBinaryOperationBlock<FlowGraphInteger, FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            (a, b) => new FlowGraphInteger(a.value >> b.value),\r\n            FlowGraphBlockNames.BitwiseRightShift,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.BitwiseRightShift, FlowGraphBitwiseRightShiftBlock);\r\n\r\n/**\r\n * Count leading zeros operation\r\n */\r\nexport class FlowGraphLeadingZerosBlock extends FlowGraphUnaryOperationBlock<FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeFlowGraphInteger, RichTypeFlowGraphInteger, (a) => new FlowGraphInteger(Math.clz32(a.value)), FlowGraphBlockNames.LeadingZeros, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.LeadingZeros, FlowGraphLeadingZerosBlock);\r\n\r\n/**\r\n * Count trailing zeros operation\r\n */\r\nexport class FlowGraphTrailingZerosBlock extends FlowGraphUnaryOperationBlock<FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(\r\n            RichTypeFlowGraphInteger,\r\n            RichTypeFlowGraphInteger,\r\n            (a) => new FlowGraphInteger(a.value ? 31 - Math.clz32(a.value & -a.value) : 32),\r\n            FlowGraphBlockNames.TrailingZeros,\r\n            config\r\n        );\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.TrailingZeros, FlowGraphTrailingZerosBlock);\r\n\r\n/**\r\n * Given a number (which is converted to a 32-bit integer), return the\r\n * number of bits set to one on that number.\r\n * @param n the number to run the op on\r\n * @returns the number of bits set to one on that number\r\n */\r\nfunction CountOnes(n: number) {\r\n    let result = 0;\r\n    while (n) {\r\n        // This zeroes out all bits except for the least significant one.\r\n        // So if the bit is set, it will be 1, otherwise it will be 0.\r\n        result += n & 1;\r\n        // This shifts n's bits to the right by one\r\n        n >>= 1;\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * Count one bits operation\r\n */\r\nexport class FlowGraphOneBitsCounterBlock extends FlowGraphUnaryOperationBlock<FlowGraphInteger, FlowGraphInteger> {\r\n    constructor(config?: IFlowGraphBlockConfiguration) {\r\n        super(RichTypeFlowGraphInteger, RichTypeFlowGraphInteger, (a) => new FlowGraphInteger(CountOnes(a.value)), FlowGraphBlockNames.OneBitsCounter, config);\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.OneBitsCounter, FlowGraphOneBitsCounterBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6384, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Math/flowGraphMathCombineExtractBlocks.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Math/flowGraphMathCombineExtractBlocks.ts"],"sourcesContent":["import type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport { FlowGraphCachedOperationBlock } from \"../flowGraphCachedOperationBlock\";\nimport {\n    RichTypeMatrix,\n    RichTypeMatrix2D,\n    RichTypeMatrix3D,\n    RichTypeNumber,\n    RichTypeVector2,\n    RichTypeVector3,\n    RichTypeVector4,\n    type RichType,\n} from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlock, type IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { Matrix, Vector2, Vector3, Vector4 } from \"core/Maths/math.vector\";\nimport type { Nullable } from \"core/types\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"core/FlowGraph/CustomTypes/flowGraphMatrix\";\n\nabstract class FlowGraphMathCombineBlock<ResultT> extends FlowGraphCachedOperationBlock<ResultT> {\n    /**\n     * Base class for blocks that combine multiple numeric inputs into a single result.\n     * Handles registering data inputs and managing cached outputs.\n     * @param numberOfInputs The number of input values to combine.\n     * @param type The type of the result.\n     * @param config The block configuration.\n     */\n    constructor(numberOfInputs: number, type: RichType<ResultT>, config?: IFlowGraphBlockConfiguration) {\n        super(type, config);\n        for (let i = 0; i < numberOfInputs; i++) {\n            this.registerDataInput(`input_${i}`, RichTypeNumber, 0);\n        }\n    }\n}\n\n/**\n * Abstract class representing a flow graph block that extracts multiple outputs from a single input.\n */\nabstract class FlowGraphMathExtractBlock<InputT> extends FlowGraphBlock {\n    /**\n     * Creates an instance of FlowGraphMathExtractBlock.\n     *\n     * @param numberOfOutputs - The number of outputs to be extracted from the input.\n     * @param type - The type of the input data.\n     * @param config - Optional configuration for the flow graph block.\n     */\n    constructor(numberOfOutputs: number, type: RichType<InputT>, config?: IFlowGraphBlockConfiguration) {\n        super(config);\n        this.registerDataInput(\"input\", type);\n        for (let i = 0; i < numberOfOutputs; i++) {\n            this.registerDataOutput(`output_${i}`, RichTypeNumber, 0);\n        }\n    }\n}\n/**\n * Combines two floats into a new Vector2\n */\nexport class FlowGraphCombineVector2Block extends FlowGraphMathCombineBlock<Vector2> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(2, RichTypeVector2, config);\n    }\n\n    /**\n     * @internal\n     * Combines two floats into a new Vector2\n     */\n    public override _doOperation(context: FlowGraphContext): Vector2 {\n        if (!context._hasExecutionVariable(this, \"cachedVector\")) {\n            context._setExecutionVariable(this, \"cachedVector\", new Vector2());\n        }\n        const vector = context._getExecutionVariable<Nullable<Vector2>>(this, \"cachedVector\", null) as Vector2;\n        vector.set(this.getDataInput(\"input_0\")!.getValue(context), this.getDataInput(\"input_1\")!.getValue(context));\n        return vector;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CombineVector2;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CombineVector2, FlowGraphCombineVector2Block);\n\n/**\n * Combines three floats into a new Vector3\n */\nexport class FlowGraphCombineVector3Block extends FlowGraphMathCombineBlock<Vector3> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(3, RichTypeVector3, config);\n    }\n\n    public override _doOperation(context: FlowGraphContext): Vector3 {\n        if (!context._hasExecutionVariable(this, \"cachedVector\")) {\n            context._setExecutionVariable(this, \"cachedVector\", new Vector3());\n        }\n        const vector = context._getExecutionVariable<Nullable<Vector3>>(this, \"cachedVector\", null) as Vector3;\n        vector.set(this.getDataInput(\"input_0\")!.getValue(context), this.getDataInput(\"input_1\")!.getValue(context), this.getDataInput(\"input_2\")!.getValue(context));\n        return vector;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CombineVector3;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CombineVector3, FlowGraphCombineVector3Block);\n\n/**\n * Combines four floats into a new Vector4\n */\nexport class FlowGraphCombineVector4Block extends FlowGraphMathCombineBlock<Vector4> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(4, RichTypeVector4, config);\n    }\n\n    public override _doOperation(context: FlowGraphContext): Vector4 {\n        if (!context._hasExecutionVariable(this, \"cachedVector\")) {\n            context._setExecutionVariable(this, \"cachedVector\", new Vector4());\n        }\n        const vector = context._getExecutionVariable<Nullable<Vector4>>(this, \"cachedVector\", null) as Vector4;\n        vector.set(\n            this.getDataInput(\"input_0\")!.getValue(context),\n            this.getDataInput(\"input_1\")!.getValue(context),\n            this.getDataInput(\"input_2\")!.getValue(context),\n            this.getDataInput(\"input_3\")!.getValue(context)\n        );\n        return vector;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CombineVector4;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CombineVector4, FlowGraphCombineVector4Block);\n\n/**\n * Configuration for the matrix combine blocks.\n */\nexport interface IFlowGraphCombineMatrixBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * Whether the input is in column-major order. Default is false.\n     * Note - Babylon's matrix is the same as WebGL's. So unless your matrix requires transformation, you should leave this as false.\n     */\n    inputIsColumnMajor?: boolean;\n}\n\n/**\n * Combines 16 floats into a new Matrix\n *\n * Note that glTF interactivity's combine4x4 uses column-major order, while Babylon.js uses row-major order.\n */\nexport class FlowGraphCombineMatrixBlock extends FlowGraphMathCombineBlock<Matrix> {\n    constructor(config?: IFlowGraphCombineMatrixBlockConfiguration) {\n        super(16, RichTypeMatrix, config);\n    }\n\n    public override _doOperation(context: FlowGraphContext): Matrix {\n        if (!context._hasExecutionVariable(this, \"cachedMatrix\")) {\n            context._setExecutionVariable(this, \"cachedMatrix\", new Matrix());\n        }\n        const matrix = context._getExecutionVariable<Nullable<Matrix>>(this, \"cachedMatrix\", null) as Matrix;\n        if (this.config?.inputIsColumnMajor) {\n            matrix.set(\n                this.getDataInput(\"input_0\")!.getValue(context),\n                this.getDataInput(\"input_4\")!.getValue(context),\n                this.getDataInput(\"input_8\")!.getValue(context),\n                this.getDataInput(\"input_12\")!.getValue(context),\n                this.getDataInput(\"input_1\")!.getValue(context),\n                this.getDataInput(\"input_5\")!.getValue(context),\n                this.getDataInput(\"input_9\")!.getValue(context),\n                this.getDataInput(\"input_13\")!.getValue(context),\n                this.getDataInput(\"input_2\")!.getValue(context),\n                this.getDataInput(\"input_6\")!.getValue(context),\n                this.getDataInput(\"input_10\")!.getValue(context),\n                this.getDataInput(\"input_14\")!.getValue(context),\n                this.getDataInput(\"input_3\")!.getValue(context),\n                this.getDataInput(\"input_7\")!.getValue(context),\n                this.getDataInput(\"input_11\")!.getValue(context),\n                this.getDataInput(\"input_15\")!.getValue(context)\n            );\n        } else {\n            matrix.set(\n                this.getDataInput(\"input_0\")!.getValue(context),\n                this.getDataInput(\"input_1\")!.getValue(context),\n                this.getDataInput(\"input_2\")!.getValue(context),\n                this.getDataInput(\"input_3\")!.getValue(context),\n                this.getDataInput(\"input_4\")!.getValue(context),\n                this.getDataInput(\"input_5\")!.getValue(context),\n                this.getDataInput(\"input_6\")!.getValue(context),\n                this.getDataInput(\"input_7\")!.getValue(context),\n                this.getDataInput(\"input_8\")!.getValue(context),\n                this.getDataInput(\"input_9\")!.getValue(context),\n                this.getDataInput(\"input_10\")!.getValue(context),\n                this.getDataInput(\"input_11\")!.getValue(context),\n                this.getDataInput(\"input_12\")!.getValue(context),\n                this.getDataInput(\"input_13\")!.getValue(context),\n                this.getDataInput(\"input_14\")!.getValue(context),\n                this.getDataInput(\"input_15\")!.getValue(context)\n            );\n        }\n        return matrix;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CombineMatrix;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CombineMatrix, FlowGraphCombineMatrixBlock);\n\n/**\n * Combines 4 floats into a new Matrix\n */\nexport class FlowGraphCombineMatrix2DBlock extends FlowGraphMathCombineBlock<FlowGraphMatrix2D> {\n    constructor(config?: IFlowGraphCombineMatrixBlockConfiguration) {\n        super(4, RichTypeMatrix2D, config);\n    }\n\n    public override _doOperation(context: FlowGraphContext): FlowGraphMatrix2D {\n        if (!context._hasExecutionVariable(this, \"cachedMatrix\")) {\n            context._setExecutionVariable(this, \"cachedMatrix\", new FlowGraphMatrix2D());\n        }\n        const matrix = context._getExecutionVariable<Nullable<FlowGraphMatrix2D>>(this, \"cachedMatrix\", null) as FlowGraphMatrix2D;\n        const array = this.config?.inputIsColumnMajor\n            ? [\n                  // column to row-major\n                  this.getDataInput(\"input_0\")!.getValue(context),\n                  this.getDataInput(\"input_2\")!.getValue(context),\n                  this.getDataInput(\"input_1\")!.getValue(context),\n                  this.getDataInput(\"input_3\")!.getValue(context),\n              ]\n            : [\n                  this.getDataInput(\"input_0\")!.getValue(context),\n                  this.getDataInput(\"input_1\")!.getValue(context),\n                  this.getDataInput(\"input_2\")!.getValue(context),\n                  this.getDataInput(\"input_3\")!.getValue(context),\n              ];\n        matrix.fromArray(array);\n        return matrix;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CombineMatrix2D;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CombineMatrix2D, FlowGraphCombineMatrix2DBlock);\n\n/**\n * Combines 9 floats into a new Matrix3D\n */\nexport class FlowGraphCombineMatrix3DBlock extends FlowGraphMathCombineBlock<FlowGraphMatrix3D> {\n    constructor(config?: IFlowGraphCombineMatrixBlockConfiguration) {\n        super(9, RichTypeMatrix3D, config);\n    }\n\n    public override _doOperation(context: FlowGraphContext): FlowGraphMatrix3D {\n        if (!context._hasExecutionVariable(this, \"cachedMatrix\")) {\n            context._setExecutionVariable(this, \"cachedMatrix\", new FlowGraphMatrix3D());\n        }\n        const matrix = context._getExecutionVariable<Nullable<FlowGraphMatrix3D>>(this, \"cachedMatrix\", null) as FlowGraphMatrix3D;\n        const array = this.config?.inputIsColumnMajor\n            ? [\n                  // column to row major\n                  this.getDataInput(\"input_0\")!.getValue(context),\n                  this.getDataInput(\"input_3\")!.getValue(context),\n                  this.getDataInput(\"input_6\")!.getValue(context),\n                  this.getDataInput(\"input_1\")!.getValue(context),\n                  this.getDataInput(\"input_4\")!.getValue(context),\n                  this.getDataInput(\"input_7\")!.getValue(context),\n                  this.getDataInput(\"input_2\")!.getValue(context),\n                  this.getDataInput(\"input_5\")!.getValue(context),\n                  this.getDataInput(\"input_8\")!.getValue(context),\n              ]\n            : [\n                  this.getDataInput(\"input_0\")!.getValue(context),\n                  this.getDataInput(\"input_1\")!.getValue(context),\n                  this.getDataInput(\"input_2\")!.getValue(context),\n                  this.getDataInput(\"input_3\")!.getValue(context),\n                  this.getDataInput(\"input_4\")!.getValue(context),\n                  this.getDataInput(\"input_5\")!.getValue(context),\n                  this.getDataInput(\"input_6\")!.getValue(context),\n                  this.getDataInput(\"input_7\")!.getValue(context),\n                  this.getDataInput(\"input_8\")!.getValue(context),\n              ];\n        matrix.fromArray(array);\n        return matrix;\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CombineMatrix3D;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.CombineMatrix3D, FlowGraphCombineMatrix3DBlock);\n\n/**\n * Extracts two floats from a Vector2\n */\nexport class FlowGraphExtractVector2Block extends FlowGraphMathExtractBlock<Vector2> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(2, RichTypeVector2, config);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext): void {\n        let input = this.getDataInput(\"input\")?.getValue(context) as Vector2;\n        if (!input) {\n            input = Vector2.Zero();\n            this.getDataInput(\"input\")!.setValue(input, context);\n        }\n        this.getDataOutput(\"output_0\")!.setValue(input.x, context);\n        this.getDataOutput(\"output_1\")!.setValue(input.y, context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ExtractVector2;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ExtractVector2, FlowGraphExtractVector2Block);\n\n/**\n * Extracts three floats from a Vector3\n */\nexport class FlowGraphExtractVector3Block extends FlowGraphMathExtractBlock<Vector3> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(3, RichTypeVector3, config);\n    }\n    public override _updateOutputs(context: FlowGraphContext): void {\n        let input = this.getDataInput(\"input\")?.getValue(context) as Vector3;\n        if (!input) {\n            input = Vector3.Zero();\n            this.getDataInput(\"input\")!.setValue(input, context);\n        }\n        this.getDataOutput(\"output_0\")!.setValue(input.x, context);\n        this.getDataOutput(\"output_1\")!.setValue(input.y, context);\n        this.getDataOutput(\"output_2\")!.setValue(input.z, context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ExtractVector3;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ExtractVector3, FlowGraphExtractVector3Block);\n\n/**\n * Extracts four floats from a Vector4\n */\nexport class FlowGraphExtractVector4Block extends FlowGraphMathExtractBlock<Vector4> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(4, RichTypeVector4, config);\n    }\n    public override _updateOutputs(context: FlowGraphContext): void {\n        let input = this.getDataInput(\"input\")?.getValue(context) as Vector4;\n        if (!input) {\n            input = Vector4.Zero();\n            this.getDataInput(\"input\")!.setValue(input, context);\n        }\n        this.getDataOutput(\"output_0\")!.setValue(input.x, context);\n        this.getDataOutput(\"output_1\")!.setValue(input.y, context);\n        this.getDataOutput(\"output_2\")!.setValue(input.z, context);\n        this.getDataOutput(\"output_3\")!.setValue(input.w, context);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ExtractVector4;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ExtractVector4, FlowGraphExtractVector4Block);\n\n/**\n * Extracts 16 floats from a Matrix\n */\nexport class FlowGraphExtractMatrixBlock extends FlowGraphMathExtractBlock<Matrix> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(16, RichTypeMatrix, config);\n    }\n    public override _updateOutputs(context: FlowGraphContext): void {\n        let input = this.getDataInput(\"input\")?.getValue(context) as Matrix;\n        if (!input) {\n            input = Matrix.Identity();\n            this.getDataInput(\"input\")!.setValue(input, context);\n        }\n        for (let i = 0; i < 16; i++) {\n            this.getDataOutput(`output_${i}`)!.setValue(input.m[i], context);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ExtractMatrix;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ExtractMatrix, FlowGraphExtractMatrixBlock);\n\n/**\n * Extracts 4 floats from a Matrix2D\n */\nexport class FlowGraphExtractMatrix2DBlock extends FlowGraphMathExtractBlock<FlowGraphMatrix2D> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(4, RichTypeMatrix2D, config);\n    }\n    public override _updateOutputs(context: FlowGraphContext): void {\n        let input = this.getDataInput(\"input\")?.getValue(context) as FlowGraphMatrix2D;\n        if (!input) {\n            input = new FlowGraphMatrix2D();\n            this.getDataInput(\"input\")!.setValue(input, context);\n        }\n        for (let i = 0; i < 4; i++) {\n            this.getDataOutput(`output_${i}`)!.setValue(input.m[i], context);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ExtractMatrix2D;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ExtractMatrix2D, FlowGraphExtractMatrix2DBlock);\n\n/**\n * Extracts 4 floats from a Matrix2D\n */\nexport class FlowGraphExtractMatrix3DBlock extends FlowGraphMathExtractBlock<FlowGraphMatrix3D> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(9, RichTypeMatrix3D, config);\n    }\n    public override _updateOutputs(context: FlowGraphContext): void {\n        let input = this.getDataInput(\"input\")?.getValue(context) as FlowGraphMatrix3D;\n        if (!input) {\n            input = new FlowGraphMatrix3D();\n            this.getDataInput(\"input\")!.setValue(input, context);\n        }\n        for (let i = 0; i < 9; i++) {\n            this.getDataOutput(`output_${i}`)!.setValue(input.m[i], context);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ExtractMatrix3D;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ExtractMatrix3D, FlowGraphExtractMatrix3DBlock);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA,OAAO,EAAE,6BAA6B,EAAE,MAAM,kCAAkC,CAAC;AACjF,OAAO,EACH,cAAc,EACd,gBAAgB,EAChB,gBAAgB,EAChB,cAAc,EACd,eAAe,EACf,eAAe,EACf,eAAe,GAElB,uCAA0C;AAC3C,OAAO,EAAE,cAAc,EAAqC,mCAAsC;AAClG,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,yCAA+B;AAG3E,OAAO,EAAE,aAAa,EAAE,sCAA4B;AACpD,OAAO,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,gDAAmD;;;;;;;AAElG,MAAe,yBAAmC,SAAQ,wSAAsC;IAC5F;;;;;;OAMG,CACH,YAAY,cAAsB,EAAE,IAAuB,EAAE,MAAqC,CAAA;QAC9F,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACpB,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,CAAC,EAAE,CAAE,CAAC;YACtC,IAAI,CAAC,iBAAiB,CAAC,CAAA,MAAA,EAAS,CAAC,EAAE,EAAE,4PAAc,EAAE,CAAC,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;CACJ;AAED;;GAEG,CACH,MAAe,yBAAkC,SAAQ,wPAAc;IACnE;;;;;;OAMG,CACH,YAAY,eAAuB,EAAE,IAAsB,EAAE,MAAqC,CAAA;QAC9F,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACtC,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,eAAe,EAAE,CAAC,EAAE,CAAE,CAAC;YACvC,IAAI,CAAC,kBAAkB,CAAC,CAAA,OAAA,EAAU,CAAC,EAAE,EAAE,4PAAc,EAAE,CAAC,CAAC,CAAC;QAC9D,CAAC;IACL,CAAC;CACJ;AAIK,MAAO,4BAA6B,SAAQ,yBAAkC;IAChF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,6PAAe,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAED;;;OAGG,CACa,YAAY,CAAC,OAAyB,EAAA;QAClD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;YACvD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,6OAAO,EAAE,CAAC,CAAC;QACvE,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,CAAoB,IAAI,EAAE,cAAc,EAAE,IAAI,CAAY,CAAC;QACvG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QAC7G,OAAO,MAAM,CAAC;IAClB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IAED,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC;AAK1E,MAAO,4BAA6B,SAAQ,yBAAkC;IAChF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,6PAAe,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAEe,YAAY,CAAC,OAAyB,EAAA;QAClD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;YACvD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,6OAAO,EAAE,CAAC,CAAC;QACvE,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,CAAoB,IAAI,EAAE,cAAc,EAAE,IAAI,CAAY,CAAC;QACvG,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QAC9J,OAAO,MAAM,CAAC;IAClB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IAED,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC;AAK1E,MAAO,4BAA6B,SAAQ,yBAAkC;IAChF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,6PAAe,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAEe,YAAY,CAAC,OAAyB,EAAA;QAClD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;YACvD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,6OAAO,EAAE,CAAC,CAAC;QACvE,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,CAAoB,IAAI,EAAE,cAAc,EAAE,IAAI,CAAY,CAAC;QACvG,MAAM,CAAC,GAAG,CACN,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAClD,CAAC;QACF,OAAO,MAAM,CAAC;IAClB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IAED,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC;AAkB1E,MAAO,2BAA4B,SAAQ,yBAAiC;IAC9E,YAAY,MAAkD,CAAA;QAC1D,KAAK,CAAC,EAAE,EAAE,4PAAc,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAEe,YAAY,CAAC,OAAyB,EAAA;QAClD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;YACvD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,4OAAM,EAAE,CAAC,CAAC;QACtE,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,CAAmB,IAAI,EAAE,cAAc,EAAE,IAAI,CAAW,CAAC;QACrG,IAAI,IAAI,CAAC,MAAM,EAAE,kBAAkB,EAAE,CAAC;YAClC,MAAM,CAAC,GAAG,CACN,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CACnD,CAAC;QACN,CAAC,MAAM,CAAC;YACJ,MAAM,CAAC,GAAG,CACN,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAC/C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,EAChD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CACnD,CAAC;QACN,CAAC;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,8BAAA,qCAAA,GAAyC;IAC7C,CAAC;CACJ;IAED,6OAAa,EAAA,8BAAA,qCAAA,KAAoC,2BAA2B,CAAC,CAAC;AAKxE,MAAO,6BAA8B,SAAQ,yBAA4C;IAC3F,YAAY,MAAkD,CAAA;QAC1D,KAAK,CAAC,CAAC,EAAE,8PAAgB,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IAEe,YAAY,CAAC,OAAyB,EAAA;QAClD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;YACvD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,2QAAiB,EAAE,CAAC,CAAC;QACjF,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,CAA8B,IAAI,EAAE,cAAc,EAAE,IAAI,CAAsB,CAAC;QAC3H,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,kBAAkB,GACvC;YACI,sBAAsB;YACtB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;SAClD,GACD;YACI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;SAClD,CAAC;QACR,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACxB,OAAO,MAAM,CAAC;IAClB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,gCAAA,uCAAA,GAA2C;IAC/C,CAAC;CACJ;IAED,6OAAa,EAAA,gCAAA,uCAAA,KAAsC,6BAA6B,CAAC,CAAC;AAK5E,MAAO,6BAA8B,SAAQ,yBAA4C;IAC3F,YAAY,MAAkD,CAAA;QAC1D,KAAK,CAAC,CAAC,EAAE,8PAAgB,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IAEe,YAAY,CAAC,OAAyB,EAAA;QAClD,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC;YACvD,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,2QAAiB,EAAE,CAAC,CAAC;QACjF,CAAC;QACD,MAAM,MAAM,GAAG,OAAO,CAAC,qBAAqB,CAA8B,IAAI,EAAE,cAAc,EAAE,IAAI,CAAsB,CAAC;QAC3H,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,kBAAkB,GACvC;YACI,sBAAsB;YACtB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;SAClD,GACD;YACI,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAC,OAAO,CAAC;SAClD,CAAC;QACR,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACxB,OAAO,MAAM,CAAC;IAClB,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,gCAAA,uCAAA,GAA2C;IAC/C,CAAC;CACJ;IAED,6OAAa,EAAA,gCAAA,uCAAA,KAAsC,6BAA6B,CAAC,CAAC;AAK5E,MAAO,4BAA6B,SAAQ,yBAAkC;IAChF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,6PAAe,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAY,CAAC;QACrE,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,KAAK,GAAG,6OAAO,CAAC,IAAI,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAC/D,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IAED,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC;AAK1E,MAAO,4BAA6B,SAAQ,yBAAkC;IAChF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,6PAAe,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IACe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAY,CAAC;QACrE,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,KAAK,GAAG,6OAAO,CAAC,IAAI,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAC/D,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IAED,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC;AAK1E,MAAO,4BAA6B,SAAQ,yBAAkC;IAChF,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,6PAAe,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IACe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAY,CAAC;QACrE,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,KAAK,GAAG,6OAAO,CAAC,IAAI,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC3D,IAAI,CAAC,aAAa,CAAC,UAAU,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IAC/D,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IAED,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC;AAK1E,MAAO,2BAA4B,SAAQ,yBAAiC;IAC9E,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,EAAE,EAAE,4PAAc,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IACe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAW,CAAC;QACpE,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,KAAK,GAAG,4OAAM,CAAC,QAAQ,EAAE,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,CAAA,OAAA,EAAU,CAAC,EAAE,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACrE,CAAC;IACL,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,8BAAA,qCAAA,GAAyC;IAC7C,CAAC;CACJ;IAED,6OAAa,EAAA,8BAAA,qCAAA,KAAoC,2BAA2B,CAAC,CAAC;AAKxE,MAAO,6BAA8B,SAAQ,yBAA4C;IAC3F,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,8PAAgB,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IACe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAsB,CAAC;QAC/E,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,KAAK,GAAG,IAAI,2QAAiB,EAAE,CAAC;YAChC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,CAAA,OAAA,EAAU,CAAC,EAAE,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACrE,CAAC;IACL,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,gCAAA,uCAAA,GAA2C;IAC/C,CAAC;CACJ;IAED,6OAAa,EAAA,gCAAA,uCAAA,KAAsC,6BAA6B,CAAC,CAAC;AAK5E,MAAO,6BAA8B,SAAQ,yBAA4C;IAC3F,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,CAAC,EAAE,8PAAgB,EAAE,MAAM,CAAC,CAAC;IACvC,CAAC;IACe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAsB,CAAC;QAC/E,IAAI,CAAC,KAAK,EAAE,CAAC;YACT,KAAK,GAAG,IAAI,2QAAiB,EAAE,CAAC;YAChC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACzD,CAAC;QACD,IAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAE,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,CAAA,OAAA,EAAU,CAAC,EAAE,CAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACrE,CAAC;IACL,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,gCAAA,uCAAA,GAA2C;IAC/C,CAAC;CACJ;IAED,6OAAa,EAAA,gCAAA,uCAAA,KAAsC,6BAA6B,CAAC,CAAC"}},
    {"offset": {"line": 6714, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Math/flowGraphMatrixMathBlocks.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Math/flowGraphMatrixMathBlocks.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport {\n    FlowGraphTypes,\n    getRichTypeByFlowGraphType,\n    RichTypeBoolean,\n    RichTypeMatrix,\n    RichTypeNumber,\n    RichTypeQuaternion,\n    RichTypeVector3,\n} from \"core/FlowGraph/flowGraphRichTypes\";\nimport { Matrix, Quaternion, Vector3 } from \"core/Maths/math.vector\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphUnaryOperationBlock } from \"../flowGraphUnaryOperationBlock\";\nimport type { FlowGraphMatrix2D } from \"core/FlowGraph/CustomTypes/flowGraphMatrix\";\nimport { FlowGraphBinaryOperationBlock } from \"../flowGraphBinaryOperationBlock\";\nimport type { FlowGraphMatrix } from \"core/FlowGraph/utils\";\n\n/**\n * Configuration for the matrix blocks.\n */\nexport interface IFlowGraphMatrixBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * The type of the matrix. Default is Matrix (which is 4x4)\n     */\n    matrixType: FlowGraphTypes;\n}\n/**\n * Transposes a matrix.\n */\nexport class FlowGraphTransposeBlock extends FlowGraphUnaryOperationBlock<FlowGraphMatrix, FlowGraphMatrix> {\n    /**\n     * Creates a new instance of the block.\n     * @param config the configuration of the block\n     */\n    constructor(config?: IFlowGraphMatrixBlockConfiguration) {\n        super(\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            (a) => (a.transpose ? a.transpose() : Matrix.Transpose(a as Matrix)),\n            FlowGraphBlockNames.Transpose,\n            config\n        );\n    }\n}\nRegisterClass(FlowGraphBlockNames.Transpose, FlowGraphTransposeBlock);\n\n/**\n * Gets the determinant of a matrix.\n */\nexport class FlowGraphDeterminantBlock extends FlowGraphUnaryOperationBlock<FlowGraphMatrix, number> {\n    /**\n     * Creates a new instance of the block.\n     * @param config the configuration of the block\n     */\n    constructor(config?: IFlowGraphMatrixBlockConfiguration) {\n        super(getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix), RichTypeNumber, (a) => a.determinant(), FlowGraphBlockNames.Determinant, config);\n    }\n}\nRegisterClass(FlowGraphBlockNames.Determinant, FlowGraphDeterminantBlock);\n\n/**\n * Inverts a matrix.\n */\nexport class FlowGraphInvertMatrixBlock extends FlowGraphUnaryOperationBlock<FlowGraphMatrix, FlowGraphMatrix> {\n    /**\n     * Creates a new instance of the inverse block.\n     * @param config the configuration of the block\n     */\n    constructor(config?: IFlowGraphMatrixBlockConfiguration) {\n        super(\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            (a) => ((a as FlowGraphMatrix2D).inverse ? (a as FlowGraphMatrix2D).inverse() : Matrix.Invert(a as Matrix)),\n            FlowGraphBlockNames.InvertMatrix,\n            config\n        );\n    }\n}\nRegisterClass(FlowGraphBlockNames.InvertMatrix, FlowGraphInvertMatrixBlock);\n\n/**\n * Multiplies two matrices.\n */\nexport class FlowGraphMatrixMultiplicationBlock extends FlowGraphBinaryOperationBlock<FlowGraphMatrix, FlowGraphMatrix, FlowGraphMatrix> {\n    /**\n     * Creates a new instance of the multiplication block.\n     * Note - this is similar to the math multiplication if not using matrix per-component multiplication.\n     * @param config the configuration of the block\n     */\n    constructor(config?: IFlowGraphMatrixBlockConfiguration) {\n        super(\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            getRichTypeByFlowGraphType(config?.matrixType || FlowGraphTypes.Matrix),\n            (a, b) => b.multiply(a as any),\n            FlowGraphBlockNames.MatrixMultiplication,\n            config\n        );\n    }\n}\nRegisterClass(FlowGraphBlockNames.MatrixMultiplication, FlowGraphMatrixMultiplicationBlock);\n\n/**\n * Matrix decompose block\n */\nexport class FlowGraphMatrixDecomposeBlock extends FlowGraphBlock {\n    /**\n     * The input of this block\n     */\n    public readonly input: FlowGraphDataConnection<Matrix>;\n\n    /**\n     * The position output of this block\n     */\n    public readonly position: FlowGraphDataConnection<Vector3>;\n    /**\n     * The rotation output of this block\n     */\n    public readonly rotationQuaternion: FlowGraphDataConnection<Quaternion>;\n    /**\n     * The scaling output of this block\n     */\n    public readonly scaling: FlowGraphDataConnection<Vector3>;\n\n    /**\n     * Is the matrix valid\n     */\n    public readonly isValid: FlowGraphDataConnection<boolean>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n        this.input = this.registerDataInput(\"input\", RichTypeMatrix);\n        this.position = this.registerDataOutput(\"position\", RichTypeVector3);\n        this.rotationQuaternion = this.registerDataOutput(\"rotationQuaternion\", RichTypeQuaternion);\n        this.scaling = this.registerDataOutput(\"scaling\", RichTypeVector3);\n        this.isValid = this.registerDataOutput(\"isValid\", RichTypeBoolean, false);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext) {\n        const cachedExecutionId = context._getExecutionVariable(this, \"executionId\", -1);\n        const cachedPosition = context._getExecutionVariable(this, \"cachedPosition\", null);\n        const cachedRotation = context._getExecutionVariable(this, \"cachedRotation\", null);\n        const cachedScaling = context._getExecutionVariable(this, \"cachedScaling\", null);\n        if (cachedExecutionId === context.executionId && cachedPosition && cachedRotation && cachedScaling) {\n            this.position.setValue(cachedPosition, context);\n            this.rotationQuaternion.setValue(cachedRotation, context);\n            this.scaling.setValue(cachedScaling, context);\n        } else {\n            const matrix = this.input.getValue(context);\n            const position = cachedPosition || new Vector3();\n            const rotation = cachedRotation || new Quaternion();\n            const scaling = cachedScaling || new Vector3();\n            // check matrix last column components should be 0,0,0,1\n            // round them to 4 decimal places\n            const m3 = Math.round(matrix.m[3] * 10000) / 10000;\n            const m7 = Math.round(matrix.m[7] * 10000) / 10000;\n            const m11 = Math.round(matrix.m[11] * 10000) / 10000;\n            const m15 = Math.round(matrix.m[15] * 10000) / 10000;\n            if (m3 !== 0 || m7 !== 0 || m11 !== 0 || m15 !== 1) {\n                this.isValid.setValue(false, context);\n                this.position.setValue(Vector3.Zero(), context);\n                this.rotationQuaternion.setValue(Quaternion.Identity(), context);\n                this.scaling.setValue(Vector3.One(), context);\n                return;\n            }\n            // make the checks for validity\n            const valid = matrix.decompose(scaling, rotation, position);\n            this.isValid.setValue(valid, context);\n            this.position.setValue(position, context);\n            this.rotationQuaternion.setValue(rotation, context);\n            this.scaling.setValue(scaling, context);\n            context._setExecutionVariable(this, \"cachedPosition\", position);\n            context._setExecutionVariable(this, \"cachedRotation\", rotation);\n            context._setExecutionVariable(this, \"cachedScaling\", scaling);\n            context._setExecutionVariable(this, \"executionId\", context.executionId);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.MatrixDecompose;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.MatrixDecompose, FlowGraphMatrixDecomposeBlock);\n\n/**\n * Matrix compose block\n */\nexport class FlowGraphMatrixComposeBlock extends FlowGraphBlock {\n    /**\n     * The position input of this block\n     */\n    public readonly position: FlowGraphDataConnection<Vector3>;\n    /**\n     * The rotation input of this block\n     */\n    public readonly rotationQuaternion: FlowGraphDataConnection<Quaternion>;\n    /**\n     * The scaling input of this block\n     */\n    public readonly scaling: FlowGraphDataConnection<Vector3>;\n    /**\n     * The output of this block\n     */\n    public readonly value: FlowGraphDataConnection<Matrix>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n        this.position = this.registerDataInput(\"position\", RichTypeVector3);\n        this.rotationQuaternion = this.registerDataInput(\"rotationQuaternion\", RichTypeQuaternion);\n        this.scaling = this.registerDataInput(\"scaling\", RichTypeVector3);\n        this.value = this.registerDataOutput(\"value\", RichTypeMatrix);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext) {\n        const cachedExecutionId = context._getExecutionVariable(this, \"executionId\", -1);\n        const cachedMatrix = context._getExecutionVariable(this, \"cachedMatrix\", null);\n        if (cachedExecutionId === context.executionId && cachedMatrix) {\n            this.value.setValue(cachedMatrix, context);\n        } else {\n            const matrix = Matrix.Compose(this.scaling.getValue(context), this.rotationQuaternion.getValue(context), this.position.getValue(context));\n            this.value.setValue(matrix, context);\n            context._setExecutionVariable(this, \"cachedMatrix\", matrix);\n            context._setExecutionVariable(this, \"executionId\", context.executionId);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.MatrixCompose;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.MatrixCompose, FlowGraphMatrixComposeBlock);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6859, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/flowGraphMath.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/flowGraphMath.ts"],"sourcesContent":["import type { IQuaternionLike } from \"../Maths/math.like\";\r\nimport { Clamp } from \"../Maths/math.scalar.functions\";\r\nimport { Quaternion, Vector3 } from \"../Maths/math.vector\";\r\nimport { Vector3Dot, Vector4Dot } from \"../Maths/math.vector.functions\";\r\nimport type { DeepImmutable } from \"../types\";\r\n\r\n// *** NOTE ***\r\n// These functions should ideally go in math.vector.functions.ts, but they require math.vector.ts to\r\n// be imported which is big. To avoid the larger bundle size, they are kept inside flow graph for now.\r\n\r\n/**\r\n * Returns the angle in radians between two quaternions\r\n * @param q1 defines the first quaternion\r\n * @param q2 defines the second quaternion\r\n * @returns the angle in radians between the two quaternions\r\n */\r\nexport function GetAngleBetweenQuaternions(q1: DeepImmutable<IQuaternionLike>, q2: DeepImmutable<IQuaternionLike>): number {\r\n    return Math.acos(Clamp(Vector4Dot(q1, q2), -1, 1)) * 2;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from two direction vectors\r\n * @param a defines the first direction vector\r\n * @param b defines the second direction vector\r\n * @returns the target quaternion\r\n */\r\nexport function GetQuaternionFromDirections<T extends Vector3>(a: DeepImmutable<T>, b: DeepImmutable<T>): Quaternion {\r\n    const result = new Quaternion();\r\n    GetQuaternionFromDirectionsToRef(a, b, result);\r\n    return result;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from two direction vectors\r\n * @param a defines the first direction vector\r\n * @param b defines the second direction vector\r\n * @param result defines the target quaternion\r\n * @returns the target quaternion\r\n */\r\nexport function GetQuaternionFromDirectionsToRef<T extends Vector3, ResultT extends Quaternion>(a: DeepImmutable<T>, b: DeepImmutable<T>, result: ResultT): ResultT {\r\n    const axis = Vector3.Cross(a, b);\r\n    const angle = Math.acos(Clamp(Vector3Dot(a, b), -1, 1));\r\n    Quaternion.RotationAxisToRef(axis, angle, result);\r\n    return result;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AACA,OAAO,EAAE,KAAK,EAAE,MAAM,gCAAgC,CAAC;AACvD,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,MAAM,sBAAsB,CAAC;AAC3D,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,gCAAgC,CAAC;;;;AAalE,SAAU,0BAA0B,CAAC,EAAkC,EAAE,EAAkC;IAC7G,OAAO,IAAI,CAAC,IAAI,KAAC,wPAAK,MAAC,6PAAU,EAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAC3D,CAAC;AAQK,SAAU,2BAA2B,CAAoB,CAAmB,EAAE,CAAmB;IACnG,MAAM,MAAM,GAAG,IAAI,gPAAU,EAAE,CAAC;IAChC,gCAAgC,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;IAC/C,OAAO,MAAM,CAAC;AAClB,CAAC;AASK,SAAU,gCAAgC,CAAgD,CAAmB,EAAE,CAAmB,EAAE,MAAe;IACrJ,MAAM,IAAI,GAAG,6OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjC,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,KAAC,wPAAK,MAAC,6PAAU,EAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACxD,gPAAU,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAClD,OAAO,MAAM,CAAC;AAClB,CAAC"}},
    {"offset": {"line": 6891, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Math/flowGraphVectorMathBlocks.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Math/flowGraphVectorMathBlocks.ts"],"sourcesContent":["import { FlowGraphBlock, type IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport {\n    RichTypeVector3,\n    FlowGraphTypes,\n    RichTypeNumber,\n    RichTypeAny,\n    RichTypeVector2,\n    RichTypeMatrix,\n    getRichTypeByFlowGraphType,\n    RichTypeQuaternion,\n    RichTypeBoolean,\n} from \"core/FlowGraph/flowGraphRichTypes\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { FlowGraphBinaryOperationBlock } from \"../flowGraphBinaryOperationBlock\";\nimport { FlowGraphUnaryOperationBlock } from \"../flowGraphUnaryOperationBlock\";\nimport { Quaternion, Vector3, Vector4 } from \"core/Maths/math.vector\";\nimport type { Matrix, Vector2 } from \"core/Maths/math.vector\";\nimport type { FlowGraphMatrix2D, FlowGraphMatrix3D } from \"core/FlowGraph/CustomTypes\";\nimport type { FlowGraphMatrix, FlowGraphVector } from \"core/FlowGraph/utils\";\nimport { _GetClassNameOf } from \"core/FlowGraph/utils\";\nimport type { FlowGraphDataConnection } from \"../../../flowGraphDataConnection\";\nimport type { FlowGraphContext } from \"../../../flowGraphContext\";\nimport type { Nullable } from \"../../../../types\";\nimport { GetAngleBetweenQuaternions, GetQuaternionFromDirections } from \"core/FlowGraph/flowGraphMath\";\n\nconst AxisCacheName = \"cachedOperationAxis\";\nconst AngleCacheName = \"cachedOperationAngle\";\nconst CacheExecIdName = \"cachedExecutionId\";\n\n/**\n * Vector length block.\n */\nexport class FlowGraphLengthBlock extends FlowGraphUnaryOperationBlock<FlowGraphVector, number> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeAny, RichTypeNumber, (a) => this._polymorphicLength(a), FlowGraphBlockNames.Length, config);\n    }\n\n    private _polymorphicLength(a: FlowGraphVector) {\n        const aClassName = _GetClassNameOf(a);\n        switch (aClassName) {\n            case FlowGraphTypes.Vector2:\n            case FlowGraphTypes.Vector3:\n            case FlowGraphTypes.Vector4:\n            case FlowGraphTypes.Quaternion:\n                return (a as Vector3).length();\n            default:\n                throw new Error(`Cannot compute length of value ${a}`);\n        }\n    }\n}\nRegisterClass(FlowGraphBlockNames.Length, FlowGraphLengthBlock);\n\n/**\n * Configuration for normalized vector\n */\nexport interface IFlowGraphNormalizeBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * If true, the block will return NaN if the input vector has a length of 0.\n     * This is the expected behavior for glTF interactivity graphs.\n     */\n    nanOnZeroLength?: boolean;\n}\n\n/**\n * Vector normalize block.\n */\nexport class FlowGraphNormalizeBlock extends FlowGraphUnaryOperationBlock<FlowGraphVector, FlowGraphVector> {\n    constructor(config?: IFlowGraphNormalizeBlockConfiguration) {\n        super(RichTypeAny, RichTypeAny, (a) => this._polymorphicNormalize(a), FlowGraphBlockNames.Normalize, config);\n    }\n\n    private _polymorphicNormalize(a: FlowGraphVector) {\n        const aClassName = _GetClassNameOf(a);\n        let normalized: FlowGraphVector;\n        switch (aClassName) {\n            case FlowGraphTypes.Vector2:\n            case FlowGraphTypes.Vector3:\n            case FlowGraphTypes.Vector4:\n            case FlowGraphTypes.Quaternion:\n                normalized = a.normalizeToNew();\n                if (this.config?.nanOnZeroLength) {\n                    const length = a.length();\n                    if (length === 0) {\n                        normalized.setAll(NaN);\n                    }\n                }\n                return normalized;\n            default:\n                throw new Error(`Cannot normalize value ${a}`);\n        }\n    }\n}\nRegisterClass(FlowGraphBlockNames.Normalize, FlowGraphNormalizeBlock);\n\n/**\n * Dot product block.\n */\nexport class FlowGraphDotBlock extends FlowGraphBinaryOperationBlock<FlowGraphVector, FlowGraphVector, number> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeAny, RichTypeAny, RichTypeNumber, (a, b) => this._polymorphicDot(a, b), FlowGraphBlockNames.Dot, config);\n    }\n\n    private _polymorphicDot(a: FlowGraphVector, b: FlowGraphVector) {\n        const className = _GetClassNameOf(a);\n        switch (className) {\n            case FlowGraphTypes.Vector2:\n            case FlowGraphTypes.Vector3:\n            case FlowGraphTypes.Vector4:\n            case FlowGraphTypes.Quaternion:\n                // casting is needed because dot requires both to be the same type\n                return (a as Vector3).dot(b as Vector3);\n            default:\n                throw new Error(`Cannot get dot product of ${a} and ${b}`);\n        }\n    }\n}\nRegisterClass(FlowGraphBlockNames.Dot, FlowGraphDotBlock);\n\n/**\n * Cross product block.\n */\nexport class FlowGraphCrossBlock extends FlowGraphBinaryOperationBlock<Vector3, Vector3, Vector3> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeVector3, RichTypeVector3, RichTypeVector3, (a, b) => Vector3.Cross(a, b), FlowGraphBlockNames.Cross, config);\n    }\n}\nRegisterClass(FlowGraphBlockNames.Cross, FlowGraphCrossBlock);\n\n/**\n * 2D rotation block.\n */\nexport class FlowGraphRotate2DBlock extends FlowGraphBinaryOperationBlock<Vector2, number, Vector2> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeVector2, RichTypeNumber, RichTypeVector2, (a, b) => a.rotate(b), FlowGraphBlockNames.Rotate2D, config);\n    }\n}\nRegisterClass(FlowGraphBlockNames.Rotate2D, FlowGraphRotate2DBlock);\n\n/**\n * 3D rotation block.\n */\nexport class FlowGraphRotate3DBlock extends FlowGraphBinaryOperationBlock<Vector3, Quaternion, Vector3> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeVector3, RichTypeQuaternion, RichTypeVector3, (a, b) => a.applyRotationQuaternion(b), FlowGraphBlockNames.Rotate3D, config);\n    }\n}\nRegisterClass(FlowGraphBlockNames.Rotate3D, FlowGraphRotate3DBlock);\n\nfunction TransformVector(a: FlowGraphVector, b: FlowGraphMatrix): FlowGraphVector {\n    const className = _GetClassNameOf(a);\n    switch (className) {\n        case FlowGraphTypes.Vector2:\n            return (b as FlowGraphMatrix2D).transformVector(a as Vector2);\n        case FlowGraphTypes.Vector3:\n            return (b as FlowGraphMatrix3D).transformVector(a as Vector3);\n        case FlowGraphTypes.Vector4:\n            a = a as Vector4;\n            // transform the vector 4 with the matrix here. Vector4.TransformCoordinates transforms a 3D coordinate, not Vector4\n            return new Vector4(\n                a.x * b.m[0] + a.y * b.m[1] + a.z * b.m[2] + a.w * b.m[3],\n                a.x * b.m[4] + a.y * b.m[5] + a.z * b.m[6] + a.w * b.m[7],\n                a.x * b.m[8] + a.y * b.m[9] + a.z * b.m[10] + a.w * b.m[11],\n                a.x * b.m[12] + a.y * b.m[13] + a.z * b.m[14] + a.w * b.m[15]\n            );\n        default:\n            throw new Error(`Cannot transform value ${a}`);\n    }\n}\n\n/**\n * Configuration for the transform block.\n */\nexport interface IFlowGraphTransformBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * The vector type\n     */\n    vectorType: FlowGraphTypes;\n}\n\n/**\n * Transform a vector3 by a matrix.\n */\nexport class FlowGraphTransformBlock extends FlowGraphBinaryOperationBlock<FlowGraphVector, FlowGraphMatrix, FlowGraphVector> {\n    constructor(config?: IFlowGraphTransformBlockConfiguration) {\n        const vectorType = config?.vectorType || FlowGraphTypes.Vector3;\n        const matrixType =\n            vectorType === FlowGraphTypes.Vector2 ? FlowGraphTypes.Matrix2D : vectorType === FlowGraphTypes.Vector3 ? FlowGraphTypes.Matrix3D : FlowGraphTypes.Matrix;\n        super(\n            getRichTypeByFlowGraphType(vectorType),\n            getRichTypeByFlowGraphType(matrixType),\n            getRichTypeByFlowGraphType(vectorType),\n            TransformVector,\n            FlowGraphBlockNames.TransformVector,\n            config\n        );\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.TransformVector, FlowGraphTransformBlock);\n\n/**\n * Transform a vector3 by a matrix.\n */\nexport class FlowGraphTransformCoordinatesBlock extends FlowGraphBinaryOperationBlock<Vector3, Matrix, Vector3> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeVector3, RichTypeMatrix, RichTypeVector3, (a, b) => Vector3.TransformCoordinates(a, b), FlowGraphBlockNames.TransformCoordinates, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.TransformCoordinates, FlowGraphTransformCoordinatesBlock);\n\n/**\n * Conjugate the quaternion.\n */\nexport class FlowGraphConjugateBlock extends FlowGraphUnaryOperationBlock<Quaternion, Quaternion> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeQuaternion, RichTypeQuaternion, (a) => a.conjugate(), FlowGraphBlockNames.Conjugate, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.Conjugate, FlowGraphConjugateBlock);\n\n/**\n * Get the angle between two quaternions.\n */\nexport class FlowGraphAngleBetweenBlock extends FlowGraphBinaryOperationBlock<Quaternion, Quaternion, number> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeQuaternion, RichTypeQuaternion, RichTypeNumber, (a, b) => GetAngleBetweenQuaternions(a, b), FlowGraphBlockNames.AngleBetween, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.AngleBetween, FlowGraphAngleBetweenBlock);\n\n/**\n * Get the quaternion from an axis and an angle.\n */\nexport class FlowGraphQuaternionFromAxisAngleBlock extends FlowGraphBinaryOperationBlock<Vector3, number, Quaternion> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeVector3, RichTypeNumber, RichTypeQuaternion, (a, b) => Quaternion.RotationAxis(a, b), FlowGraphBlockNames.QuaternionFromAxisAngle, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.QuaternionFromAxisAngle, FlowGraphQuaternionFromAxisAngleBlock);\n\n/**\n * Get the axis and angle from a quaternion.\n */\nexport class FlowGraphAxisAngleFromQuaternionBlock extends FlowGraphBlock {\n    /**\n     * The input of this block.\n     */\n    public readonly a: FlowGraphDataConnection<Quaternion>;\n\n    /**\n     * The output axis of rotation.\n     */\n    public readonly axis: FlowGraphDataConnection<Vector3>;\n\n    /**\n     * The output angle of rotation.\n     */\n    public readonly angle: FlowGraphDataConnection<number>;\n\n    /**\n     * Output connection: Whether the value is valid.\n     */\n    public readonly isValid: FlowGraphDataConnection<boolean>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n\n        this.a = this.registerDataInput(\"a\", RichTypeQuaternion);\n\n        this.axis = this.registerDataOutput(\"axis\", RichTypeVector3);\n        this.angle = this.registerDataOutput(\"angle\", RichTypeNumber);\n\n        this.isValid = this.registerDataOutput(\"isValid\", RichTypeBoolean);\n    }\n\n    /** @override */\n    public override _updateOutputs(context: FlowGraphContext) {\n        const cachedExecutionId = context._getExecutionVariable(this, CacheExecIdName, -1);\n        const cachedAxis = context._getExecutionVariable<Nullable<Vector3>>(this, AxisCacheName, null);\n        const cachedAngle = context._getExecutionVariable<Nullable<number>>(this, AngleCacheName, null);\n        if (cachedAxis !== undefined && cachedAxis !== null && cachedAngle !== undefined && cachedAngle !== null && cachedExecutionId === context.executionId) {\n            this.axis.setValue(cachedAxis, context);\n            this.angle.setValue(cachedAngle, context);\n        } else {\n            try {\n                const { axis, angle } = this.a.getValue(context).toAxisAngle();\n                context._setExecutionVariable(this, AxisCacheName, axis);\n                context._setExecutionVariable(this, AngleCacheName, angle);\n                context._setExecutionVariable(this, CacheExecIdName, context.executionId);\n                this.axis.setValue(axis, context);\n                this.angle.setValue(angle, context);\n                this.isValid.setValue(true, context);\n            } catch (e) {\n                this.isValid.setValue(false, context);\n            }\n        }\n    }\n\n    /** @override */\n    public override getClassName(): string {\n        return FlowGraphBlockNames.AxisAngleFromQuaternion;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.AxisAngleFromQuaternion, FlowGraphAxisAngleFromQuaternionBlock);\n\n/**\n * Get the quaternion from two direction vectors.\n */\nexport class FlowGraphQuaternionFromDirectionsBlock extends FlowGraphBinaryOperationBlock<Vector3, Vector3, Quaternion> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeVector3, RichTypeVector3, RichTypeQuaternion, (a, b) => GetQuaternionFromDirections(a, b), FlowGraphBlockNames.QuaternionFromDirections, config);\n    }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7109, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Math/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Math/index.ts"],"sourcesContent":["export * from \"./flowGraphMathBlocks\";\r\nexport * from \"./flowGraphMathCombineExtractBlocks\";\r\nexport * from \"./flowGraphMatrixMathBlocks\";\r\nexport * from \"./flowGraphVectorMathBlocks\";\r\n"],"names":[],"mappings":";AAAA,cAAc,uBAAuB,CAAC;AACtC,cAAc,qCAAqC,CAAC;AACpD,cAAc,6BAA6B,CAAC;AAC5C,cAAc,6BAA6B,CAAC"}},
    {"offset": {"line": 7122, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Transformers/flowGraphJsonPointerParserBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Transformers/flowGraphJsonPointerParserBlock.ts"],"sourcesContent":["import type { FlowGraphAssetType } from \"core/FlowGraph/flowGraphAssetsContext\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { FlowGraphPathConverterComponent } from \"core/FlowGraph/flowGraphPathConverterComponent\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport type { IObjectAccessor } from \"core/FlowGraph/typeDefinitions\";\nimport type { IPathToObjectConverter } from \"core/ObjectModel/objectModelInterfaces\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport type { Animation } from \"core/Animations/animation\";\nimport type { EasingFunction } from \"core/Animations/easing\";\nimport { Vector3, Vector4 } from \"core/Maths/math.vector\";\nimport { Color3, Color4 } from \"core/Maths/math.color\";\nimport { FlowGraphCachedOperationBlock } from \"../flowGraphCachedOperationBlock\";\n\n/**\n * Configuration for the JSON pointer parser block.\n */\nexport interface IFlowGraphJsonPointerParserBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * The JSON pointer to parse.\n     */\n    jsonPointer: string;\n    /**\n     * The path converter to use to convert the path to an object accessor.\n     */\n    pathConverter: IPathToObjectConverter<IObjectAccessor>;\n\n    /**\n     * Whether to output the value of the property.\n     */\n    outputValue?: boolean;\n}\n\n/**\n * This block will take a JSON pointer and parse it to get the value from the JSON object.\n * The output is an object and a property name.\n * Optionally, the block can also output the value of the property. This is configurable.\n */\nexport class FlowGraphJsonPointerParserBlock<P extends any, O extends FlowGraphAssetType> extends FlowGraphCachedOperationBlock<P> {\n    /**\n     * Output connection: The object that contains the property.\n     */\n    public readonly object: FlowGraphDataConnection<O>;\n\n    /**\n     * Output connection: The property name.\n     */\n    public readonly propertyName: FlowGraphDataConnection<string>;\n\n    /**\n     * Output connection: A function that can be used to update the value of the property.\n     */\n    public readonly setterFunction: FlowGraphDataConnection<(target: O, propertyName: string, value: P, context: FlowGraphContext) => void>;\n\n    /**\n     * Output connection: A function that can be used to get the value of the property.\n     */\n    public readonly getterFunction: FlowGraphDataConnection<(target: O, propertyName: string, context: FlowGraphContext) => P | undefined>;\n\n    /**\n     * Output connection: A function that can be used to get the interpolation animation property info.\n     */\n    public readonly generateAnimationsFunction: FlowGraphDataConnection<() => (keys: any[], fps: number, easingFunction?: EasingFunction) => Animation[]>;\n\n    /**\n     * The component with the templated inputs for the provided path.\n     */\n    public readonly templateComponent: FlowGraphPathConverterComponent;\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        public override config: IFlowGraphJsonPointerParserBlockConfiguration\n    ) {\n        super(RichTypeAny, config);\n        this.object = this.registerDataOutput(\"object\", RichTypeAny);\n        this.propertyName = this.registerDataOutput(\"propertyName\", RichTypeAny);\n        this.setterFunction = this.registerDataOutput(\"setFunction\", RichTypeAny, this._setPropertyValue.bind(this));\n        this.getterFunction = this.registerDataOutput(\"getFunction\", RichTypeAny, this._getPropertyValue.bind(this));\n        this.generateAnimationsFunction = this.registerDataOutput(\"generateAnimationsFunction\", RichTypeAny, this._getInterpolationAnimationPropertyInfo.bind(this));\n        this.templateComponent = new FlowGraphPathConverterComponent(config.jsonPointer, this);\n    }\n\n    public override _doOperation(context: FlowGraphContext): P {\n        const accessorContainer = this.templateComponent.getAccessor(this.config.pathConverter, context);\n        const value = accessorContainer.info.get(accessorContainer.object) as P;\n        const object = accessorContainer.info.getTarget?.(accessorContainer.object);\n        const propertyName = accessorContainer.info.getPropertyName?.[0](accessorContainer.object);\n        if (!object) {\n            throw new Error(\"Object is undefined\");\n        } else {\n            this.object.setValue(object, context);\n            if (propertyName) {\n                this.propertyName.setValue(propertyName, context);\n            }\n        }\n        return value;\n    }\n\n    private _setPropertyValue(_target: O, _propertyName: string, value: P, context: FlowGraphContext): void {\n        const accessorContainer = this.templateComponent.getAccessor(this.config.pathConverter, context);\n        const type = accessorContainer.info.type;\n        if (type.startsWith(\"Color\")) {\n            value = ToColor(value as Vector4, type) as unknown as P;\n        }\n        accessorContainer.info.set?.(value, accessorContainer.object);\n    }\n\n    private _getPropertyValue(_target: O, _propertyName: string, context: FlowGraphContext): P | undefined {\n        const accessorContainer = this.templateComponent.getAccessor(this.config.pathConverter, context);\n        const type = accessorContainer.info.type;\n        const value = accessorContainer.info.get(accessorContainer.object);\n        if (type.startsWith(\"Color\")) {\n            return FromColor(value as Color3 | Color4) as unknown as P;\n        }\n        return value as P | undefined;\n    }\n\n    private _getInterpolationAnimationPropertyInfo(\n        _target: O,\n        _propertyName: string,\n        context: FlowGraphContext\n    ): (keys: any[], fps: number, animationType: number, easingFunction?: EasingFunction) => Animation[] {\n        const accessorContainer = this.templateComponent.getAccessor(this.config.pathConverter, context);\n        return (keys: any[], fps: number, animationType: number, easingFunction?: EasingFunction) => {\n            const animations: Animation[] = [];\n            // make sure keys are of the right type (in case of float3 color/vector)\n            const type = accessorContainer.info.type;\n            if (type.startsWith(\"Color\")) {\n                keys = keys.map((key) => {\n                    return {\n                        frame: key.frame,\n                        value: ToColor(key.value, type),\n                    };\n                });\n            }\n            accessorContainer.info.interpolation?.forEach((info, index) => {\n                const name = accessorContainer.info.getPropertyName?.[index](accessorContainer.object) || \"Animation-interpolation-\" + index;\n                // generate the keys based on interpolation info\n                let newKeys: any[] = keys;\n                if (animationType !== info.type) {\n                    // convert the keys to the right type\n                    newKeys = keys.map((key) => {\n                        return {\n                            frame: key.frame,\n                            value: info.getValue(undefined, key.value.asArray ? key.value.asArray() : [key.value], 0, 1),\n                        };\n                    });\n                }\n                const animationData = info.buildAnimations(accessorContainer.object, name, 60, newKeys);\n                for (const animation of animationData) {\n                    if (easingFunction) {\n                        animation.babylonAnimation.setEasingFunction(easingFunction);\n                    }\n                    animations.push(animation.babylonAnimation);\n                }\n            });\n\n            return animations;\n        };\n    }\n\n    /**\n     * Gets the class name of this block\n     * @returns the class name\n     */\n    public override getClassName(): string {\n        return FlowGraphBlockNames.JsonPointerParser;\n    }\n}\n\nfunction ToColor(value: any, expectedValue: string) {\n    if (value.getClassName().startsWith(\"Color\")) {\n        return value as unknown as Color3 | Color4;\n    }\n    if (expectedValue === \"Color3\") {\n        return new Color3(value.x, value.y, value.z);\n    } else if (expectedValue === \"Color4\") {\n        return new Color4(value.x, value.y, value.z, value.w);\n    }\n    return value;\n}\n\nfunction FromColor(value: Color3 | Color4): Vector3 | Vector4 {\n    if (value instanceof Color3) {\n        return new Vector3(value.r, value.g, value.b);\n    } else if (value instanceof Color4) {\n        return new Vector4(value.r, value.g, value.b, value.a);\n    }\n    throw new Error(\"Invalid color type\");\n}\n\nRegisterClass(FlowGraphBlockNames.JsonPointerParser, FlowGraphJsonPointerParserBlock);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7254, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Transformers/flowGraphTypeToTypeBlocks.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Transformers/flowGraphTypeToTypeBlocks.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphUnaryOperationBlock } from \"../flowGraphUnaryOperationBlock\";\nimport { RichTypeBoolean, RichTypeFlowGraphInteger, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\n\n/**\n * A block that converts a boolean to a float.\n */\nexport class FlowGraphBooleanToFloat extends FlowGraphUnaryOperationBlock<boolean, number> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeBoolean, RichTypeNumber, (a) => +a, FlowGraphBlockNames.BooleanToFloat, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.BooleanToFloat, FlowGraphBooleanToFloat);\n\n/**\n * A block that converts a boolean to an integer\n */\nexport class FlowGraphBooleanToInt extends FlowGraphUnaryOperationBlock<boolean, FlowGraphInteger> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeBoolean, RichTypeFlowGraphInteger, (a) => FlowGraphInteger.FromValue(+a), FlowGraphBlockNames.BooleanToInt, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.BooleanToInt, FlowGraphBooleanToInt);\n\n/**\n * A block that converts a float to a boolean.\n */\nexport class FlowGraphFloatToBoolean extends FlowGraphUnaryOperationBlock<number, boolean> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeNumber, RichTypeBoolean, (a) => !!a, FlowGraphBlockNames.FloatToBoolean, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.FloatToBoolean, FlowGraphFloatToBoolean);\n\n/**\n * A block that converts an integer to a boolean.\n */\nexport class FlowGraphIntToBoolean extends FlowGraphUnaryOperationBlock<FlowGraphInteger, boolean> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeFlowGraphInteger, RichTypeBoolean, (a) => !!a.value, FlowGraphBlockNames.IntToBoolean, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.IntToBoolean, FlowGraphIntToBoolean);\n\n/**\n * A block that converts an integer to a float.\n */\nexport class FlowGraphIntToFloat extends FlowGraphUnaryOperationBlock<FlowGraphInteger, number> {\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(RichTypeFlowGraphInteger, RichTypeNumber, (a) => a.value, FlowGraphBlockNames.IntToFloat, config);\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.IntToFloat, FlowGraphIntToFloat);\n\n/**\n * Configuration for the float to int block.\n */\nexport interface IFlowGraphFloatToIntConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * The rounding mode to use.\n     * if not defined, it will use the FlowGraphInteger default rounding ( a | 0 )\n     */\n    roundingMode?: \"floor\" | \"ceil\" | \"round\";\n}\n/**\n * A block that converts a float to an integer.\n */\nexport class FlowGraphFloatToInt extends FlowGraphUnaryOperationBlock<number, FlowGraphInteger> {\n    constructor(config?: IFlowGraphFloatToIntConfiguration) {\n        super(\n            RichTypeNumber,\n            RichTypeFlowGraphInteger,\n            (a) => {\n                const roundingMode = config?.roundingMode;\n                switch (roundingMode) {\n                    case \"floor\":\n                        return FlowGraphInteger.FromValue(Math.floor(a));\n                    case \"ceil\":\n                        return FlowGraphInteger.FromValue(Math.ceil(a));\n                    case \"round\":\n                        return FlowGraphInteger.FromValue(Math.round(a));\n                    default:\n                        return FlowGraphInteger.FromValue(a);\n                }\n            },\n            FlowGraphBlockNames.FloatToInt,\n            config\n        );\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.FloatToInt, FlowGraphFloatToInt);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7328, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Transformers/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Transformers/index.ts"],"sourcesContent":["export * from \"./flowGraphJsonPointerParserBlock\";\nexport * from \"./flowGraphTypeToTypeBlocks\";\n"],"names":[],"mappings":";AAAA,cAAc,mCAAmC,CAAC;AAClD,cAAc,6BAA6B,CAAC"}},
    {"offset": {"line": 7337, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Utils/flowGraphContextBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Utils/flowGraphContextBlock.ts"],"sourcesContent":["import { FlowGraphBlock, type IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\n\n/**\n * A block that outputs elements from the context\n */\nexport class FlowGraphContextBlock extends FlowGraphBlock {\n    /**\n     * Output connection: The user variables from the context\n     */\n    public readonly userVariables: FlowGraphDataConnection<FlowGraphContext[\"userVariables\"]>;\n\n    /**\n     * Output connection: The execution id from the context\n     */\n    public readonly executionId: FlowGraphDataConnection<FlowGraphContext[\"executionId\"]>;\n\n    constructor(config?: IFlowGraphBlockConfiguration) {\n        super(config);\n\n        this.userVariables = this.registerDataOutput(\"userVariables\", RichTypeAny);\n        this.executionId = this.registerDataOutput(\"executionId\", RichTypeNumber);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext): void {\n        this.userVariables.setValue(context.userVariables, context);\n        this.executionId.setValue(context.executionId, context);\n    }\n\n    public override serialize(serializationObject?: any): void {\n        super.serialize(serializationObject);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.Context;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.Context, FlowGraphContextBlock);\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,cAAc,EAAqC,mCAAsC;AAGlG,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,uCAA0C;AAEhF,OAAO,EAAE,aAAa,EAAE,sCAA4B;;;;AAK9C,MAAO,qBAAsB,SAAQ,wPAAc;IAWrD,YAAY,MAAqC,CAAA;QAC7C,KAAK,CAAC,MAAM,CAAC,CAAC;QAEd,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC,eAAe,EAAE,yPAAW,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,EAAE,4PAAc,CAAC,CAAC;IAC9E,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;IAC5D,CAAC;IAEe,SAAS,CAAC,mBAAyB,EAAA;QAC/C,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,wBAAA,+BAAA,GAAmC;IACvC,CAAC;CACJ;IAED,6OAAa,EAAA,wBAAA,+BAAA,KAA8B,qBAAqB,CAAC,CAAC"}},
    {"offset": {"line": 7369, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Utils/flowGraphArrayIndexBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Utils/flowGraphArrayIndexBlock.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\nimport type { FlowGraphNumber } from \"core/FlowGraph/utils\";\nimport { getNumericValue } from \"core/FlowGraph/utils\";\nimport type { Nullable } from \"core/types\";\n\n/**\n * This simple Util block takes an array as input and selects a single element from it.\n */\nexport class FlowGraphArrayIndexBlock<T = any> extends FlowGraphBlock {\n    /**\n     * Input connection: The array to select from.\n     */\n    public readonly array: FlowGraphDataConnection<T[]>;\n\n    /**\n     * Input connection: The index to select.\n     */\n    public readonly index: FlowGraphDataConnection<FlowGraphNumber>;\n\n    /**\n     * Output connection: The selected element.\n     */\n    public readonly value: FlowGraphDataConnection<Nullable<T>>;\n\n    /**\n     * Construct a FlowGraphArrayIndexBlock.\n     * @param config construction parameters\n     */\n    constructor(public override config: IFlowGraphBlockConfiguration) {\n        super(config);\n\n        this.array = this.registerDataInput(\"array\", RichTypeAny);\n        this.index = this.registerDataInput(\"index\", RichTypeAny, new FlowGraphInteger(-1));\n        this.value = this.registerDataOutput(\"value\", RichTypeAny);\n    }\n\n    /**\n     * @internal\n     */\n    public override _updateOutputs(context: FlowGraphContext): void {\n        const array = this.array.getValue(context);\n        const index = getNumericValue(this.index.getValue(context));\n        if (array && index >= 0 && index < array.length) {\n            this.value.setValue(array[index], context);\n        } else {\n            this.value.setValue(null, context);\n        }\n    }\n\n    /**\n     * Serializes this block\n     * @param serializationObject the object to serialize to\n     */\n    public override serialize(serializationObject?: any): void {\n        super.serialize(serializationObject);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.ArrayIndex;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.ArrayIndex, FlowGraphArrayIndexBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,cAAc,EAAE,mCAAsC;AAG/D,OAAO,EAAE,WAAW,EAAE,uCAA0C;AAEhE,OAAO,EAAE,aAAa,EAAE,sCAA4B;AACpD,OAAO,EAAE,gBAAgB,EAAE,iDAAoD;AAE/E,OAAO,EAAE,eAAe,EAAE,0BAA6B;;;;;;AAMjD,MAAO,wBAAkC,SAAQ,wPAAc;IAgBjE;;;OAGG,CACH,YAA4B,MAAoC,CAAA;QAC5D,KAAK,CAAC,MAAM,CAAC,CAAC;QADU,IAAA,CAAA,MAAM,GAAN,MAAM,CAA8B;QAG5D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,yPAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,yPAAW,EAAE,IAAI,2QAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,yPAAW,CAAC,CAAC;IAC/D,CAAC;IAED;;OAEG,CACa,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,MAAM,KAAK,OAAG,gPAAe,EAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;QAC5D,IAAI,KAAK,IAAI,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAC9C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC;QAC/C,CAAC,MAAM,CAAC;YACJ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACvC,CAAC;IACL,CAAC;IAED;;;OAGG,CACa,SAAS,CAAC,mBAAyB,EAAA;QAC/C,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,2BAAA,kCAAA,GAAsC;IAC1C,CAAC;CACJ;IAED,6OAAa,EAAA,2BAAA,kCAAA,KAAiC,wBAAwB,CAAC,CAAC"}},
    {"offset": {"line": 7420, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Utils/flowGraphCodeExecutionBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Utils/flowGraphCodeExecutionBlock.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\n\nexport type CodeExecutionFunction = (value: any, context: FlowGraphContext) => any;\n\n/**\n * This block takes in a function that is defined OUTSIDE of the flow graph and executes it.\n * The function can be a normal function or an async function.\n * The function's arguments will be the value of the input connection as the first variable, and the flow graph context as the second variable.\n */\nexport class FlowGraphCodeExecutionBlock extends FlowGraphBlock {\n    /**\n     * Input connection: The function to execute.\n     */\n    public readonly executionFunction: FlowGraphDataConnection<CodeExecutionFunction>;\n\n    /**\n     * Input connection: The value to pass to the function.\n     */\n    public readonly value: FlowGraphDataConnection<any>;\n\n    /**\n     * Output connection: The result of the function.\n     */\n    public readonly result: FlowGraphDataConnection<any>;\n\n    /**\n     * Construct a FlowGraphCodeExecutionBlock.\n     * @param config construction parameters\n     */\n    constructor(public override config: IFlowGraphBlockConfiguration) {\n        super(config);\n\n        this.executionFunction = this.registerDataInput(\"function\", RichTypeAny);\n        this.value = this.registerDataInput(\"value\", RichTypeAny);\n        this.result = this.registerDataOutput(\"result\", RichTypeAny);\n    }\n\n    /**\n     * @internal\n     */\n    public override _updateOutputs(context: FlowGraphContext): void {\n        const func = this.executionFunction.getValue(context);\n        const value = this.value.getValue(context);\n        if (func) {\n            this.result.setValue(func(value, context), context);\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.CodeExecution;\n    }\n}\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,cAAc,EAAE,mCAAsC;AAE/D,OAAO,EAAE,WAAW,EAAE,uCAA0C;;;AAW1D,MAAO,2BAA4B,SAAQ,wPAAc;IAgB3D;;;OAGG,CACH,YAA4B,MAAoC,CAAA;QAC5D,KAAK,CAAC,MAAM,CAAC,CAAC;QADU,IAAA,CAAA,MAAM,GAAN,MAAM,CAA8B;QAG5D,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,EAAE,yPAAW,CAAC,CAAC;QACzE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,yPAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,yPAAW,CAAC,CAAC;IACjE,CAAC;IAED;;OAEG,CACa,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACtD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,IAAI,EAAE,CAAC;YACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;QACxD,CAAC;IACL,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,8BAAA,qCAAA,GAAyC;IAC7C,CAAC;CACJ"}},
    {"offset": {"line": 7456, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Utils/flowGraphIndexOfBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Utils/flowGraphIndexOfBlock.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny, RichTypeFlowGraphInteger } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphInteger } from \"core/FlowGraph/CustomTypes/flowGraphInteger\";\n\n/**\n * This block takes an object as input and an array and returns the index of the object in the array.\n */\nexport class FlowGraphIndexOfBlock<T = any> extends FlowGraphBlock {\n    /**\n     * Input connection: The object to find in the array.\n     */\n    public readonly object: FlowGraphDataConnection<T>;\n\n    /**\n     * Input connection: The array to search in.\n     */\n    public readonly array: FlowGraphDataConnection<T[]>;\n\n    /**\n     * Output connection: The index of the object in the array.\n     * -1 if not found!\n     */\n    public readonly index: FlowGraphDataConnection<FlowGraphInteger>;\n\n    /**\n     * Construct a FlowGraphIndexOfBlock.\n     * @param config construction parameters\n     */\n    constructor(public override config: IFlowGraphBlockConfiguration) {\n        super(config);\n\n        this.object = this.registerDataInput(\"object\", RichTypeAny);\n        this.array = this.registerDataInput(\"array\", RichTypeAny);\n        this.index = this.registerDataOutput(\"index\", RichTypeFlowGraphInteger, new FlowGraphInteger(-1));\n    }\n\n    /**\n     * @internal\n     */\n    public override _updateOutputs(context: FlowGraphContext): void {\n        const object = this.object.getValue(context);\n        const array = this.array.getValue(context);\n        if (array) {\n            this.index.setValue(new FlowGraphInteger(array.indexOf(object)), context);\n        }\n    }\n\n    /**\n     * Serializes this block\n     * @param serializationObject the object to serialize to\n     */\n    public override serialize(serializationObject?: any): void {\n        super.serialize(serializationObject);\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.IndexOf;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.IndexOf, FlowGraphIndexOfBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,cAAc,EAAE,mCAAsC;AAG/D,OAAO,EAAE,WAAW,EAAE,wBAAwB,EAAE,uCAA0C;AAE1F,OAAO,EAAE,aAAa,EAAE,sCAA4B;AACpD,OAAO,EAAE,gBAAgB,EAAE,iDAAoD;;;;;AAKzE,MAAO,qBAA+B,SAAQ,wPAAc;IAiB9D;;;OAGG,CACH,YAA4B,MAAoC,CAAA;QAC5D,KAAK,CAAC,MAAM,CAAC,CAAC;QADU,IAAA,CAAA,MAAM,GAAN,MAAM,CAA8B;QAG5D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,yPAAW,CAAC,CAAC;QAC5D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,yPAAW,CAAC,CAAC;QAC1D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,sQAAwB,EAAE,IAAI,2QAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtG,CAAC;IAED;;OAEG,CACa,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC7C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,KAAK,EAAE,CAAC;YACR,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,2QAAgB,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC9E,CAAC;IACL,CAAC;IAED;;;OAGG,CACa,SAAS,CAAC,mBAAyB,EAAA;QAC/C,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;IACzC,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,wBAAA,+BAAA,GAAmC;IACvC,CAAC;CACJ;IAED,6OAAa,EAAA,wBAAA,+BAAA,KAA8B,qBAAqB,CAAC,CAAC"}},
    {"offset": {"line": 7503, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Utils/flowGraphFunctionReferenceBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Utils/flowGraphFunctionReferenceBlock.ts"],"sourcesContent":["import type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { FlowGraphBlock } from \"core/FlowGraph/flowGraphBlock\";\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport { RichTypeAny, RichTypeString } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { FlowGraphBlockNames } from \"../../flowGraphBlockNames\";\n\n/**\n * A flow graph block that takes a function name, an object and an optional context as inputs and calls the function on the object.\n */\nexport class FlowGraphFunctionReferenceBlock extends FlowGraphBlock {\n    /**\n     * Input: The function name.\n     */\n    public readonly functionName: FlowGraphDataConnection<string>;\n    /**\n     * Input: The object to get the function from.\n     * This can be a constructed class or a collection of stand-alone functions.\n     */\n    public readonly object: FlowGraphDataConnection<any>;\n    /**\n     * Input: The context to call the function with.\n     * This is optional. If not provided, the function will be bound to null.\n     */\n    public readonly context: FlowGraphDataConnection<any>;\n    /**\n     * Output: The function referenced by functionName from the object, bound to the context.\n     */\n    public readonly output: FlowGraphDataConnection<Function>;\n\n    constructor(\n        /**\n         * the configuration of the block\n         */\n        config?: IFlowGraphBlockConfiguration\n    ) {\n        super(config);\n        this.functionName = this.registerDataInput(\"functionName\", RichTypeString);\n        this.object = this.registerDataInput(\"object\", RichTypeAny);\n        this.context = this.registerDataInput(\"context\", RichTypeAny, null);\n        this.output = this.registerDataOutput(\"output\", RichTypeAny);\n    }\n\n    public override _updateOutputs(context: FlowGraphContext) {\n        const functionName = this.functionName.getValue(context);\n        const object = this.object.getValue(context);\n        const contextValue = this.context.getValue(context);\n        if (object && functionName) {\n            const func = object[functionName];\n            if (func && typeof func === \"function\") {\n                this.output.setValue(func.bind(contextValue), context);\n            }\n        }\n    }\n\n    public override getClassName(): string {\n        return FlowGraphBlockNames.FunctionReference;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.FunctionReference, FlowGraphFunctionReferenceBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,cAAc,EAAE,mCAAsC;AAG/D,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,uCAA0C;AAChF,OAAO,EAAE,aAAa,EAAE,sCAA4B;;;;AAM9C,MAAO,+BAAgC,SAAQ,wPAAc;IAoB/D,YACI;;OAEG,CACH,MAAqC,CAAA;QAErC,KAAK,CAAC,MAAM,CAAC,CAAC;QACd,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,4PAAc,CAAC,CAAC;QAC3E,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,yPAAW,CAAC,CAAC;QAC5D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,yPAAW,EAAE,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,yPAAW,CAAC,CAAC;IACjE,CAAC;IAEe,cAAc,CAAC,OAAyB,EAAA;QACpD,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACzD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC7C,MAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACpD,IAAI,MAAM,IAAI,YAAY,EAAE,CAAC;YACzB,MAAM,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;YAClC,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE,CAAC;gBACrC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;YAC3D,CAAC;QACL,CAAC;IACL,CAAC;IAEe,YAAY,GAAA;QACxB,OAAA,6BAAA,yCAAA,GAA6C;IACjD,CAAC;CACJ;IAED,6OAAa,EAAA,6BAAA,yCAAA,KAAwC,+BAA+B,CAAC,CAAC"}},
    {"offset": {"line": 7543, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/Utils/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/Utils/index.ts"],"sourcesContent":["export * from \"./flowGraphContextBlock\";\nexport * from \"./flowGraphArrayIndexBlock\";\nexport * from \"./flowGraphCodeExecutionBlock\";\nexport * from \"./flowGraphIndexOfBlock\";\nexport * from \"./flowGraphFunctionReferenceBlock\";\n"],"names":[],"mappings":";AAAA,cAAc,yBAAyB,CAAC;AACxC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,+BAA+B,CAAC;AAC9C,cAAc,yBAAyB,CAAC;AACxC,cAAc,mCAAmC,CAAC"}},
    {"offset": {"line": 7558, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Data/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Data/index.ts"],"sourcesContent":["export * from \"./flowGraphConditionalDataBlock\";\r\nexport * from \"./flowGraphGetVariableBlock\";\r\nexport * from \"../Execution/flowGraphSetVariableBlock\";\r\nexport * from \"./flowGraphTransformCoordinatesSystemBlock\";\r\nexport * from \"./flowGraphGetPropertyBlock\";\r\nexport * from \"../Execution/flowGraphSetPropertyBlock\";\r\nexport * from \"./flowGraphConstantBlock\";\r\nexport * from \"./flowGraphGetAssetBlock\";\r\nexport * from \"./flowGraphDataSwitchBlock\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./Math/index\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./Transformers/index\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./Utils/index\";\r\n"],"names":[],"mappings":";AAAA,cAAc,iCAAiC,CAAC;AAChD,cAAc,6BAA6B,CAAC;AAC5C,cAAc,wCAAwC,CAAC;AACvD,cAAc,4CAA4C,CAAC;AAC3D,cAAc,6BAA6B,CAAC;AAC5C,cAAc,wCAAwC,CAAC;AACvD,cAAc,0BAA0B,CAAC;AACzC,cAAc,0BAA0B,CAAC;AACzC,cAAc,4BAA4B,CAAC;AAC3C,oEAAoE;AACpE,cAAc,cAAc,CAAC;AAC7B,oEAAoE;AACpE,cAAc,sBAAsB,CAAC;AACrC,oEAAoE;AACpE,cAAc,eAAe,CAAC"}},
    {"offset": {"line": 7590, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphMeshPickEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphMeshPickEventBlock.ts"],"sourcesContent":["import type { AbstractMesh } from \"../../../Meshes/abstractMesh\";\r\nimport { FlowGraphEventBlock } from \"../../flowGraphEventBlock\";\r\nimport type { PointerInfo } from \"../../../Events/pointerEvents\";\r\nimport { PointerEventTypes } from \"../../../Events/pointerEvents\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { _IsDescendantOf } from \"../../utils\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport { RichTypeAny, RichTypeNumber, RichTypeVector3 } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport type { Vector3 } from \"core/Maths/math.vector\";\r\nimport { FlowGraphEventType } from \"core/FlowGraph/flowGraphEventType\";\r\n/**\r\n * Configuration for the mesh pick event block.\r\n */\r\nexport interface IFlowGraphMeshPickEventBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * Should this mesh block propagation of the event.\r\n     */\r\n    stopPropagation?: boolean;\r\n\r\n    /**\r\n     * The mesh to listen to. Can also be set by the asset input.\r\n     */\r\n    targetMesh?: AbstractMesh;\r\n}\r\n/**\r\n * A block that activates when a mesh is picked.\r\n */\r\nexport class FlowGraphMeshPickEventBlock extends FlowGraphEventBlock {\r\n    /**\r\n     * Input connection: The mesh to listen to.\r\n     */\r\n    public readonly asset: FlowGraphDataConnection<AbstractMesh>;\r\n\r\n    /**\r\n     * Output connection: The picked point.\r\n     */\r\n    public readonly pickedPoint: FlowGraphDataConnection<Vector3>;\r\n\r\n    /**\r\n     * Output connection: The picked origin.\r\n     */\r\n    public readonly pickOrigin: FlowGraphDataConnection<Vector3>;\r\n\r\n    /**\r\n     * Output connection: The pointer id.\r\n     */\r\n    public readonly pointerId: FlowGraphDataConnection<number>;\r\n\r\n    /**\r\n     * Output connection: The picked mesh. Possibly NOT the same as the asset (could be a descendant).\r\n     */\r\n    public readonly pickedMesh: FlowGraphDataConnection<AbstractMesh>;\r\n\r\n    /**\r\n     * Input connection: The type of the pointer event.\r\n     */\r\n    public readonly pointerType: FlowGraphDataConnection<PointerEventTypes>;\r\n\r\n    /**\r\n     * the type of the event this block reacts to\r\n     */\r\n    public override readonly type: FlowGraphEventType = FlowGraphEventType.MeshPick;\r\n\r\n    public constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config?: IFlowGraphMeshPickEventBlockConfiguration\r\n    ) {\r\n        super(config);\r\n        this.asset = this.registerDataInput(\"asset\", RichTypeAny, config?.targetMesh);\r\n        this.pickedPoint = this.registerDataOutput(\"pickedPoint\", RichTypeVector3);\r\n        this.pickOrigin = this.registerDataOutput(\"pickOrigin\", RichTypeVector3);\r\n        this.pointerId = this.registerDataOutput(\"pointerId\", RichTypeNumber);\r\n        this.pickedMesh = this.registerDataOutput(\"pickedMesh\", RichTypeAny);\r\n        this.pointerType = this.registerDataInput(\"pointerType\", RichTypeAny, PointerEventTypes.POINTERPICK);\r\n    }\r\n\r\n    public _getReferencedMesh(context: FlowGraphContext): AbstractMesh {\r\n        return this.asset.getValue(context);\r\n    }\r\n\r\n    public override _executeEvent(context: FlowGraphContext, pickedInfo: PointerInfo): boolean {\r\n        // get the pointer type\r\n        const pointerType = this.pointerType.getValue(context);\r\n        if (pointerType !== pickedInfo.type) {\r\n            // returning true here to continue the propagation of the pointer event to the rest of the blocks\r\n            return true;\r\n        }\r\n        // check if the mesh is the picked mesh or a descendant\r\n        const mesh = this._getReferencedMesh(context);\r\n        if (mesh && pickedInfo.pickInfo?.pickedMesh && (pickedInfo.pickInfo?.pickedMesh === mesh || _IsDescendantOf(pickedInfo.pickInfo?.pickedMesh, mesh))) {\r\n            this.pointerId.setValue((pickedInfo.event as PointerEvent).pointerId, context);\r\n            this.pickOrigin.setValue(pickedInfo.pickInfo.ray?.origin!, context);\r\n            this.pickedPoint.setValue(pickedInfo.pickInfo.pickedPoint!, context);\r\n            this.pickedMesh.setValue(pickedInfo.pickInfo.pickedMesh, context);\r\n            this._execute(context);\r\n            // stop the propagation if the configuration says so\r\n            return !this.config?.stopPropagation;\r\n        } else {\r\n            // reset the outputs\r\n            this.pointerId.resetToDefaultValue(context);\r\n            this.pickOrigin.resetToDefaultValue(context);\r\n            this.pickedPoint.resetToDefaultValue(context);\r\n            this.pickedMesh.resetToDefaultValue(context);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _preparePendingTasks(_context: FlowGraphContext): void {\r\n        // no-op\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _cancelPendingTasks(_context: FlowGraphContext): void {\r\n        // no-op\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.MeshPickEvent;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.MeshPickEvent, FlowGraphMeshPickEventBlock);\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7670, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSceneReadyEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphSceneReadyEventBlock.ts"],"sourcesContent":["import { FlowGraphEventBlock } from \"../../flowGraphEventBlock\";\r\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\nimport { FlowGraphEventType } from \"core/FlowGraph/flowGraphEventType\";\r\n/**\r\n * Block that triggers when a scene is ready.\r\n */\r\nexport class FlowGraphSceneReadyEventBlock extends FlowGraphEventBlock {\r\n    public override initPriority: number = -1;\r\n\r\n    public override readonly type: FlowGraphEventType = FlowGraphEventType.SceneReady;\r\n\r\n    public override _executeEvent(context: FlowGraphContext, _payload: any): boolean {\r\n        this._execute(context);\r\n        return true;\r\n    }\r\n    public override _preparePendingTasks(context: FlowGraphContext): void {\r\n        // no-op\r\n    }\r\n    public override _cancelPendingTasks(context: FlowGraphContext): void {\r\n        // no-op\r\n    }\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName() {\r\n        return FlowGraphBlockNames.SceneReadyEvent;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.SceneReadyEvent, FlowGraphSceneReadyEventBlock);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAEhE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;;;AAMlD,MAAO,6BAA8B,SAAQ,kQAAmB;IAAtE,aAAA;;QACoB,IAAA,CAAA,YAAY,GAAW,CAAC,CAAC,CAAC;QAEjB,IAAA,CAAA,IAAI,GAAA,aAAA,iCAAA,GAAqD;IAkBtF,CAAC;IAhBmB,aAAa,CAAC,OAAyB,EAAE,QAAa,EAAA;QAClE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC;IAChB,CAAC;IACe,oBAAoB,CAAC,OAAyB,EAAA;IAC1D,QAAQ;IACZ,CAAC;IACe,mBAAmB,CAAC,OAAyB,EAAA;IACzD,QAAQ;IACZ,CAAC;IACD;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,gCAAA,uCAAA,GAA2C;IAC/C,CAAC;CACJ;IACD,6OAAa,EAAA,gCAAA,uCAAA,KAAsC,6BAA6B,CAAC,CAAC"}},
    {"offset": {"line": 7705, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphReceiveCustomEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphReceiveCustomEventBlock.ts"],"sourcesContent":["import type { Observer } from \"../../../Misc/observable\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport { FlowGraphEventBlock } from \"../../flowGraphEventBlock\";\r\nimport type { Nullable } from \"../../../types\";\r\nimport { Tools } from \"../../../Misc/tools\";\r\nimport type { RichType } from \"../../flowGraphRichTypes\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\nimport { FlowGraphCoordinator } from \"core/FlowGraph/flowGraphCoordinator\";\r\n/**\r\n * Parameters used to create a FlowGraphReceiveCustomEventBlock.\r\n */\r\nexport interface IFlowGraphReceiveCustomEventBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The id of the event to receive.\r\n     * This event id is unique to the environment (not the context).\r\n     */\r\n    eventId: string;\r\n    /**\r\n     * The names of the data outputs for that event. Should be in the same order as the event data in\r\n     * SendCustomEvent\r\n     */\r\n    eventData: { [key: string]: { type: RichType<any> } };\r\n}\r\n\r\n/**\r\n * A block that receives a custom event.\r\n * It saves the event data in the data outputs, based on the provided eventData in the configuration. For example, if the event data is\r\n * `{ x: { type: RichTypeNumber }, y: { type: RichTypeNumber } }`, the block will have two data outputs: x and y.\r\n */\r\nexport class FlowGraphReceiveCustomEventBlock extends FlowGraphEventBlock {\r\n    public override initPriority: number = 1;\r\n\r\n    constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphReceiveCustomEventBlockConfiguration\r\n    ) {\r\n        super(config);\r\n        // use event data to register data outputs\r\n        for (const key in this.config.eventData) {\r\n            this.registerDataOutput(key, this.config.eventData[key].type);\r\n        }\r\n    }\r\n\r\n    public override _preparePendingTasks(context: FlowGraphContext): void {\r\n        const observable = context.configuration.coordinator.getCustomEventObservable(this.config.eventId);\r\n        // check if we are not exceeding the max number of events\r\n        if (observable && observable.hasObservers() && observable.observers.length > FlowGraphCoordinator.MaxEventsPerType) {\r\n            this._reportError(context, `FlowGraphReceiveCustomEventBlock: Too many observers for event ${this.config.eventId}. Max is ${FlowGraphCoordinator.MaxEventsPerType}.`);\r\n            return;\r\n        }\r\n\r\n        const eventObserver = observable.add((eventData: { [key: string]: any }) => {\r\n            const keys = Object.keys(eventData);\r\n            for (const key of keys) {\r\n                this.getDataOutput(key)?.setValue(eventData[key], context);\r\n            }\r\n            this._execute(context);\r\n        });\r\n        context._setExecutionVariable(this, \"_eventObserver\", eventObserver);\r\n    }\r\n    public override _cancelPendingTasks(context: FlowGraphContext): void {\r\n        const observable = context.configuration.coordinator.getCustomEventObservable(this.config.eventId);\r\n        if (observable) {\r\n            const eventObserver = context._getExecutionVariable<Nullable<Observer<any[]>>>(this, \"_eventObserver\", null);\r\n            observable.remove(eventObserver);\r\n        } else {\r\n            Tools.Warn(`FlowGraphReceiveCustomEventBlock: Missing observable for event ${this.config.eventId}`);\r\n        }\r\n    }\r\n\r\n    public override _executeEvent(_context: FlowGraphContext, _payload: any): boolean {\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.ReceiveCustomEvent;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.ReceiveCustomEvent, FlowGraphReceiveCustomEventBlock);\r\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAEhE,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAG5C,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AAExD,OAAO,EAAE,oBAAoB,EAAE,sCAA4C;;;;;AAsBrE,MAAO,gCAAiC,SAAQ,kQAAmB;IAGrE,YACI;;OAEG,CACa,MAAsD,CAAA;QAEtE,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAAgD;QAN1D,IAAA,CAAA,YAAY,GAAW,CAAC,CAAC;QASrC,0CAA0C;QAC1C,IAAK,MAAM,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAE,CAAC;YACtC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QAClE,CAAC;IACL,CAAC;IAEe,oBAAoB,CAAC,OAAyB,EAAA;QAC1D,MAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACnG,yDAAyD;QACzD,IAAI,UAAU,IAAI,UAAU,CAAC,YAAY,EAAE,IAAI,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,oQAAoB,CAAC,gBAAgB,EAAE,CAAC;YACjH,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAA,+DAAA,EAAkE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA,SAAA,EAAY,oQAAoB,CAAC,gBAAgB,CAAA,CAAA,CAAG,CAAC,CAAC;YACtK,OAAO;QACX,CAAC;QAED,MAAM,aAAa,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,SAAiC,EAAE,EAAE;YACvE,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACpC,KAAK,MAAM,GAAG,IAAI,IAAI,CAAE,CAAC;gBACrB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;YAC/D,CAAC;YACD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,qBAAqB,CAAC,IAAI,EAAE,gBAAgB,EAAE,aAAa,CAAC,CAAC;IACzE,CAAC;IACe,mBAAmB,CAAC,OAAyB,EAAA;QACzD,MAAM,UAAU,GAAG,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACnG,IAAI,UAAU,EAAE,CAAC;YACb,MAAM,aAAa,GAAG,OAAO,CAAC,qBAAqB,CAA4B,IAAI,EAAE,gBAAgB,EAAE,IAAI,CAAC,CAAC;YAC7G,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACrC,CAAC,MAAM,CAAC;YACJ,iOAAK,CAAC,IAAI,CAAC,CAAA,+DAAA,EAAkE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;QACxG,CAAC;IACL,CAAC;IAEe,aAAa,CAAC,QAA0B,EAAE,QAAa,EAAA;QACnE,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,mCAAA,0CAAA,GAA8C;IAClD,CAAC;CACJ;IACD,6OAAa,EAAA,mCAAA,0CAAA,KAAyC,gCAAgC,CAAC,CAAC"}},
    {"offset": {"line": 7768, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSendCustomEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphSendCustomEventBlock.ts"],"sourcesContent":["import type { RichType } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../flowGraphExecutionBlockWithOutSignal\";\r\nimport type { FlowGraphContext } from \"../../flowGraphContext\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport type { IFlowGraphBlockConfiguration } from \"../../flowGraphBlock\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\n\r\n/**\r\n * Parameters used to create a FlowGraphSendCustomEventBlock.\r\n */\r\nexport interface IFlowGraphSendCustomEventBlockConfiguration extends IFlowGraphBlockConfiguration {\r\n    /**\r\n     * The id of the event to send.\r\n     * Note - in the glTF specs this is an index to the event array (i.e. - a number)\r\n     */\r\n    eventId: string;\r\n    /**\r\n     * The names of the data inputs for that event.\r\n     */\r\n    eventData: { [key: string]: { type: RichType<any>; value?: any } };\r\n}\r\n/**\r\n * A block that sends a custom event.\r\n * To receive this event you need to use the ReceiveCustomEvent block.\r\n * This block has no output, but does have inputs based on the eventData from the configuration.\r\n * @see FlowGraphReceiveCustomEventBlock\r\n */\r\nexport class FlowGraphSendCustomEventBlock extends FlowGraphExecutionBlockWithOutSignal {\r\n    public constructor(\r\n        /**\r\n         * the configuration of the block\r\n         */\r\n        public override config: IFlowGraphSendCustomEventBlockConfiguration\r\n    ) {\r\n        super(config);\r\n        for (const key in this.config.eventData) {\r\n            this.registerDataInput(key, this.config.eventData[key].type, this.config.eventData[key].value);\r\n        }\r\n    }\r\n\r\n    public _execute(context: FlowGraphContext): void {\r\n        const eventId = this.config.eventId;\r\n        // eventData is a map with the key being the data input's name, and value being the data input's value\r\n        const eventData: any = {};\r\n        for (const port of this.dataInputs) {\r\n            eventData[port.name] = port.getValue(context);\r\n        }\r\n\r\n        context.configuration.coordinator.notifyCustomEvent(eventId, eventData);\r\n\r\n        this.out._activateSignal(context);\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.ReceiveCustomEvent;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.ReceiveCustomEvent, FlowGraphSendCustomEventBlock);\r\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,oCAAoC,EAAE,MAAM,4CAA4C,CAAC;AAElG,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;;;AAwBlD,MAAO,6BAA8B,SAAQ,oSAAoC;IACnF,YACI;;OAEG,CACa,MAAmD,CAAA;QAEnE,KAAK,CAAC,MAAM,CAAC,CAAC;QAFE,IAAA,CAAA,MAAM,GAAN,MAAM,CAA6C;QAGnE,IAAK,MAAM,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAE,CAAC;YACtC,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;QACnG,CAAC;IACL,CAAC;IAEM,QAAQ,CAAC,OAAyB,EAAA;QACrC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QACpC,sGAAsG;QACtG,MAAM,SAAS,GAAQ,CAAA,CAAE,CAAC;QAC1B,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,UAAU,CAAE,CAAC;YACjC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAClD,CAAC;QAED,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,iBAAiB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QAExE,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,mCAAA,0CAAA,GAA8C;IAClD,CAAC;CACJ;IACD,6OAAa,EAAA,mCAAA,0CAAA,KAAyC,6BAA6B,CAAC,CAAC"}},
    {"offset": {"line": 7807, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSceneTickEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphSceneTickEventBlock.ts"],"sourcesContent":["import { FlowGraphEventBlock } from \"../../flowGraphEventBlock\";\r\nimport type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\r\nimport { RegisterClass } from \"../../../Misc/typeStore\";\r\nimport { RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\r\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\r\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\r\nimport { FlowGraphEventType } from \"core/FlowGraph/flowGraphEventType\";\r\n\r\n/**\r\n * Payload for the scene tick event.\r\n */\r\nexport interface IFlowGraphOnTickEventPayload {\r\n    /**\r\n     * the time in seconds since the scene started.\r\n     */\r\n    timeSinceStart: number;\r\n    /**\r\n     * the time in seconds since the last frame.\r\n     */\r\n    deltaTime: number;\r\n}\r\n\r\n/**\r\n * Block that triggers on scene tick (before each render).\r\n */\r\nexport class FlowGraphSceneTickEventBlock extends FlowGraphEventBlock {\r\n    /**\r\n     * the time in seconds since the scene started.\r\n     */\r\n    public readonly timeSinceStart: FlowGraphDataConnection<number>;\r\n\r\n    /**\r\n     * the time in seconds since the last frame.\r\n     */\r\n    public readonly deltaTime: FlowGraphDataConnection<number>;\r\n\r\n    public override readonly type: FlowGraphEventType = FlowGraphEventType.SceneBeforeRender;\r\n\r\n    constructor() {\r\n        super();\r\n        this.timeSinceStart = this.registerDataOutput(\"timeSinceStart\", RichTypeNumber);\r\n        this.deltaTime = this.registerDataOutput(\"deltaTime\", RichTypeNumber);\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _preparePendingTasks(_context: FlowGraphContext): void {\r\n        // no-op\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _executeEvent(context: FlowGraphContext, payload: IFlowGraphOnTickEventPayload): boolean {\r\n        this.timeSinceStart.setValue(payload.timeSinceStart, context);\r\n        this.deltaTime.setValue(payload.deltaTime, context);\r\n        this._execute(context);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public override _cancelPendingTasks(_context: FlowGraphContext) {\r\n        // no-op\r\n    }\r\n\r\n    /**\r\n     * @returns class name of the block.\r\n     */\r\n    public override getClassName(): string {\r\n        return FlowGraphBlockNames.SceneTickEvent;\r\n    }\r\n}\r\nRegisterClass(FlowGraphBlockNames.SceneTickEvent, FlowGraphSceneTickEventBlock);\r\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAEhE,OAAO,EAAE,aAAa,EAAE,MAAM,yBAAyB,CAAC;AACxD,OAAO,EAAE,cAAc,EAAE,oCAA0C;;;;AAsB7D,MAAO,4BAA6B,SAAQ,kQAAmB;IAajE,aAAA;QACI,KAAK,EAAE,CAAC;QAHa,IAAA,CAAA,IAAI,GAAA,oBAAA,wCAAA,GAA4D;QAIrF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,4PAAc,CAAC,CAAC;QAChF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,4PAAc,CAAC,CAAC;IAC1E,CAAC;IAED;;OAEG,CACa,oBAAoB,CAAC,QAA0B,EAAA;IAC3D,QAAQ;IACZ,CAAC;IAED;;OAEG,CACa,aAAa,CAAC,OAAyB,EAAE,OAAqC,EAAA;QAC1F,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC;IAChB,CAAC;IAED;;OAEG,CACa,mBAAmB,CAAC,QAA0B,EAAA;IAC1D,QAAQ;IACZ,CAAC;IAED;;OAEG,CACa,YAAY,GAAA;QACxB,OAAA,+BAAA,sCAAA,GAA0C;IAC9C,CAAC;CACJ;IACD,6OAAa,EAAA,+BAAA,sCAAA,KAAqC,4BAA4B,CAAC,CAAC"}},
    {"offset": {"line": 7853, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphPointerOutEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphPointerOutEventBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport { FlowGraphEventBlock } from \"core/FlowGraph/flowGraphEventBlock\";\nimport { FlowGraphEventType } from \"core/FlowGraph/flowGraphEventType\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\nimport type { AbstractMesh } from \"core/Meshes/abstractMesh\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { RichTypeAny, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { _IsDescendantOf } from \"core/FlowGraph/utils\";\n\n/**\n * Configuration for the pointer out event block.\n */\nexport interface IFlowGraphPointerOutEventBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * Should this mesh block propagation of the event.\n     */\n    stopPropagation?: boolean;\n\n    /**\n     * The mesh to listen to. Can also be set by the asset input.\n     */\n    targetMesh?: AbstractMesh;\n}\n\n/**\n * Payload for the pointer out event.\n */\nexport interface IFlowGraphPointerOutEventPayload {\n    /**\n     * The pointer id.\n     */\n    pointerId: number;\n    /**\n     * The mesh that was picked.\n     */\n    mesh: AbstractMesh;\n\n    /**\n     * If populated, the hover event moved to this mesh from the `mesh` variable\n     */\n    over?: AbstractMesh;\n}\n\n/**\n * A pointe out event block.\n * This block can be used as an entry pointer to when a pointer is out of a specific target mesh.\n */\nexport class FlowGraphPointerOutEventBlock extends FlowGraphEventBlock {\n    /**\n     * Output connection: The pointer id.\n     */\n    public readonly pointerId: FlowGraphDataConnection<number>;\n\n    /**\n     * Input connection: The mesh to listen to.\n     */\n    public readonly targetMesh: FlowGraphDataConnection<AbstractMesh>;\n\n    /**\n     * Output connection: The mesh that the pointer is out of.\n     */\n    public readonly meshOutOfPointer: FlowGraphDataConnection<AbstractMesh>;\n\n    public override readonly type: FlowGraphEventType = FlowGraphEventType.PointerOut;\n\n    public constructor(config?: IFlowGraphPointerOutEventBlockConfiguration) {\n        super(config);\n        this.pointerId = this.registerDataOutput(\"pointerId\", RichTypeNumber);\n        this.targetMesh = this.registerDataInput(\"targetMesh\", RichTypeAny, config?.targetMesh);\n        this.meshOutOfPointer = this.registerDataOutput(\"meshOutOfPointer\", RichTypeAny);\n    }\n\n    public override _executeEvent(context: FlowGraphContext, payload: IFlowGraphPointerOutEventPayload): boolean {\n        const mesh = this.targetMesh.getValue(context);\n        this.meshOutOfPointer.setValue(payload.mesh, context);\n        this.pointerId.setValue(payload.pointerId, context);\n        const skipEvent = payload.over && _IsDescendantOf(payload.mesh, mesh);\n        if (!skipEvent && (payload.mesh === mesh || _IsDescendantOf(payload.mesh, mesh))) {\n            this._execute(context);\n            return !this.config?.stopPropagation;\n        }\n        return true;\n    }\n    public override _preparePendingTasks(_context: FlowGraphContext): void {\n        // no-op\n    }\n    public override _cancelPendingTasks(_context: FlowGraphContext): void {\n        // no-op\n    }\n    public override getClassName() {\n        return FlowGraphBlockNames.PointerOutEvent;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.PointerOutEvent, FlowGraphPointerOutEventBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,mBAAmB,EAAE,qCAA2C;AAMzE,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,oCAA0C;AAChF,OAAO,EAAE,aAAa,EAAE,mCAA4B;AACpD,OAAO,EAAE,eAAe,EAAE,uBAA6B;;;;;AAwCjD,MAAO,6BAA8B,SAAQ,kQAAmB;IAkBlE,YAAmB,MAAoD,CAAA;QACnE,KAAK,CAAC,MAAM,CAAC,CAAC;QAHO,IAAA,CAAA,IAAI,GAAA,aAAA,iCAAA,GAAqD;QAI9E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,4PAAc,CAAC,CAAC;QACtE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,yPAAW,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;QACxF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,yPAAW,CAAC,CAAC;IACrF,CAAC;IAEe,aAAa,CAAC,OAAyB,EAAE,OAAyC,EAAA;QAC9F,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACpD,MAAM,SAAS,GAAG,OAAO,CAAC,IAAI,QAAI,gPAAe,EAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACtE,IAAI,CAAC,SAAS,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,QAAI,gPAAe,EAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC;YAC/E,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACvB,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,CAAC;QACzC,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACe,oBAAoB,CAAC,QAA0B,EAAA;IAC3D,QAAQ;IACZ,CAAC;IACe,mBAAmB,CAAC,QAA0B,EAAA;IAC1D,QAAQ;IACZ,CAAC;IACe,YAAY,GAAA;QACxB,OAAA,gCAAA,uCAAA,GAA2C;IAC/C,CAAC;CACJ;IAED,6OAAa,EAAA,gCAAA,uCAAA,KAAsC,6BAA6B,CAAC,CAAC"}},
    {"offset": {"line": 7899, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/flowGraphPointerOverEventBlock.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/flowGraphPointerOverEventBlock.ts"],"sourcesContent":["import type { FlowGraphContext } from \"core/FlowGraph/flowGraphContext\";\nimport { FlowGraphEventBlock } from \"core/FlowGraph/flowGraphEventBlock\";\nimport { FlowGraphEventType } from \"core/FlowGraph/flowGraphEventType\";\nimport { FlowGraphBlockNames } from \"../flowGraphBlockNames\";\nimport type { AbstractMesh } from \"core/Meshes/abstractMesh\";\nimport type { FlowGraphDataConnection } from \"core/FlowGraph/flowGraphDataConnection\";\nimport type { IFlowGraphBlockConfiguration } from \"core/FlowGraph/flowGraphBlock\";\nimport { RichTypeAny, RichTypeNumber } from \"core/FlowGraph/flowGraphRichTypes\";\nimport { RegisterClass } from \"core/Misc/typeStore\";\nimport { _IsDescendantOf } from \"core/FlowGraph/utils\";\n\n/**\n * Configuration for the pointer over event block.\n */\nexport interface IFlowGraphPointerOverEventBlockConfiguration extends IFlowGraphBlockConfiguration {\n    /**\n     * Should this mesh block propagation of the event.\n     */\n    stopPropagation?: boolean;\n\n    /**\n     * The mesh to listen to. Can also be set by the asset input.\n     */\n    targetMesh?: AbstractMesh;\n}\n\n/**\n * Payload for the pointer over event.\n */\nexport interface IFlowGraphPointerOverEventPayload {\n    /**\n     * The pointer id.\n     */\n    pointerId: number;\n    /**\n     * The mesh that was picked.\n     */\n    mesh: AbstractMesh;\n\n    /**\n     * If populated, the hover event moved from this mesh to the `mesh` variable\n     */\n    out?: AbstractMesh;\n}\n\n/**\n * A pointer over event block.\n * This block can be used as an entry pointer to when a pointer is over a specific target mesh.\n */\nexport class FlowGraphPointerOverEventBlock extends FlowGraphEventBlock {\n    /**\n     * Output connection: The pointer id.\n     */\n    public readonly pointerId: FlowGraphDataConnection<number>;\n\n    /**\n     * Input connection: The mesh to listen to.\n     */\n    public readonly targetMesh: FlowGraphDataConnection<AbstractMesh>;\n\n    /**\n     * Output connection: The mesh that is under the pointer.\n     */\n    public readonly meshUnderPointer: FlowGraphDataConnection<AbstractMesh>;\n\n    public override readonly type: FlowGraphEventType = FlowGraphEventType.PointerOver;\n\n    public constructor(config?: IFlowGraphPointerOverEventBlockConfiguration) {\n        super(config);\n        this.pointerId = this.registerDataOutput(\"pointerId\", RichTypeNumber);\n        this.targetMesh = this.registerDataInput(\"targetMesh\", RichTypeAny, config?.targetMesh);\n        this.meshUnderPointer = this.registerDataOutput(\"meshUnderPointer\", RichTypeAny);\n    }\n\n    public override _executeEvent(context: FlowGraphContext, payload: IFlowGraphPointerOverEventPayload): boolean {\n        const mesh = this.targetMesh.getValue(context);\n        this.meshUnderPointer.setValue(payload.mesh, context);\n        // skip if we moved from a mesh that is under the hierarchy of the target mesh\n        const skipEvent = payload.out && _IsDescendantOf(payload.out, mesh);\n        this.pointerId.setValue(payload.pointerId, context);\n        if (!skipEvent && (payload.mesh === mesh || _IsDescendantOf(payload.mesh, mesh))) {\n            this._execute(context);\n            return !this.config?.stopPropagation;\n        }\n        return true;\n    }\n    public override _preparePendingTasks(_context: FlowGraphContext): void {\n        // no-op\n    }\n    public override _cancelPendingTasks(_context: FlowGraphContext): void {\n        // no-op\n    }\n    public override getClassName() {\n        return FlowGraphBlockNames.PointerOverEvent;\n    }\n}\n\nRegisterClass(FlowGraphBlockNames.PointerOverEvent, FlowGraphPointerOverEventBlock);\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,mBAAmB,EAAE,qCAA2C;AAMzE,OAAO,EAAE,WAAW,EAAE,cAAc,EAAE,oCAA0C;AAChF,OAAO,EAAE,aAAa,EAAE,mCAA4B;AACpD,OAAO,EAAE,eAAe,EAAE,uBAA6B;;;;;AAwCjD,MAAO,8BAA+B,SAAQ,kQAAmB;IAkBnE,YAAmB,MAAqD,CAAA;QACpE,KAAK,CAAC,MAAM,CAAC,CAAC;QAHO,IAAA,CAAA,IAAI,GAAA,cAAA,kCAAA,GAAsD;QAI/E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,4PAAc,CAAC,CAAC;QACtE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,yPAAW,EAAE,MAAM,EAAE,UAAU,CAAC,CAAC;QACxF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,EAAE,yPAAW,CAAC,CAAC;IACrF,CAAC;IAEe,aAAa,CAAC,OAAyB,EAAE,OAA0C,EAAA;QAC/F,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC/C,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACtD,8EAA8E;QAC9E,MAAM,SAAS,GAAG,OAAO,CAAC,GAAG,QAAI,gPAAe,EAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,QAAI,gPAAe,EAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC;YAC/E,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YACvB,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,CAAC;QACzC,CAAC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACe,oBAAoB,CAAC,QAA0B,EAAA;IAC3D,QAAQ;IACZ,CAAC;IACe,mBAAmB,CAAC,QAA0B,EAAA;IAC1D,QAAQ;IACZ,CAAC;IACe,YAAY,GAAA;QACxB,OAAA,iCAAA,wCAAA,GAA4C;IAChD,CAAC;CACJ;IAED,6OAAa,EAAA,iCAAA,wCAAA,KAAuC,8BAA8B,CAAC,CAAC"}},
    {"offset": {"line": 7946, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/Event/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/Event/index.ts"],"sourcesContent":["export * from \"./flowGraphMeshPickEventBlock\";\r\nexport * from \"./flowGraphSceneReadyEventBlock\";\r\nexport * from \"./flowGraphReceiveCustomEventBlock\";\r\nexport * from \"./flowGraphSendCustomEventBlock\";\r\nexport * from \"./flowGraphSceneTickEventBlock\";\r\nexport * from \"./flowGraphPointerOutEventBlock\";\r\nexport * from \"./flowGraphPointerOverEventBlock\";\r\n"],"names":[],"mappings":";AAAA,cAAc,+BAA+B,CAAC;AAC9C,cAAc,iCAAiC,CAAC;AAChD,cAAc,oCAAoC,CAAC;AACnD,cAAc,iCAAiC,CAAC;AAChD,cAAc,gCAAgC,CAAC;AAC/C,cAAc,iCAAiC,CAAC;AAChD,cAAc,kCAAkC,CAAC"}},
    {"offset": {"line": 7965, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/flowGraphBlockNames.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/flowGraphBlockNames.ts"],"sourcesContent":["/**\n * Enum of all block names.\n * Note - if you add a new block, you must add it here, and must add it in the block factory!\n */\nexport const enum FlowGraphBlockNames {\n    PlayAnimation = \"FlowGraphPlayAnimationBlock\",\n    StopAnimation = \"FlowGraphStopAnimationBlock\",\n    PauseAnimation = \"FlowGraphPauseAnimationBlock\",\n    ValueInterpolation = \"FlowGraphInterpolationBlock\",\n    SceneReadyEvent = \"FlowGraphSceneReadyEventBlock\",\n    SceneTickEvent = \"FlowGraphSceneTickEventBlock\",\n    SendCustomEvent = \"FlowGraphSendCustomEventBlock\",\n    ReceiveCustomEvent = \"FlowGraphReceiveCustomEventBlock\",\n    MeshPickEvent = \"FlowGraphMeshPickEventBlock\",\n    PointerEvent = \"FlowGraphPointerEventBlock\",\n    PointerDownEvent = \"FlowGraphPointerDownEventBlock\",\n    PointerUpEvent = \"FlowGraphPointerUpEventBlock\",\n    PointerMoveEvent = \"FlowGraphPointerMoveEventBlock\",\n    PointerOverEvent = \"FlowGraphPointerOverEventBlock\",\n    PointerOutEvent = \"FlowGraphPointerOutEventBlock\",\n    E = \"FlowGraphEBlock\",\n    PI = \"FlowGraphPIBlock\",\n    Inf = \"FlowGraphInfBlock\",\n    NaN = \"FlowGraphNaNBlock\",\n    Random = \"FlowGraphRandomBlock\",\n    Add = \"FlowGraphAddBlock\",\n    Subtract = \"FlowGraphSubtractBlock\",\n    Multiply = \"FlowGraphMultiplyBlock\",\n    Divide = \"FlowGraphDivideBlock\",\n    Abs = \"FlowGraphAbsBlock\",\n    Sign = \"FlowGraphSignBlock\",\n    Trunc = \"FlowGraphTruncBlock\",\n    Floor = \"FlowGraphFloorBlock\",\n    Ceil = \"FlowGraphCeilBlock\",\n    Round = \"FlowGraphRoundBlock\",\n    Fraction = \"FlowGraphFractBlock\",\n    Negation = \"FlowGraphNegationBlock\",\n    Modulo = \"FlowGraphModuloBlock\",\n    Min = \"FlowGraphMinBlock\",\n    Max = \"FlowGraphMaxBlock\",\n    Clamp = \"FlowGraphClampBlock\",\n    Saturate = \"FlowGraphSaturateBlock\",\n    MathInterpolation = \"FlowGraphMathInterpolationBlock\",\n    Equality = \"FlowGraphEqualityBlock\",\n    LessThan = \"FlowGraphLessThanBlock\",\n    LessThanOrEqual = \"FlowGraphLessThanOrEqualBlock\",\n    GreaterThan = \"FlowGraphGreaterThanBlock\",\n    GreaterThanOrEqual = \"FlowGraphGreaterThanOrEqualBlock\",\n    IsNaN = \"FlowGraphIsNaNBlock\",\n    IsInfinity = \"FlowGraphIsInfBlock\",\n    DegToRad = \"FlowGraphDegToRadBlock\",\n    RadToDeg = \"FlowGraphRadToDegBlock\",\n    Sin = \"FlowGraphSinBlock\",\n    Cos = \"FlowGraphCosBlock\",\n    Tan = \"FlowGraphTanBlock\",\n    Asin = \"FlowGraphASinBlock\",\n    Acos = \"FlowGraphACosBlock\",\n    Atan = \"FlowGraphATanBlock\",\n    Atan2 = \"FlowGraphATan2Block\",\n    Sinh = \"FlowGraphSinhBlock\",\n    Cosh = \"FlowGraphCoshBlock\",\n    Tanh = \"FlowGraphTanhBlock\",\n    Asinh = \"FlowGraphASinhBlock\",\n    Acosh = \"FlowGraphACoshBlock\",\n    Atanh = \"FlowGraphATanhBlock\",\n    Exponential = \"FlowGraphExponentialBlock\",\n    Log = \"FlowGraphLogBlock\",\n    Log2 = \"FlowGraphLog2Block\",\n    Log10 = \"FlowGraphLog10Block\",\n    SquareRoot = \"FlowGraphSquareRootBlock\",\n    CubeRoot = \"FlowGraphCubeRootBlock\",\n    Power = \"FlowGraphPowerBlock\",\n    Length = \"FlowGraphLengthBlock\",\n    Normalize = \"FlowGraphNormalizeBlock\",\n    Dot = \"FlowGraphDotBlock\",\n    Cross = \"FlowGraphCrossBlock\",\n    Rotate2D = \"FlowGraphRotate2DBlock\",\n    Rotate3D = \"FlowGraphRotate3DBlock\",\n    Transpose = \"FlowGraphTransposeBlock\",\n    Determinant = \"FlowGraphDeterminantBlock\",\n    InvertMatrix = \"FlowGraphInvertMatrixBlock\",\n    MatrixMultiplication = \"FlowGraphMatrixMultiplicationBlock\",\n    BitwiseAnd = \"FlowGraphBitwiseAndBlock\",\n    BitwiseOr = \"FlowGraphBitwiseOrBlock\",\n    BitwiseXor = \"FlowGraphBitwiseXorBlock\",\n    BitwiseNot = \"FlowGraphBitwiseNotBlock\",\n    BitwiseLeftShift = \"FlowGraphBitwiseLeftShiftBlock\",\n    BitwiseRightShift = \"FlowGraphBitwiseRightShiftBlock\",\n    LeadingZeros = \"FlowGraphLeadingZerosBlock\",\n    TrailingZeros = \"FlowGraphTrailingZerosBlock\",\n    OneBitsCounter = \"FlowGraphOneBitsCounterBlock\",\n    Branch = \"FlowGraphBranchBlock\",\n    SetDelay = \"FlowGraphSetDelayBlock\",\n    CancelDelay = \"FlowGraphCancelDelayBlock\",\n    CallCounter = \"FlowGraphCallCounterBlock\",\n    Debounce = \"FlowGraphDebounceBlock\",\n    Throttle = \"FlowGraphThrottleBlock\",\n    DoN = \"FlowGraphDoNBlock\",\n    FlipFlop = \"FlowGraphFlipFlopBlock\",\n    ForLoop = \"FlowGraphForLoopBlock\",\n    MultiGate = \"FlowGraphMultiGateBlock\",\n    Sequence = \"FlowGraphSequenceBlock\",\n    Switch = \"FlowGraphSwitchBlock\",\n    WaitAll = \"FlowGraphWaitAllBlock\",\n    WhileLoop = \"FlowGraphWhileLoopBlock\",\n    ConsoleLog = \"FlowGraphConsoleLogBlock\",\n    Conditional = \"FlowGraphConditionalBlock\",\n    Constant = \"FlowGraphConstantBlock\",\n    TransformCoordinatesSystem = \"FlowGraphTransformCoordinatesSystemBlock\",\n    GetAsset = \"FlowGraphGetAssetBlock\",\n    GetProperty = \"FlowGraphGetPropertyBlock\",\n    SetProperty = \"FlowGraphSetPropertyBlock\",\n    GetVariable = \"FlowGraphGetVariableBlock\",\n    SetVariable = \"FlowGraphSetVariableBlock\",\n    JsonPointerParser = \"FlowGraphJsonPointerParserBlock\",\n    CombineVector2 = \"FlowGraphCombineVector2Block\",\n    CombineVector3 = \"FlowGraphCombineVector3Block\",\n    CombineVector4 = \"FlowGraphCombineVector4Block\",\n    CombineMatrix = \"FlowGraphCombineMatrixBlock\",\n    CombineMatrix2D = \"FlowGraphCombineMatrix2DBlock\",\n    CombineMatrix3D = \"FlowGraphCombineMatrix3DBlock\",\n    ExtractVector2 = \"FlowGraphExtractVector2Block\",\n    ExtractVector3 = \"FlowGraphExtractVector3Block\",\n    ExtractVector4 = \"FlowGraphExtractVector4Block\",\n    ExtractMatrix = \"FlowGraphExtractMatrixBlock\",\n    ExtractMatrix2D = \"FlowGraphExtractMatrix2DBlock\",\n    ExtractMatrix3D = \"FlowGraphExtractMatrix3DBlock\",\n    TransformVector = \"FlowGraphTransformVectorBlock\",\n    TransformCoordinates = \"FlowGraphTransformCoordinatesBlock\",\n    Conjugate = \"FlowGraphConjugateBlock\",\n    AngleBetween = \"FlowGraphAngleBetweenBlock\",\n    QuaternionFromAxisAngle = \"FlowGraphQuaternionFromAxisAngleBlock\",\n    AxisAngleFromQuaternion = \"FlowGraphAxisAngleFromQuaternionBlock\",\n    QuaternionFromDirections = \"FlowGraphQuaternionFromDirectionsBlock\",\n    MatrixDecompose = \"FlowGraphMatrixDecompose\",\n    MatrixCompose = \"FlowGraphMatrixCompose\",\n    BooleanToFloat = \"FlowGraphBooleanToFloat\",\n    BooleanToInt = \"FlowGraphBooleanToInt\",\n    FloatToBoolean = \"FlowGraphFloatToBoolean\",\n    IntToBoolean = \"FlowGraphIntToBoolean\",\n    IntToFloat = \"FlowGraphIntToFloat\",\n    FloatToInt = \"FlowGraphFloatToInt\",\n    Easing = \"FlowGraphEasingBlock\",\n    Context = \"FlowGraphContextBlock\",\n    ArrayIndex = \"FlowGraphArrayIndexBlock\",\n    CodeExecution = \"FlowGraphCodeExecutionBlock\",\n    IndexOf = \"FlowGraphIndexOfBlock\",\n    FunctionReference = \"FlowGraphFunctionReference\",\n    BezierCurveEasing = \"FlowGraphBezierCurveEasing\",\n    DataSwitch = \"FlowGraphDataSwitchBlock\",\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8124, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/Blocks/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/Blocks/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-restricted-imports */\r\nexport * from \"./Execution/index\";\r\nexport * from \"./Data/index\";\r\nexport * from \"./Event/index\";\r\nexport * from \"./flowGraphBlockFactory\";\r\nexport * from \"./flowGraphBlockNames\";\r\n"],"names":[],"mappings":"AAAA,2DAAA,EAA6D;AAC7D,cAAc,mBAAmB,CAAC;AAClC,cAAc,cAAc,CAAC;AAC7B,cAAc,eAAe,CAAC;AAC9B,cAAc,yBAAyB,CAAC;AACxC,cAAc,uBAAuB,CAAC"}},
    {"offset": {"line": 8139, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/CustomTypes/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/CustomTypes/index.ts"],"sourcesContent":["export * from \"./flowGraphInteger\";\nexport * from \"./flowGraphMatrix\";\n"],"names":[],"mappings":";AAAA,cAAc,oBAAoB,CAAC;AACnC,cAAc,mBAAmB,CAAC"}},
    {"offset": {"line": 8148, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@babylonjs+core@8.39.0/node_modules/@babylonjs/core/FlowGraph/index.js","sources":["file:///Users/shayanbozorgmanesh/Developer/kitchen-cpq-platform/node_modules/.pnpm/%40babylonjs%2Bcore%408.39.0/dev/core/src/FlowGraph/index.ts"],"sourcesContent":["export * from \"./flowGraph\";\r\nexport * from \"./flowGraphBlock\";\r\nexport * from \"./flowGraphSignalConnection\";\r\nexport * from \"./flowGraphExecutionBlock\";\r\nexport * from \"./flowGraphEventBlock\";\r\nexport * from \"./flowGraphRichTypes\";\r\nexport * from \"./flowGraphContext\";\r\nexport * from \"./flowGraphCoordinator\";\r\nexport * from \"./typeDefinitions\";\r\nexport * from \"./flowGraphConnection\";\r\nexport * from \"./flowGraphDataConnection\";\r\nexport * from \"./flowGraphAssetsContext\";\r\nexport * from \"./flowGraphParser\";\r\nexport * from \"./flowGraphPathConverter\";\r\nexport * from \"./flowGraphPathConverterComponent\";\r\nexport * from \"./flowGraphLogger\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./Blocks/index\";\r\n// eslint-disable-next-line @typescript-eslint/no-restricted-imports\r\nexport * from \"./CustomTypes/index\";\r\n"],"names":[],"mappings":";AAAA,cAAc,aAAa,CAAC;AAC5B,cAAc,kBAAkB,CAAC;AACjC,cAAc,6BAA6B,CAAC;AAC5C,cAAc,2BAA2B,CAAC;AAC1C,cAAc,uBAAuB,CAAC;AACtC,cAAc,sBAAsB,CAAC;AACrC,cAAc,oBAAoB,CAAC;AACnC,cAAc,wBAAwB,CAAC;AACvC,cAAc,mBAAmB,CAAC;AAClC,cAAc,uBAAuB,CAAC;AACtC,cAAc,2BAA2B,CAAC;AAC1C,cAAc,0BAA0B,CAAC;AACzC,cAAc,mBAAmB,CAAC;AAClC,cAAc,0BAA0B,CAAC;AACzC,cAAc,mCAAmC,CAAC;AAClD,cAAc,mBAAmB,CAAC;AAClC,oEAAoE;AACpE,cAAc,gBAAgB,CAAC;AAC/B,oEAAoE;AACpE,cAAc,qBAAqB,CAAC"}}]
}